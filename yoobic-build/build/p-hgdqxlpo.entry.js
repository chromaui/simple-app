import{r as t,c as s,h as e,H as i,g as r}from"./p-0d847530.js";import{bc as o,ba as a,b7 as n,co as c,cp as h,bs as l,br as p,t as d,ak as m,cq as u}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import"./p-d70b188c.js";import"./p-815d6c40.js";const y=class{constructor(e){t(this,e),this.start=5,this.animations=!0,this.finish=s(this,"finish",7)}componentWillLoad(){this.innerTimer=this.start,this.setCountDownTimer()}componentDidLoad(){if(this.animations)try{let t=new o({onComplete:()=>{}});t.delay(.5),t.from(this.getContainer(".middle-container"),1.5,{scale:2,opacity:0,repeat:0,ease:a.easeOut.config(1,.3)},0),t.fromTo(this.getContainer(".top-container .profile-container"),.5,{xPercent:-100,opacity:0},{ease:n.easeOut,xPercent:0,opacity:1},.5),t.fromTo(this.getContainer(".top-container .stats-container"),.3,{opacity:0},{opacity:1},.6),t.fromTo(this.getContainer(".bottom-container .profile-container"),.5,{xPercent:100,opacity:0},{ease:n.easeOut,xPercent:0,opacity:1},.7),t.fromTo(this.getContainer(".bottom-container .stats-container"),.3,{opacity:0},{opacity:1},.8),t.fromTo(this.getContainer(".countdown"),.5,{opacity:0},{opacity:1},0)}catch(t){}}getContainer(t){return this.host.shadowRoot.querySelector(t)}onTimeFinished(){if(this.animations)try{let t=new o({onComplete:()=>this.finish.emit()});t.to(this.getContainer(".top-container"),.5,{yPercent:-100},0),t.to(this.getContainer(".bottom-container"),.5,{yPercent:100},0),t.to(this.getContainer(".middle-container"),.2,{opacity:0},0)}catch(t){this.finish.emit()}else this.finish.emit()}getTimerParameters(t){return{countDownMode:!0,extraTitle:c(t,!1),circlePosition:"right",circleWidth:13}}setCountDownTimer(){let t=h(()=>{this.innerTimer--,this.timerElement.progressValue=this.innerTimer/this.start*100,this.timerElement.progressParameters=this.getTimerParameters(this.innerTimer),this.innerTimer<1&&(u(t.value),t.value=null,this.onTimeFinished())},1e3)}renderTimer(){return e("div",{class:"countdown"},e("yoo-progress-bar-core",{extraClasses:["timer","battle"],shape:"circle",progressValueFontSize:"large",progressValueColor:"text-light",progressValue:100,ref:t=>this.timerElement=t,progressParameters:this.getTimerParameters(this.innerTimer)}))}renderUserName(t,s){if(t&&t.user&&(t.user.firstName||t.user.lastName)){let i=[t.user.firstName,t.user.lastName].join(" ").trim();return e("div",{class:"user-name"+s},i)}if(t.user.username)return e("div",{class:"user-name"+s},t.user.username)}renderUser(t){let s=l()||p()?"l":"xl",i=l()||p()?" small-phone":"";return e("div",{class:"user-container"},e("div",{class:"profile-container"},e("yoo-avatar",{class:s,user:t.user,avatarIconSize:s}),this.renderUserName(t,i)),e("div",{class:"stats-container"},this.renderUserStats(t,"BATTLES",i),this.renderUserStats(t,"WINRATE",i)))}getTotal(t){return t.won+t.lost}getWinRate(t){const s=this.getTotal(t);return s?t.won/s*100:0}renderUserStats(t,s,i){return e("div",{class:"inner-container "+s.toLowerCase()},e("div",{class:"stat"+i},"BATTLES"===s?this.getTotal(t.stats):this.getWinRate(t.stats).toFixed(1)+" %"),e("div",{class:"title"+i},d(s)))}render(){return e(i,{class:m()},e("div",{class:"top-container"},this.renderTimer(),this.renderUser(this.user)),e("div",{class:{"middle-container":!0,"small-phone":l()||p()}},d("VS")),e("div",{class:"bottom-container"},this.renderUser(this.opponent)))}get host(){return r(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{display:-ms-flexbox;display:flex;position:absolute;top:0;right:0;bottom:0;left:0;-ms-flex-direction:column;flex-direction:column}:host .bottom-container,:host .top-container{-ms-flex:1;flex:1}:host .bottom-container .user-container,:host .top-container .user-container{padding:3.5625rem var(--padding-30,1.875rem)}:host .bottom-container .user-container .profile-container,:host .bottom-container .user-container .stats-container,:host .top-container .user-container .profile-container,:host .top-container .user-container .stats-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:var(--padding-20,1.25rem) 0;color:var(--always-light,#fff)}:host .bottom-container .user-container .profile-container,:host .top-container .user-container .profile-container{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}:host .bottom-container .user-container .profile-container .user-name,:host .top-container .user-container .profile-container .user-name{padding:0 var(--padding-20,1.25rem);font-size:var(--font-size-04,1.125rem);font-weight:var(--font-weight-03,700)}:host .bottom-container .user-container .profile-container .user-name.small-phone,:host .top-container .user-container .profile-container .user-name.small-phone{font-size:var(--font-size-03,1rem)}:host .bottom-container .user-container .stats-container,:host .top-container .user-container .stats-container{text-align:center}:host .bottom-container .user-container .stats-container .inner-container .stat,:host .top-container .user-container .stats-container .inner-container .stat{font-size:var(--font-size-07,1.75rem);font-weight:var(--font-weight-03,700)}:host .bottom-container .user-container .stats-container .inner-container .stat.small-phone,:host .top-container .user-container .stats-container .inner-container .stat.small-phone{font-size:var(--font-size-04,1.125rem)}:host .bottom-container .user-container .stats-container .inner-container .title,:host .top-container .user-container .stats-container .inner-container .title{color:var(--light-60,hsla(0,0%,100%,.6));font-size:var(--font-size-04,1.125rem)}:host .bottom-container .user-container .stats-container .inner-container .title.small-phone,:host .top-container .user-container .stats-container .inner-container .title.small-phone{font-size:var(--font-size-03,1rem)}:host .top-container{position:absolute;width:100%;height:100%;background-color:var(--danger-light,#f46885);-webkit-box-shadow:0 -16px 17px 0 rgba(0,0,0,.05);box-shadow:0 -16px 17px 0 rgba(0,0,0,.05);-webkit-clip-path:polygon(0 0,100% 0,100% 30%,0 70%);clip-path:polygon(0 0,100% 0,100% 30%,0 70%)}:host .top-container .user-container .profile-container{border-bottom:solid .4px var(--light-40,hsla(0,0%,100%,.4))}:host .top-container .user-container .stats-container .inner-container.battles{padding-right:3rem}:host .top-container .countdown{position:absolute;top:2rem;right:0;padding-right:var(--padding-30,1.875rem)}:host .middle-container{position:absolute;top:calc(50% - 2.8125rem);left:calc(50% - 2.8125rem);width:5.625rem;height:5.625rem;border-radius:50%;background-color:var(--always-light,#fff);color:var(--text-color,#807f83);font-size:var(--font-size-07,1.75rem);line-height:5.625rem;text-align:center;-webkit-box-shadow:0 6px 18px 0 rgba(0,0,0,.15);box-shadow:0 6px 18px 0 rgba(0,0,0,.15);z-index:1}:host .middle-container.small-phone{top:calc(50% - 2.1875rem);left:calc(50% - 2.1875rem);width:4.375rem;height:4.375rem;font-size:var(--font-size-04,1.125rem);line-height:4.375rem}:host .bottom-container{background-color:var(--accent,#1fb6ff);-webkit-clip-path:polygon(0 70%,100% 30%,100% 100%,0 100%);clip-path:polygon(0 70%,100% 30%,100% 100%,0 100%)}:host .bottom-container .user-container{display:-ms-flexbox;display:flex;position:absolute;right:0;bottom:0;-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host .bottom-container .user-container .profile-container,:host .bottom-container .user-container .stats-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host .bottom-container .user-container .profile-container{border-top:solid .4px var(--light-40,hsla(0,0%,100%,.4))}:host .bottom-container .user-container .profile-container .user-name{text-align:end}:host .bottom-container .user-container .stats-container .inner-container.battles{padding-left:3rem}"}};export{y as yoo_battle_count_down};