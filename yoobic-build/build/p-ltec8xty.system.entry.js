var __awaiter=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(i,o){function a(t){try{l(s.next(t))}catch(t){o(t)}}function r(t){try{l(s["throw"](t))}catch(t){o(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,r)}l((s=s.apply(t,e||[])).next())})};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,a;return a={next:r(0),throw:r(1),return:r(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return l([t,e])}}function l(a){if(s)throw new TypeError("Generator is already executing.");while(n)try{if(s=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t];i=0}finally{s=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,n,s,i,o,a,r,l,u,c,d,h;return{setters:[function(t){e=t.r;n=t.c;s=t.h;i=t.g},function(t){o=t.d5;a=t.dj;r=t.cF;l=t.t;u=t.aq;c=t.al;d=t.dk},function(){},function(){},function(){},function(t){h=t.dd},function(){}],execute:function(){var f=t("yoo_form_todo",function(){function t(t){e(this,t);this.validators=[];this.validityChanged=n(this,"validityChanged",7);this.inputBlurred=n(this,"inputBlurred",7);this.inputFocused=n(this,"inputFocused",7);this.inputChanged=n(this,"inputChanged",7);this.fetchCustomData=n(this,"fetchCustomData",7);this.fieldFetchData=n(this,"fieldFetchData",7)}t.prototype.setSlides=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){this.slidesTodo=t.todo;this.slidesTodoTask=t.todotask;return[2]})})};t.prototype.componentWillLoad=function(){o(this);this.fetchCustomData.emit()};t.prototype.onUpdateTodo=function(t){t.stopPropagation();this.value.values=t.detail;this.value=Object.assign({},this.value);a(this.value,this)};t.prototype.onClearTodo=function(t){var e=this;t.stopPropagation();r(l("DELETEAPCONFIRM"),[l("CANCEL"),l("OK")]).then(function(t){if(t){e.value=null;a(e.value,e)}})};t.prototype.onOpenModal=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n;var s=this;return __generator(this,function(i){switch(i.label){case 0:if(!(this.slidesTodo&&this.slidesTodo.length>0))return[3,3];if(!this.linked)return[3,2];this.value=this.value||{};t=u(this.host,"yoo-form-dynamic");return[4,t.findPreviousValue(this.name)];case 1:e=i.sent();this.value.field=e.field;this.value.fieldValue=e.value;this.value.fieldExtra=e.extra;i.label=2;case 2:n=document.createElement("yoo-form-todo-dialog");n.todo=this.value;n.slidesTodo=this.slidesTodo;n.slidesTodoTask=this.slidesTodoTask;n.allPhotosRequired=this.allPhotosRequired;n.allowLibrary=this.allowLibrary;n.values=this.values;n.linked=this.linked;n.onFieldFetchData=function(t){s.fieldFetchData.emit(t)};c(n).then(function(t){if(t&&t.data){a(t.data,s)}n=null});i.label=3;case 3:return[2]}})})};t.prototype.convertToNumber=function(t){if(t&&t.slice){return Number(t.slice(-1))}return null};t.prototype.renderTasks=function(){return this.value.values.map(function(t){var e=d(t.finished);return[s("div",{class:"task"},s("div",{class:"task-part"},t.text.value?s("div",{class:e.style},s("yoo-icon",{class:e.icon}),s("span",{class:"text "+e.breakText},t.text.value)):null,t.duedate&&t.duedate.value?s("div",{class:"subtitle"},s("span",{class:"date-label"},l("DUEDATE"),":"),s("span",null," ",h.dateFormat.transform(t.duedate.value,"L"))):null),s("div",{class:"task-part"},t.comments&&t.comments.value?s("div",{class:"subtitle"}," ",t.comments.value):null,t.finished&&t.finished.date?s("div",{class:"subtitle"},s("span",{class:"date-label"},l("FINISHEDDATE"),":"),s("span",null," ",h.dateFormat.transform(t.finished.date,"L LT"))):null,t.hasphoto?s("div",{class:"subtitle photo cursor"}):null,t.userComments?s("div",{class:"subtitle"}," ",t.userComments):null)),s("div",{class:"border"})]})};t.prototype.renderReadonly=function(){var t=this;return s("div",{class:"readonly"},this.value&&this.value.values&&this.value.values.length>0?s("yoo-form-todo-single",{class:"readonly",type:"form",readonly:this.readonly,values:this.value.values,onUpdate:function(e){return t.onUpdateTodo(e)}}):null)};t.prototype.renderEditable=function(){var t=this;if(this.value&&this.value.title){return s("div",{class:"newtodo nomargin",onClick:function(e){return t.onOpenModal()}},s("div",{class:"success margin-right"},l("EDIT")),s("div",{class:"flex"}," "," "+this.value.title),s("div",{class:"icon"},s("yoo-icon",{class:"yo-cross",onClick:function(e){return t.onClearTodo(e)}})))}else{return s("div",{class:"success newtodo nomargin",onClick:function(e){return t.onOpenModal()}},s("div",{class:"icon"},s("yoo-icon",{class:"yo-plus"})),l("ADDTODO"))}};t.prototype.render=function(){return this.readonly?this.renderReadonly():this.renderEditable()};Object.defineProperty(t.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container yoo-button{--margin-container:auto}:host yoo-icon{font-size:var(--font-size-03,1rem)}:host .border{width:100%;height:0;border-top:1px solid var(--stable-40,hsla(0,0%,67.8%,.4))}:host .newtodo{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;margin-top:.875rem;font-size:var(--font-size-03,1rem)}:host .newtodo.nomargin{margin-top:0}:host .newtodo .margin-right{margin-right:.5rem}:host .newtodo .success{color:var(--success,#04cc99)}:host .newtodo .icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-right:.125rem}:host .newtodo .icon .yo-cross,:host .newtodo .icon .yo-plus{font-size:var(--icon-size-01,1rem)}:host .newtodo .flex{-ms-flex:1;flex:1}:host .readonly .todo-container{margin-bottom:1.5625rem}:host .readonly .todo-container .content{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;margin:.6875rem 0 .5rem 0}:host .readonly .todo-container .content .content-left yoo-icon{margin-right:var(--padding-10,.625rem)}:host .readonly .todo-container .content .content-left yoo-icon.stable-alt{color:var(--stable-alt,#d0d0d0)}:host .readonly .todo-container .content .content-left .break-line{text-decoration:line-through}:host .readonly .todo-container .content .content-right{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .readonly .todo-container .content .content-right .date{color:var(--stable-alt,#d0d0d0);font-size:var(--font-size-02,.875rem);font-weight:var(--font-weight-01,300)}:host .readonly .todo-container .comments{margin-bottom:var(--padding-15,.9375rem);color:var(--stable,#adadad);font-size:var(--font-size-02,.875rem);font-weight:var(--font-weight-01,300)}:host .readonly .todo-container .photo-container{margin-bottom:.875rem}:host .readonly .todo-container .comment-container{margin-top:.875rem}:host .readonly .todo-container .comment-container .yo-comment{font-size:var(--font-size-05,1.25rem)}:host .readonly .todo-container .textarea-container{margin-top:var(--padding-10,.625rem)}:host .readonly .todo-container .border{width:100%;height:0;border-top:1px solid var(--stable-40,hsla(0,0%,67.8%,.4));margin-bottom:var(--padding-10,.625rem)}"},enumerable:true,configurable:true});return t}())}}});