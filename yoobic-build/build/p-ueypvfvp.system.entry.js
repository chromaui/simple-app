var __awaiter=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(n,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function c(e){try{l(o["throw"](e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(r,c)}l((o=o.apply(e,t||[])).next())})};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,n,s,r;return r={next:c(0),throw:c(1),return:c(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function c(e){return function(t){return l([e,t])}}function l(r){if(o)throw new TypeError("Generator is already executing.");while(i)try{if(o=1,n&&(s=r[0]&2?n["return"]:r[0]?n["throw"]||((s=n["return"])&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;if(n=0,s)r=[r[0]&2,s.value];switch(r[0]){case 0:case 1:s=r;break;case 4:i.label++;return{value:r[1],done:false};case 5:i.label++;n=r[1];r=[0];continue;case 7:r=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(r[0]===6||r[0]===2)){i=0;continue}if(r[0]===3&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(r[0]===6&&i.label<s[1]){i.label=s[1];s=r;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(r);break}if(s[2])i.ops.pop();i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e];n=0}finally{o=s=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js","./p-80864bf9.system.js"],function(e){"use strict";var t,i,o,n,s,r,c,l;return{setters:[function(e){t=e.r;i=e.c;o=e.h;n=e.H;s=e.g},function(e){r=e.b9;c=e.t},function(){},function(){},function(){},function(){},function(){},function(e){l=e.S}],execute:function(){var a=e("yoo_section_list",function(){function e(e){t(this,e);this.itemActions=[];this.isSelectionMode=false;this.selectedItems=[];this.sectionOrderChanged=i(this,"sectionOrderChanged",7);this.itemOrderChanged=i(this,"itemOrderChanged",7);this.selectedItemsChanged=i(this,"selectedItemsChanged",7);this.sectionDeleted=i(this,"sectionDeleted",7)}e.prototype.onDocumentClicked=function(e){var t=e.composedPath().reduce(function(e,t){return t.classList&&t.classList.contains("section-dialog")||e},false);if(!t){this.hideSectionDialog()}};e.prototype.searchFilter=function(e){return __awaiter(this,void 0,void 0,function(){var t,i,o;return __generator(this,function(n){e=e||"";t=new RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");i=function(e){return t.test(e)};o=this.sectionEls.map(function(e){return{sectionEl:e,itemEls:Array.from(e.querySelectorAll(".item"))}});this.sections.forEach(function(e,t){var n=false;e.items.forEach(function(e,s){var r=e.columns&&e.columns.length&&e.columns.reduce(function(e,t){return e||i(t.value)},false);var c=r||e.title&&i(e.title)||e.text&&i(e.text);n=c||n;o[t].itemEls[s].classList[c?"remove":"add"]("hidden")});o[t].sectionEl.classList[n?"remove":"add"]("hidden")});return[2]})})};e.prototype.toggleSelectionMode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){this.isSelectionMode=!this.isSelectionMode;if(!this.isSelectionMode&&this.selectedItems.length){this.selectedItems=[];this.selectedItemsChanged.emit({items:this.selectedItems,isToggling:false})}this.itemEls.forEach(function(e){e.classList.toggle("selectable");e.querySelector("yoo-form-radio").state="unchecked";var t=e.querySelector(".radio");if(e.classList.contains("selectable")){try{r.fromTo(t,.2,{width:0,paddingRight:0,paddingLeft:0},{width:"auto",paddingRight:"20px",paddingLeft:"10px"})}catch(e){}}else{try{r.fromTo(t,.2,{width:"auto",paddingRight:"20px",paddingLeft:"10px",display:"flex"},{width:0,paddingRight:0,paddingLeft:0,display:"flex"})}catch(e){}}});return[2]})})};e.prototype.componentDidLoad=function(){this.initSortable()};e.prototype.componentDidUpdate=function(){if(this.sectionSortable&&this.sectionSortable.destroy){this.sectionSortable.destroy()}if(this.itemSortables&&this.itemSortables.length){this.itemSortables.forEach(function(e){return e.destroy&&e.destroy()})}this.initSortable()};Object.defineProperty(e.prototype,"itemsParentEls",{get:function(){return Array.from(this.host.shadowRoot.querySelectorAll(".items"))},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"itemEls",{get:function(){return Array.from(this.host.shadowRoot.querySelectorAll(".item"))},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"sectionsParentEl",{get:function(){return this.host.shadowRoot.querySelector(".sections")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"sectionEls",{get:function(){return Array.from(this.host.shadowRoot.querySelectorAll(".section"))},enumerable:true,configurable:true});e.prototype.initSortable=function(){var e=this;try{this.sectionSortable=new l(this.sectionsParentEl,{handle:".section",group:"sections",animation:150,onEnd:this.getSectionSortableEndEvent()});var t=function(t){return new l(t,{handle:".item",group:"items",animation:150,fallbackOnBody:true,swapThreshold:.65,onStart:e.getItemSortableStartEvent(),onEnd:e.getItemSortableEndEvent()})};this.itemSortables=this.itemsParentEls.map(t)}catch(e){}};e.prototype.getItemSortableStartEvent=function(){var e=this;return function(t){var i=e.itemsParentEls;e.onMouseHoverToggle(i)}};e.prototype.getSectionSortableEndEvent=function(){var e=this;return function(t){var i={indexFrom:t.oldIndex,indexTo:t.newIndex};e.reflectSectionMovement(i);e.sectionOrderChanged.emit(i)}};e.prototype.getItemSortableEndEvent=function(){var e=this;return function(t){var i=e.itemsParentEls;var o={sectionIndexFrom:i.findIndex(function(e){return e===t.from}),sectionIndexTo:i.findIndex(function(e){return e===t.to}),itemIndexFrom:t.oldIndex,itemIndexTo:t.newIndex};e.onMouseHoverToggle(i);e.reflectItemMovement(o);e.itemOrderChanged.emit(o)}};e.prototype.onMouseHoverToggle=function(e){e.forEach(function(e){var t=e.querySelectorAll(".item");t.forEach(function(e){return e.classList.toggle("no-mousehover")})})};e.prototype.reflectSectionMovement=function(e){var t=this.sections[e.indexFrom];this.sections.splice(e.indexFrom,1);this.sections.splice(e.indexTo,0,t)};e.prototype.reflectItemMovement=function(e){var t=this.sections[e.sectionIndexFrom].items[e.itemIndexFrom];this.sections[e.sectionIndexFrom].items.splice(e.itemIndexFrom,1);this.sections[e.sectionIndexTo].items.splice(e.itemIndexTo,0,t);this.updateItemCountBadges()};e.prototype.updateItemCountBadges=function(){var e=this;this.sectionEls.forEach(function(t,i){var o=t.querySelector("yoo-badge.item-count");if(o){o.text=e.sections[i].items.length.toString()}})};e.prototype.toggleExpandSectionItems=function(e){var t=this.sections.findIndex(function(t){return t===e});var i=this.sectionEls;if(t===-1||!i||!i[t]){return}var o=i[t];if(!o){return}var n=o.querySelector(".expand");var s=o.querySelector(".items");if(!s){return}if(!o.classList.contains("closed")){try{r.to(s,.2,{height:0,paddingBottom:0})}catch(e){s.style.display="none"}n.classList.replace("yo-up","yo-down")}else{try{r.set(s,{height:"auto",paddingBottom:"15px"});r.from(s,.2,{height:0})}catch(e){s.style.display="block"}n.classList.replace("yo-down","yo-up")}o.classList.toggle("closed")};e.prototype.onRadioClicked=function(e,t){if(e.detail==="checked"){this.onItemSelected(t)}if(e.detail==="unchecked"){this.onItemUnselected(t)}};e.prototype.showSectionDialog=function(e,t){if(this.selectedDialogSection!==t){this.selectedDialogSection=t;var i=e.target;this.selectedDialogItemEls=Array.from(i.parentElement.parentElement.querySelectorAll(".item"));var o=i.offsetTop+i.clientHeight;this.dialogEl.style.top=o+"px";this.dialogEl.classList.remove("hidden");try{r.set(this.dialogEl,{height:"auto"});r.from(this.dialogEl,.2,{height:0})}catch(e){}e.stopPropagation()}else{this.hideSectionDialog()}};e.prototype.hideSectionDialog=function(){this.selectedDialogSection=null;this.selectedDialogItemEls=null;if(this.dialogEl){this.dialogEl.classList.add("hidden")}};e.prototype.onSectionSelectAllItems=function(){var e=this;if(this.selectedDialogSection&&this.selectedDialogItemEls){if(this.selectedDialogSection.items&&this.selectedDialogSection.items.length){this.selectedDialogSection.items.forEach(function(t){if(!e.selectedItems.includes(t)){e.selectedItems.push(t)}});this.selectedItemsChanged.emit({items:this.selectedItems,isToggling:true})}if(!this.isSelectionMode){this.toggleSelectionMode()}if(this.selectedDialogItemEls.length){this.selectedDialogItemEls.forEach(function(e){e.querySelector("yoo-form-radio").state="checked"})}this.hideSectionDialog()}};e.prototype.onItemSelected=function(e){this.selectedItems.push(e);this.selectedItemsChanged.emit({items:this.selectedItems,isToggling:false})};e.prototype.onItemUnselected=function(e){var t=this.selectedItems.indexOf(e);if(t!==-1){this.selectedItems.splice(t,1);this.selectedItemsChanged.emit({items:this.selectedItems,isToggling:false})}};e.prototype.onSectionDelete=function(){if(this.selectedDialogSection){this.sectionDeleted.emit(this.selectedDialogSection);this.hideSectionDialog()}};e.prototype.renderHeaders=function(){return o("div",{class:"headers"},this.headers.map(function(e){return o("div",null,c(e))}))};e.prototype.renderSection=function(e){var t=this;return o("div",{class:"section"},o("div",{class:"section-title"},o("yoo-badge",{class:"item-count large text-color round",text:e.items.length.toString()}),o("div",{class:"title"},e.title),o("yoo-icon",{class:"section-dialog yo-more-circle",onClick:function(i){return t.showSectionDialog(i,e)}}),o("yoo-icon",{class:"expand yo-up",onClick:function(i){return t.toggleExpandSectionItems(e)}})),o("div",{class:"items"},e.items.map(function(e){return t.renderSectionItem(e)})))};e.prototype.getItemMouseEnterAction=function(){return function(){this.classList.add("mousehover")}};e.prototype.getItemMouseLeaveAction=function(){return function(){this.classList.remove("mousehover")}};e.prototype.renderSectionItem=function(e){var t=this;return o("div",{class:"item",onMouseEnter:this.getItemMouseEnterAction(),onMouseLeave:this.getItemMouseLeaveAction()},o("div",{class:"radio"},o("yoo-form-radio",{class:"large stable-to-danger-light",onRadioClicked:function(i){return t.onRadioClicked(i,e)}})),o("div",{class:"lesson-container"},o("div",{class:"title-container"},o("div",{class:"title ellipsis-2"},e.title),o("div",{class:"description ellipsis-2"},e.text)),o("div",{class:"info-container"},e.columns&&e.columns.map(function(e){return t.renderSectionItemColumn(e)}))),this.renderItemActions(e))};e.prototype.renderSectionItemColumn=function(e){return o("div",{class:"column"},e.icon&&o("yoo-icon",{class:e.icon}),o("div",{class:"value"},e.value))};e.prototype.renderItemActions=function(e){var t=this;if(!e||!this.itemActions||!this.itemActions.length){return}return o("div",{class:"item-actions"},this.itemActions.map(function(i){return t.renderItemActionButton(i,e)}))};e.prototype.renderItemActionButton=function(e,t){return o("yoo-tooltip",{content:c(e.text),cssOnly:true,placement:"top"},o("div",{class:"icon-container danger-hover",onClick:function(){return e.handler(t)}},o("yoo-icon",{class:e.icon})))};e.prototype.render=function(){var e=this;if(!this.sections||!this.sections.length){return}return o(n,null,this.headers&&this.headers.length&&this.renderHeaders(),o("div",{class:"sections"},this.sections.map(function(t){return e.renderSection(t)})),o("div",{class:"dialog section-dialog hidden",ref:function(t){return e.dialogEl=t}},o("ul",{class:"menu"},o("li",{onClick:function(){return e.onSectionSelectAllItems()}},o("yoo-icon",{class:"yo-select-all"}),c("SELECTALLLESSONS")),o("li",{onClick:function(){return e.onSectionDelete()}},o("yoo-icon",{class:"yo-delete"}),c("DELETE")))))};Object.defineProperty(e.prototype,"host",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .headers{display:-ms-flexbox;display:flex;padding:0 var(--padding-40,2.5rem)}:host .headers div:first-child{-ms-flex:3;flex:3;padding-right:var(--padding-25,1.5625rem)}:host .headers div{-ms-flex:2.333;flex:2.333;padding-left:var(--padding-10,.625rem);font-size:var(--font-size-03,1rem);font-weight:var(--font-weight-03,700)}:host .sections .section{margin:var(--padding-20,1.25rem);border-radius:var(--border-radius-input,5px);background-color:var(--stable-light-40,hsla(0,0%,94.5%,.4))}:host .sections .section.hidden{display:none}:host .sections .section.sortable-drag .section-title,:host .sections .section.sortable-ghost .section-title{border-radius:var(--border-radius-input,5px)}:host .sections .section.sortable-drag .section-title yoo-icon,:host .sections .section.sortable-ghost .section-title yoo-icon{opacity:0}:host .sections .section.sortable-drag .items,:host .sections .section.sortable-ghost .items{display:none}:host .sections .section.sortable-drag .section-title{border:solid 2px var(--danger-light,#f46885);background-color:var(--light,#fff)}:host .sections .section.sortable-ghost .section-title{border:solid 2px var(--stable-alt,#d0d0d0);border-style:dashed;background-color:var(--stable-light-40,hsla(0,0%,94.5%,.4))}:host .sections .section.sortable-ghost .section-title .title,:host .sections .section.sortable-ghost .section-title yoo-badge{opacity:0}:host .sections .section .section-title{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:var(--padding-10,.625rem)}:host .sections .section .section-title .title{padding-left:.5rem;color:var(--text-color,#807f83);font-size:var(--font-size-03,1rem)}:host .sections .section .section-title yoo-icon{padding:0 var(--padding-10,.625rem);color:var(--text-color,#807f83)}:host .sections .section .section-title yoo-icon.yo-more-circle{margin-left:auto}:host .sections .section .items{padding-bottom:var(--padding-15,.9375rem);overflow:hidden}:host .sections .section .items .item{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:var(--padding-10,.625rem);overflow:hidden}:host .sections .section .items .item.hidden{display:none}:host .sections .section .items .item.selectable .radio{display:-ms-flexbox;display:flex;padding:0 var(--padding-20,1.25rem) 0 var(--padding-10,.625rem)}:host .sections .section .items .item.sortable-drag .radio,:host .sections .section .items .item.sortable-ghost .radio{opacity:0}:host .sections .section .items .item.sortable-drag .lesson-container{border:solid 2px var(--danger-light,#f46885)}:host .sections .section .items .item.sortable-ghost .lesson-container{border:solid 2px var(--stable-alt,#d0d0d0);border-style:dashed;background-color:var(--stable-light-40,hsla(0,0%,94.5%,.4))}:host .sections .section .items .item.sortable-ghost .lesson-container .info-container,:host .sections .section .items .item.sortable-ghost .lesson-container .title-container{opacity:0}:host .sections .section .items .item .radio{display:none;overflow:hidden}:host .sections .section .items .item .lesson-container{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;border:solid 1px var(--stable-light,#f1f1f1);border-radius:var(--video-border,8px);background-color:var(--light,#fff)}:host .sections .section .items .item .lesson-container .title-container{-ms-flex:3;flex:3;padding:var(--padding-20,1.25rem)}:host .sections .section .items .item .lesson-container .title-container .title{font-size:var(--font-size-04,1.125rem)}:host .sections .section .items .item .lesson-container .title-container .description{color:var(--text-color,#807f83);font-size:var(--font-size-03,1rem)}:host .sections .section .items .item .lesson-container .info-container{display:-ms-flexbox;display:flex;-ms-flex:7;flex:7}:host .sections .section .items .item .lesson-container .info-container .column{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:baseline;align-items:baseline}:host .sections .section .items .item .lesson-container .info-container .column .value{padding-left:var(--padding-10,.625rem);font-size:var(--font-size-04,1.125rem)}:host .sections .section .items .item .item-actions{display:none}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .lesson-container{background-color:var(--danger-light-20,rgba(244,104,133,.2))}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .item-actions{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;width:calc(100% - 3.75rem);padding:var(--padding-20,1.25rem) 0}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .item-actions yoo-tooltip{margin-right:var(--padding-5,.3125rem)}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .item-actions yoo-tooltip .icon-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:var(--padding-30,1.875rem);height:var(--padding-30,1.875rem);border-radius:50%;-webkit-box-shadow:0 5px 13px 0 rgba(40,47,54,.08);box-shadow:0 5px 13px 0 rgba(40,47,54,.08)}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .item-actions yoo-tooltip .icon-container:hover{background-color:var(--danger-light,#f46885)}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .item-actions yoo-tooltip .icon-container:hover yoo-icon{color:var(--light,#fff)}:host .sections .section .items .item.mousehover:not(.selectable):not(.sortable-drag):not(.sortable-ghost):not(.no-mousehover) .item-actions yoo-tooltip:last-child{margin-right:var(--padding-20,1.25rem)}:host .dialog{position:absolute;right:0;margin:.375rem var(--padding-10,.625rem) 0 0;border-radius:.25rem;background-color:var(--light,#fff);-webkit-box-shadow:0 5px 13px 0 rgba(40,47,54,.08);box-shadow:0 5px 13px 0 rgba(40,47,54,.08);overflow:hidden}:host .dialog.hidden{display:none}:host .dialog.not.hidden{display:block}:host .dialog .menu{list-style-type:none;margin:var(--padding-10,.625rem) 0;padding-right:var(--padding-25,1.5625rem);padding-left:var(--padding-10,.625rem);font-size:var(--font-size-02,.875rem)}:host .dialog .menu .yo-delete{padding-right:var(--padding-10,.625rem)}.ellipsis-2{display:-webkit-box;text-overflow:ellipsis;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}"},enumerable:true,configurable:true});return e}())}}});