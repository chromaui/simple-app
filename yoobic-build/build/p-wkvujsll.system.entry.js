var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(t){r(t)}}function u(t){try{c(o["throw"](t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,u)}c((o=o.apply(t,e||[])).next())})};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,i,r,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(t){return function(e){return c([t,e])}}function c(a){if(o)throw new TypeError("Generator is already executing.");while(n)try{if(o=1,i&&(r=a[0]&2?i["return"]:a[0]?i["throw"]||((r=i["return"])&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;if(i=0,r)a=[a[0]&2,r.value];switch(a[0]){case 0:case 1:r=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){n.label=a[1];break}if(a[0]===6&&n.label<r[1]){n.label=r[1];r=a;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(a);break}if(r[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t];i=0}finally{o=r=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,n,o,i,r,a,u,c,s,l;return{setters:[function(t){e=t.r;n=t.c;o=t.h;i=t.g},function(t){r=t.z;a=t.V;u=t.O;c=t.g0;s=t.d5;l=t.dj},function(){},function(){},function(){},function(){},function(){}],execute:function(){var p=t("yoo_form_emailreport",function(){function t(t){e(this,t);this.validators=[];this.validityChanged=n(this,"validityChanged",7);this.inputBlurred=n(this,"inputBlurred",7);this.inputFocused=n(this,"inputFocused",7);this.inputChanged=n(this,"inputChanged",7);this.fetchData=n(this,"fetchData",7)}t.prototype.updateValues=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,o,i;return __generator(this,function(s){if(this.formAutocomplete){if(e&&e.search&&e.search.currentPage===0){n=[];if(this.fieldValues&&this.fieldValues.length>0){n=n.concat(this.fieldValues)}if(r().selectedLocation&&a(r().selectedLocation.notificationemail)&&r().selectedLocation.notificationemail.length>0){n=n.concat(r().selectedLocation.notificationemail)}if(r().selectedLocation&&r().selectedLocation.contactemail){n.push(r().selectedLocation.contactemail)}if(r().user){t.unshift(r().user)}if(t&&t.length>0){o=t.map(function(t){return t.email||t.username||t._id});i=n.concat(o);n=i.filter(function(t){return t.includes(e.search.search)})}n=u(c(n));this.formAutocomplete.updateValues(n)}else{this.formAutocomplete.updateValues(t.map(function(t){return t.email||t.username||t._id}))}}return[2]})})};t.prototype.componentWillLoad=function(){s(this)};t.prototype.componentDidLoad=function(){this.value=this.value||[]};t.prototype.onFetchData=function(t){t.stopPropagation();this.fetchData.emit(t.detail)};t.prototype.onInputChanged=function(t){t.stopPropagation();if(t.detail&&t.detail.length>0){var e=u(c(t.detail));l(e,this)}else{l(null,this)}};t.prototype.onInputBlurred=function(t){t.stopPropagation();this.inputBlurred.emit(t.detail)};t.prototype.onInputFocused=function(t){t.stopPropagation();this.inputFocused.emit(t.detail)};t.prototype.onAutoCompleteValidityChanged=function(t){t.stopPropagation()};t.prototype.renderInput=function(){var t=this;return o("yoo-form-autocomplete",{ref:function(e){return t.formAutocomplete=e},multiple:true,value:this.value,iconPrefix:"yo-email",entityType:"emails",displayType:"card-list",onFetchData:function(e){return t.onFetchData(e)},onInputChanged:function(e){return t.onInputChanged(e)},onInputBlurred:function(e){return t.onInputBlurred(e)},onInputFocused:function(e){return t.onInputFocused(e)},onValidityChanged:function(e){return t.onAutoCompleteValidityChanged(e)},tags:this.tags,clearable:true,allowCustomTag:true,tabindex:this.inputTabIndex})};t.prototype.renderReadonly=function(){var t=u([].concat(this.value));if(t.length>0){return o("div",{class:"readonly"},[].concat(this.value).map(function(t){return o("div",{class:"email"},t)}))}return null};t.prototype.renderEditable=function(){return o("div",{class:"outer-container"},this.renderInput())};t.prototype.render=function(){return this.readonly?this.renderReadonly():this.renderEditable()};Object.defineProperty(t.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .subtitle{color:var(--text-color,#807f83)}:host .readonly{padding:.5rem;padding-left:0;padding-bottom:0}:host(.history) .readonly{padding:0!important}"},enumerable:true,configurable:true});return t}())}}});