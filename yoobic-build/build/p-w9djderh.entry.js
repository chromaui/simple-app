import{r as s,c as t,h as i,g as e}from"./p-0d847530.js";import{al as o,t as a,A as h}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import{by as p}from"./p-d70b188c.js";import"./p-815d6c40.js";const r=class{constructor(i){s(this,i),this.address=[],this.position={longitude:2.352222,latitude:48.856614},this.marker=[],this.useAppleMaps=t(this,"useAppleMaps",7),this.useGoogleMaps=t(this,"useGoogleMaps",7),this.useCityMapper=t(this,"useCityMapper",7),this.useCopyAddress=t(this,"useCopyAddress",7),this.openFullscreen=t(this,"openFullscreen",7),this.direction=t(this,"direction",7)}componentWillLoad(){this.setAddress(this.location.address),this.setLocationMarkers(this.location._geoloc[0],this.location._geoloc[1],this.location.address)}setAddress(s){this.address=s.split(",")}setLocationMarkers(s,t,i){this.position.longitude=s,this.position.latitude=t,this.marker[0]={longitude:s,latitude:t,selected:!0,address:i}}setOpeningTimes(){}onGetDirections(){this.location&&this.location._geoloc&&this.location._geoloc.length>1&&(p(this.location._geoloc[1],this.location._geoloc[0],this.location.title,this.location.address).then(s=>{switch(s){case"googlemaps":this.useGoogleMaps.emit(this.location);break;case"applemaps":this.useAppleMaps.emit(this.location);break;case"citymapper":this.useCityMapper.emit(this.location);break;case"copyaddress":this.useCopyAddress.emit(this.location)}}),this.direction.emit(this.location))}onOpenFullscreenMap(){let s=document.createElement("yoo-map");s.position=this.position,s.markers=this.marker,s.showControls=!0,s.isModal=!0,s.showGetDirectionsButton=!0;let t=s=>this.useAppleMaps.emit(s),i=s=>this.useGoogleMaps.emit(s),e=s=>this.useCityMapper.emit(s),a=s=>this.useCopyAddress.emit(s);s.addEventListener("useAppleMaps",t),s.addEventListener("useGoogleMaps",i),s.addEventListener("useCityMapper",e),s.addEventListener("useCopyAddress",a),o(s).then(()=>{s&&(s.removeEventListener("useAppleMaps",t),s.removeEventListener("useGoogleMaps",i),s.removeEventListener("useCityMapper",e),s.removeEventListener("useCopyAddress",a),s=null)}),this.openFullscreen.emit(this.location)}renderAddress(s){return i("div",{class:"text-line"},s)}render(){return i("div",{class:"outer-container"},i("div",{class:"background-image"},i("yoo-map",{showControls:!1,position:this.position,markers:this.marker})),i("div",{class:"content",onClick:()=>this.onOpenFullscreenMap()},i("div",{class:"text-line top"},a("MAP")),i("div",{class:"title"},a("ADDRESS"),this.address.map(s=>this.renderAddress(s))),i("div",{class:"title"})),i("div",{class:"footer"},i("yoo-button",{text:a("GETDIRECTIONS"),class:"link-transparent-success"+(h()?" x-medium":""),onClick:()=>this.onGetDirections()})))}get host(){return e(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;height:15.5rem;background:var(--light,#fff)}:host .outer-container .background-image{top:0;right:0;bottom:2.1rem;left:30%;position:absolute}:host .outer-container .content{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:justify;justify-content:space-between;height:100%;padding-left:var(--padding-15,.9375rem);background-image:-webkit-gradient(linear,right top,left top,from(var(--transparent-color,transparent)),color-stop(var(--transparent-color,transparent)),color-stop(var(--light,#fff)),to(var(--light,#fff)));background-image:linear-gradient(270deg,var(--transparent-color,transparent),var(--transparent-color,transparent),var(--light,#fff),var(--light,#fff));z-index:2}:host .outer-container .content .title{color:var(--stable,#adadad);font-size:var(--font-size-01,.75rem);text-transform:uppercase}:host .outer-container .content .text-line{color:var(--black,#000);font-size:var(--font-size-02,.875rem);text-transform:none}:host .outer-container .content .text-line.top{padding-top:var(--padding-20,1.25rem);font-size:var(--font-size-04,1.125rem);font-weight:var(--font-weight-03,700);line-height:1em}:host .outer-container .footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:2.4375rem;border-top:1px solid var(--stable-light,#f1f1f1);background:var(--light,#fff);z-index:2}"}};export{r as yoo_location_map};