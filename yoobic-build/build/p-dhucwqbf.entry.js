import{r as s}from"./p-0d847530.js";import{dv as t,dq as i,dr as o,ds as e}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-d70b188c.js";const r=class{constructor(t){s(this,t),this.modals=new Map,this.topOverlayID=0}modalWillPresent(s){this.modals.set(s.target.overlayId,s.target),this.topOverlayID=s.target.overlayId}modalWillDismiss(s){this.modals.delete(s.target.overlayId),this.topOverlayID=this.topOverlayID-1}escapeKeyUp(s){s&&s.key&&s.key.toLowerCase&&"escape"===s.key.toLowerCase()&&this.closeLastOpened()}async closeLastOpened(){let s=this.modals.get(this.topOverlayID);s&&s.classList.contains("modal")&&t(this.modals)}async getOpened(){return this.modals}async create(s){return i(document.createElement("yoo-ion-modal"),s,s.host)}async dismiss(s,t,i=-1){return o(s,t,this.modals,i,"YOO-ION-MODAL")}async getTop(){return e(this.modals)}};export{r as yoo_ion_modal_controller};