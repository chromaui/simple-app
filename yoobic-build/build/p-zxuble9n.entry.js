import{r as t,h as s,H as e,g as i}from"./p-0d847530.js";import{t as o,cE as l,cg as r,w as n}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import{al as h}from"./p-d70b188c.js";import"./p-815d6c40.js";const a=class{constructor(s){t(this,s),this.resultType="question",this.showHeader=!1,this.footerActions=[{type:"continue",text:o("CONTINUE"),cssClass:"danger-light",handler:()=>l(null)}]}componentWillLoad(){if("lesson"===this.resultType)if(this.result={img:this.validated?"medal":"sorry_star",title:this.validated?"LESSON_CONGRATULATIONS":"LESSON_FAILURE",text:this.validated?h(this.lessonType)?"LESSON_FINISH_TEXT":"LESSON_CONGRATULATIONS_TEXT":"LESSON_FAILURE_TEXT"},this.footerActions=[{type:"course",text:o("COURSE"),cssClass:"",handler:()=>l(null)}],this.validated&&this.nextLesson){let t=r(n(new Date,"minutes",this.nextLesson.duration||10));this.footerActions.push({type:"nextwithduration",text:o("NEXT_WITH_DURATION",{duration:t}),cssClass:"danger-light",handler:()=>l("NEXT")})}else this.nextLesson||(this.footerActions=[{text:o("FINISH"),cssClass:"danger-light",handler:()=>l("FINISH")}]);else"question"===this.resultType?this.result={img:this.validated?"celebration":"not_quite",title:this.validated?"QUESTION_CONGRATULATIONS":"QUESTION_FAILURE"}:"course"===this.resultType?(this.footerActions=[{type:"course",text:o("COURSE"),cssClass:"danger-light",handler:()=>l(null)}],this.result={img:this.validated?"trophy":"sorry_star",title:this.validated?"LESSON_CONGRATULATIONS":"LESSON_FAILURE",text:this.validated?"COURSE_CONGRATULATIONS_TEXT":"COURSE_FAILURE_TEXT"}):"timeout"===this.resultType&&(this.result={img:"time_up",title:"TIMESUP",text:"TIMESUPCONFIRM"})}renderBadge(t){return s("div",{class:"badge"},s("yoo-img",{src:"./assets/badges/"+t+".svg"}),s("div",{class:"badge-title"},o(t.toUpperCase())))}renderHeader(){return s("yoo-ion-toolbar",{color:"light"},s("yoo-ion-buttons",{slot:"start"},s("yoo-ion-button",{color:"text-color",class:"close button-clear",onClick:()=>l(null)},s("yoo-icon",{slot:"icon-only",class:"yo-close"}))))}renderQuestionResult(){return[s("h1",{class:"result-title"},o(this.result.title)),this.questionExplanation?s("div",{class:"result-text explanation"},this.questionExplanation):null,this.explanationDocument?s("div",{class:"document-title"},o("READOURDOCUMENT")):null,this.explanationDocument?s("yoo-form-document",{document:this.explanationDocument}):null]}renderProgress(){let t=`${this.earnedPoints||0}`;return this.points&&(t+=`/${this.points} `),s("yoo-badge",{"icon-left":"yo-star",text:t,class:"round energized"})}renderLessonResult(){return[this.validated&&this.earnedPoints>0&&this.renderProgress(),s("h1",{class:"result-title"},o(this.result.title)),s("div",{class:"result-text"},o(this.result.text,{title:this.lessonTitle,nbAnswered:this.nbAnswered,minForCompliance:this.lessonMinForCompliance||0}),this.earnedPoints>0?" "+o("EARNEDPOINTS_TEXT",{earnedPoints:this.earnedPoints}):"!"),this.earnedBadge&&this.validated?s("div",{class:"result-badge"},s("span",null,o("NEW_BADGE_COLLECTED"))," ",this.renderBadge(this.earnedBadge)):null]}renderFooter(){return s("yoo-form-footer",{buttons:this.footerActions})}render(){return s(e,{class:{validated:!0===this.validated,failed:!1===this.validated,timedout:void 0===this.validated,[`${this.resultType}`]:!0}},s("yoo-ion-scroll",{forceOverscroll:!1},this.showHeader?this.renderHeader():null,s("div",{class:"wall "+(this.showHeader?"with-header":"")},s("yoo-img",{src:"assets/states/"+this.result.img+".svg"})),"question"===this.resultType?this.renderQuestionResult():this.renderLessonResult(),s("div",{class:"scroll-spacer"})),",",this.renderFooter())}get host(){return i(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;background-color:var(--light,#fff)}:host yoo-ion-toolbar{--background:transparent}:host yoo-ion-scroll{-ms-flex-align:center;align-items:center}:host yoo-ion-scroll,:host yoo-ion-scroll .wall{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host yoo-ion-scroll .wall{-ms-flex-pack:center;justify-content:center;width:100%;min-height:14.8125rem;margin-bottom:10rem;mix-blend-mode:multiply;background-image:-webkit-gradient(linear,left bottom,left top,from(var(--light-to-dark-two,#fff)),to(var(--light_grey-to-dark-two,#f1f1f1)));background-image:linear-gradient(0deg,var(--light-to-dark-two,#fff),var(--light_grey-to-dark-two,#f1f1f1))}:host yoo-ion-scroll .wall.with-header{margin-top:-44px}:host yoo-ion-scroll .wall yoo-img{position:absolute;top:3.75rem;-ms-flex-item-align:center;align-self:center;min-width:10rem;min-height:14rem}:host yoo-ion-scroll .result-title{margin:.5rem 0 .9375rem 0;font-size:var(--font-size-09,2.25rem);font-weight:var(--font-weight-03,700);line-height:var(--font-size-09,2.25rem);text-align:center}:host yoo-ion-scroll .result-text{margin:0 3.75rem;color:var(--text-color,#807f83);line-height:1.5625rem;text-align:center}:host yoo-ion-scroll .result-text.explanation{margin-top:.9375rem}:host yoo-ion-scroll .result-badge{margin-top:1.875rem}:host yoo-ion-scroll .result-badge span{color:var(--black,#000);font-size:var(--font-size-03,1rem)}:host yoo-ion-scroll .result-badge .badge{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:auto;font-size:var(--font-size-01,.75rem)}:host yoo-ion-scroll .result-badge .badge yoo-img{min-height:50px;max-height:3rem;margin:var(--padding-10,.625rem) 0}:host yoo-ion-scroll .result-badge .badge .badge-title{text-align:center}:host yoo-ion-scroll .document-title{margin-top:1.875rem;font-size:var(--font-size-03,1rem);text-align:center}:host yoo-ion-scroll yoo-form-document{--outer-container-padding:0.9375rem 0.9375rem;width:calc(100% - .9375rem)}:host yoo-ion-scroll .scroll-spacer{min-height:5.75rem}:host(.validated) .wall{margin-bottom:9rem}:host(.validated) .wall yoo-img{height:31%}:host(.validated) .result-title{color:var(--energized,#fed05b)}:host(.question.validated) .wall yoo-img{top:7rem;min-width:12rem;height:26%;min-height:unset}:host(.failed) .wall yoo-img{height:23%;min-height:unset}:host(.failed) .result-title{color:var(--danger-light,#f46885)}:host(.question.failed) .wall{margin-bottom:11.7rem}:host(.question.failed) .wall yoo-img{top:9rem}:host(.lesson.failed) .wall yoo-img{top:6.4rem;height:29%}:host(.timedout) .result-title{color:var(--danger-light,#f46885)}:host(.timedout) .wall yoo-img{top:4.5rem;height:26%;min-height:unset}:host(.absolute){position:absolute;top:0;right:0;bottom:0;left:0}"}};export{a as yoo_lesson_question_result};