System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,n,o,i,r,s,a,h;return{setters:[function(t){e=t.r;n=t.h;o=t.H;i=t.g},function(t){r=t.cE;s=t.cZ;a=t.t;h=t.ak},function(){},function(){},function(){},function(){},function(){}],execute:function(){var c=function(){function t(t,e,n){this.x=t;this.y=e;this.time=n||Date.now()}t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0};return t}();var l=function(){function t(t,e,n,o,i,r){this.startPoint=t;this.control2=e;this.control1=n;this.endPoint=o;this.startWidth=i;this.endWidth=r}t.fromPoints=function(e,n){var o=this.calculateControlPoints(e[0],e[1],e[2]).c2;var i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],o,i,e[2],n.start,n.end)};t.calculateControlPoints=function(t,e,n){var o=t.x-e.x;var i=t.y-e.y;var r=e.x-n.x;var s=e.y-n.y;var a={x:(t.x+e.x)/2,y:(t.y+e.y)/2};var h={x:(e.x+n.x)/2,y:(e.y+n.y)/2};var l=Math.sqrt(o*o+i*i);var u=Math.sqrt(r*r+s*s);var v=a.x-h.x;var d=a.y-h.y;var f=u/(l+u);var p={x:h.x+v*f,y:h.y+d*f};var y=e.x-p.x;var m=e.y-p.y;return{c1:new c(a.x+y,a.y+m),c2:new c(h.x+y,h.y+m)}};t.prototype.length=function(){var t=10;var e=0;var n;var o;for(var i=0;i<=t;i+=1){var r=i/t;var s=this.point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x);var a=this.point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var h=s-n;var c=a-o;e+=Math.sqrt(h*h+c*c)}n=s;o=a}return e};t.prototype.point=function(t,e,n,o,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*o*(1-t)*t*t+i*t*t*t};return t}();function u(t,e){if(e===void 0){e=250}var n=0;var o=null;var i;var r;var s;var a=function(){n=Date.now();o=null;i=t.apply(r,s);if(!o){r=null;s=[]}};return function(){var h=[];for(var c=0;c<arguments.length;c++){h[c]=arguments[c]}var l=Date.now();var u=e-(l-n);r=this;s=h;if(u<=0||u>e){if(o){clearTimeout(o);o=null}n=l;i=t.apply(r,s);if(!o){r=null;s=[]}}else if(!o){o=window.setTimeout(a,u)}return i}}var v=function(){function t(e,n){var o=this;if(n===void 0){n={}}this.canvas=e;this.options=n;this._handleMouseDown=function(t){if(t.which===1){o._mouseButtonDown=true;o._strokeBegin(t)}};this._handleMouseMove=function(t){if(o._mouseButtonDown){o._strokeMoveUpdate(t)}};this._handleMouseUp=function(t){if(t.which===1&&o._mouseButtonDown){o._mouseButtonDown=false;o._strokeEnd(t)}};this._handleTouchStart=function(t){t.preventDefault();if(t.targetTouches.length===1){var e=t.changedTouches[0];o._strokeBegin(e)}};this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];o._strokeMoveUpdate(e)};this._handleTouchEnd=function(t){var e=t.target===o.canvas;if(e){t.preventDefault();var n=t.changedTouches[0];o._strokeEnd(n)}};this.velocityFilterWeight=n.velocityFilterWeight||.7;this.minWidth=n.minWidth||.5;this.maxWidth=n.maxWidth||2.5;this.throttle="throttle"in n?n.throttle:16;this.minDistance="minDistance"in n?n.minDistance:5;if(this.throttle){this._strokeMoveUpdate=u(t.prototype._strokeUpdate,this.throttle)}else{this._strokeMoveUpdate=t.prototype._strokeUpdate}this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2};this.penColor=n.penColor||"black";this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)";this.onBegin=n.onBegin;this.onEnd=n.onEnd;this._ctx=e.getContext("2d");this.clear();this.on()}t.prototype.clear=function(){var t=this._ctx;var e=this.canvas;t.fillStyle=this.backgroundColor;t.clearRect(0,0,e.width,e.height);t.fillRect(0,0,e.width,e.height);this._data=[];this._reset();this._isEmpty=true};t.prototype.fromDataURL=function(t,e,n){var o=this;if(e===void 0){e={}}var i=new Image;var r=e.ratio||window.devicePixelRatio||1;var s=e.width||this.canvas.width/r;var a=e.height||this.canvas.height/r;this._reset();i.onload=function(){o._ctx.drawImage(i,0,0,s,a);if(n){n()}};i.onerror=function(t){if(n){n(t)}};i.src=t;this._isEmpty=false};t.prototype.toDataURL=function(t,e){if(t===void 0){t="image/png"}switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}};t.prototype.on=function(){this.canvas.style.touchAction="none";this.canvas.style.msTouchAction="none";if(window.PointerEvent){this._handlePointerEvents()}else{this._handleMouseEvents();if("ontouchstart"in window){this._handleTouchEvents()}}};t.prototype.off=function(){this.canvas.style.touchAction="auto";this.canvas.style.msTouchAction="auto";this.canvas.removeEventListener("pointerdown",this._handleMouseDown);this.canvas.removeEventListener("pointermove",this._handleMouseMove);document.removeEventListener("pointerup",this._handleMouseUp);this.canvas.removeEventListener("mousedown",this._handleMouseDown);this.canvas.removeEventListener("mousemove",this._handleMouseMove);document.removeEventListener("mouseup",this._handleMouseUp);this.canvas.removeEventListener("touchstart",this._handleTouchStart);this.canvas.removeEventListener("touchmove",this._handleTouchMove);this.canvas.removeEventListener("touchend",this._handleTouchEnd)};t.prototype.isEmpty=function(){return this._isEmpty};t.prototype.fromData=function(t){var e=this;this.clear();this._fromData(t,function(t){var n=t.color,o=t.curve;return e._drawCurve({color:n,curve:o})},function(t){var n=t.color,o=t.point;return e._drawDot({color:n,point:o})});this._data=t};t.prototype.toData=function(){return this._data};t.prototype._strokeBegin=function(t){var e={color:this.penColor,points:[]};this._data.push(e);this._reset();this._strokeUpdate(t);if(typeof this.onBegin==="function"){this.onBegin(t)}};t.prototype._strokeUpdate=function(t){var e=t.clientX;var n=t.clientY;var o=this._createPoint(e,n);var i=this._data[this._data.length-1];var r=i.points;var s=r.length>0&&r[r.length-1];var a=s?o.distanceTo(s)<=this.minDistance:false;var h=i.color;if(!s||!(s&&a)){var c=this._addPoint(o);if(!s){this._drawDot({color:h,point:o})}else if(c){this._drawCurve({color:h,curve:c})}r.push({time:o.time,x:o.x,y:o.y})}};t.prototype._strokeEnd=function(t){this._strokeUpdate(t);if(typeof this.onEnd==="function"){this.onEnd(t)}};t.prototype._handlePointerEvents=function(){this._mouseButtonDown=false;this.canvas.addEventListener("pointerdown",this._handleMouseDown);this.canvas.addEventListener("pointermove",this._handleMouseMove);document.addEventListener("pointerup",this._handleMouseUp)};t.prototype._handleMouseEvents=function(){this._mouseButtonDown=false;this.canvas.addEventListener("mousedown",this._handleMouseDown);this.canvas.addEventListener("mousemove",this._handleMouseMove);document.addEventListener("mouseup",this._handleMouseUp)};t.prototype._handleTouchEvents=function(){this.canvas.addEventListener("touchstart",this._handleTouchStart);this.canvas.addEventListener("touchmove",this._handleTouchMove);this.canvas.addEventListener("touchend",this._handleTouchEnd)};t.prototype._reset=function(){this._lastPoints=[];this._lastVelocity=0;this._lastWidth=(this.minWidth+this.maxWidth)/2;this._ctx.fillStyle=this.penColor};t.prototype._createPoint=function(t,e){var n=this.canvas.getBoundingClientRect();return new c(t-n.left,e-n.top,(new Date).getTime())};t.prototype._addPoint=function(t){var e=this._lastPoints;e.push(t);if(e.length>2){if(e.length===3){e.unshift(e[0])}var n=this._calculateCurveWidths(e[1],e[2]);var o=l.fromPoints(e,n);e.shift();return o}return null};t.prototype._calculateCurveWidths=function(t,e){var n=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity;var o=this._strokeWidth(n);var i={end:o,start:this._lastWidth};this._lastVelocity=n;this._lastWidth=o;return i};t.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};t.prototype._drawCurveSegment=function(t,e,n){var o=this._ctx;o.moveTo(t,e);o.arc(t,e,n,0,2*Math.PI,false);this._isEmpty=false};t.prototype._drawCurve=function(t){var e=t.color,n=t.curve;var o=this._ctx;var i=n.endWidth-n.startWidth;var r=Math.floor(n.length())*2;o.beginPath();o.fillStyle=e;for(var s=0;s<r;s+=1){var a=s/r;var h=a*a;var c=h*a;var l=1-a;var u=l*l;var v=u*l;var d=v*n.startPoint.x;d+=3*u*a*n.control1.x;d+=3*l*h*n.control2.x;d+=c*n.endPoint.x;var f=v*n.startPoint.y;f+=3*u*a*n.control1.y;f+=3*l*h*n.control2.y;f+=c*n.endPoint.y;var p=n.startWidth+c*i;this._drawCurveSegment(d,f,p)}o.closePath();o.fill()};t.prototype._drawDot=function(t){var e=t.color,n=t.point;var o=this._ctx;var i=typeof this.dotSize==="function"?this.dotSize():this.dotSize;o.beginPath();this._drawCurveSegment(n.x,n.y,i);o.closePath();o.fillStyle=e;o.fill()};t.prototype._fromData=function(t,e,n){for(var o=0,i=t;o<i.length;o++){var r=i[o];var s=r.color,a=r.points;if(a.length>1){for(var h=0;h<a.length;h+=1){var l=a[h];var u=new c(l.x,l.y,l.time);this.penColor=s;if(h===0){this._reset()}var v=this._addPoint(u);if(v){e({color:s,curve:v})}}}else{this._reset();n({color:s,point:a[0]})}}};t.prototype._toSVG=function(){var t=this;var e=this._data;var n=Math.max(window.devicePixelRatio||1,1);var o=0;var i=0;var r=this.canvas.width/n;var s=this.canvas.height/n;var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString());a.setAttribute("height",this.canvas.height.toString());this._fromData(e,function(t){var e=t.color,n=t.curve;var o=document.createElement("path");if(!isNaN(n.control1.x)&&!isNaN(n.control1.y)&&!isNaN(n.control2.x)&&!isNaN(n.control2.y)){var i="M "+n.startPoint.x.toFixed(3)+","+n.startPoint.y.toFixed(3)+" "+("C "+n.control1.x.toFixed(3)+","+n.control1.y.toFixed(3)+" ")+(n.control2.x.toFixed(3)+","+n.control2.y.toFixed(3)+" ")+(n.endPoint.x.toFixed(3)+","+n.endPoint.y.toFixed(3));o.setAttribute("d",i);o.setAttribute("stroke-width",(n.endWidth*2.25).toFixed(3));o.setAttribute("stroke",e);o.setAttribute("fill","none");o.setAttribute("stroke-linecap","round");a.appendChild(o)}},function(e){var n=e.color,o=e.point;var i=document.createElement("circle");var r=typeof t.dotSize==="function"?t.dotSize():t.dotSize;i.setAttribute("r",r.toString());i.setAttribute("cx",o.x.toString());i.setAttribute("cy",o.y.toString());i.setAttribute("fill",n);a.appendChild(i)});var h="data:image/svg+xml;base64,";var c="<svg"+' xmlns="http://www.w3.org/2000/svg"'+' xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+o+" "+i+" "+r+" "+s+'"')+(' width="'+r+'"')+(' height="'+s+'"')+">";var l=a.innerHTML;if(l===undefined){var u=document.createElement("dummy");var v=a.childNodes;u.innerHTML="";for(var d=0;d<v.length;d+=1){u.appendChild(v[d].cloneNode(true))}l=u.innerHTML}var f="</svg>";var p=c+l+f;return h+btoa(p)};return t}();var d=t("yoo_form_signature_pad_dialog",function(){function t(t){e(this,t)}t.prototype.componentWillLoad=function(){this.localVaule=this.value};t.prototype.componentWillUpdate=function(){if(!this.isCanvasSetup){this.isCanvasSetup=true;if(!this.readonly){this.canvasSetup()}}};t.prototype.canvasSetup=function(){var t=this;var e=1;if(this.canvasEl&&this.signatureContainerDiv){this.canvasEl.width=this.signatureContainerDiv.clientWidth;this.canvasEl.height=this.signatureContainerDiv.clientHeight;this.canvasEl.getContext("2d").scale(e,e);this.signaturePad=new v(this.canvasEl,{backgroundColor:"#ffffff",penColor:"#000000",onBegin:function(){t.hasContent=true}});if(this.value){var n=new Image;n.crossOrigin="Anonymous";n.onload=function(){if(t.canvasEl){t.canvasEl.getContext("2d").drawImage(n,0,0,t.canvasEl.width,t.canvasEl.height)}};n.src=this.value;this.hasContent=true}}};t.prototype.onCancel=function(){r(this.value)};t.prototype.isInvalid=function(){return(!this.signaturePad||this.signaturePad.isEmpty())&&!this.localVaule};t.prototype.onSave=function(){var t;if(this.isInvalid()){t=this.isDirty?null:this.value}else if(this.signaturePad){t=this.signaturePad.toDataURL();r(t)}else{r(null)}};t.prototype.onClear=function(){if(this.signaturePad){this.signaturePad.clear()}this.hasContent=false;this.isDirty=true;this.localVaule=null};t.prototype.renderSignaturePad=function(){var t=this;return n("div",{class:"signature-container",ref:function(e){return t.signatureContainerDiv=e}},n("canvas",{ref:function(e){return t.canvasEl=e}}))};t.prototype.renderReadonly=function(){var t=this.host.clientWidth;var e=this.host.clientHeight;return this.value?n("yoo-img",{type:"back",class:"image",src:s(this.value,t,e,null,null,null,null,true)}):null};t.prototype.renderHeader=function(){var t=this;return n("yoo-header",{class:"shadow"},n("yoo-ion-toolbar",{color:"light"},n("yoo-ion-buttons",{slot:"start"},n("yoo-ion-button",{color:"text-color",class:"close button-clear",onClick:function(){return t.onCancel()}},n("yoo-icon",{slot:"icon-only",class:"yo-close"}))),n("yoo-title",null,a("SIGNATURE")),n("yoo-ion-buttons",{slot:"end",onClick:function(){return t.onSave()}},n("yoo-ion-button",{color:"success",disabled:this.isInvalid(),class:"button-clear"},a("DONE")))))};t.prototype.renderContent=function(){return n("div",{class:"signature-pad-dialog"},n("yoo-ion-content",{scrollEnabled:false,class:"bg-light"},this.readonly?this.renderReadonly():this.renderSignaturePad()))};t.prototype.renderBottom=function(){return this.readonly?null:n("div",{class:"signature-footer"},n("yoo-button",{text:a("DELETE"),onClick:this.onClear.bind(this),class:"block "+(this.hasContent?"stable-danger":"stable")}))};t.prototype.render=function(){return n(o,{class:h()},this.renderHeader(),this.renderContent(),this.renderBottom())};Object.defineProperty(t.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .signature-pad-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%}:host .signature-pad-dialog yoo-ion-content{overflow-y:hidden}:host .signature-pad-dialog yoo-ion-content .signature-container,:host .signature-pad-dialog yoo-ion-content .signature-container canvas{height:100%}:host .signature-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;width:100%;min-height:52px;background:var(--light,#fff);z-index:2}:host .image{width:100%;height:100%;margin-right:auto;margin-left:auto}:host(.iphone-x) .signature-footer{padding-bottom:var(--padding-30,1.875rem)}"},enumerable:true,configurable:true});return t}())}}});