System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(e){"use strict";var t,n,s,o,a,i,r,l,u,c,d,m,f;return{setters:[function(e){t=e.r;n=e.c;s=e.h;o=e.g},function(e){a=e.cw;i=e.cF;r=e.t;l=e.ao;u=e.i;c=e.b;d=e.o;m=e.fY},function(){},function(){},function(){},function(e){f=e.dd},function(){}],execute:function(){var h=e("yoo_form_todo_single",function(){function e(e){var s=this;t(this,e);this.type="mission";this.onCommentsChange=a(function(e,t){s.valuesState[t].userComments=e.detail;s.valuesState=s.valuesState.slice();s.update.emit(s.valuesState)});this.update=n(this,"update",7)}e.prototype.componentWillLoad=function(){this.valuesState=this.values;if(this.valuesState){this.valuesState.forEach(function(e){e.finished=e.finished||{value:null}})}this.showComments=new Array;if(this.values){for(var e=0;e<this.values.length;e++){this.showComments.push(false)}}};e.prototype.onIconClick=function(e,t,n){var s;if(e.isphotorequired){s=e.isphotorequired.value&&!e.imageData}var o=this.valuesState[t].finished;if(s){i(r("TASK"),[r("CANCEL"),r("CONFIRM")],"",r("MANDATORYPHOTO"));o.value=null;o.date=null}else if(o.value===n){o.value=null;o.date=null}else{o.value=n;o.date=new Date}this.valuesState=this.valuesState.slice();this.update.emit(this.valuesState)};e.prototype.onImageChanged=function(e,t){e.stopPropagation();this.valuesState[t].imageData=e.detail;this.valuesState=this.valuesState.slice();this.update.emit(this.valuesState)};e.prototype.onToggleComments=function(e,t){var n=this;if(!e.userComments){this.showComments[t]=!this.showComments[t];this.showComments=this.showComments.slice();if(this.showComments[t]){setTimeout(function(){n.onFocusComments(t)},200)}}};e.prototype.onFocusComments=function(e){var t=l(this.host,"yoo-form-text-area.index"+e);if(t){t.setFocus()}};e.prototype.onCommentFocused=function(e){if(u()&&c()&&e&&this.parentScroll&&this.textareaContainer){this.textareaContainer.setAttribute("style","margin-bottom: 400px;");this.parentScroll.scrollToBottom(100)}else if(u()&&c()&&this.textareaContainer&&!e){this.textareaContainer.setAttribute("style","margin-bottom: 0px;")}};e.prototype.renderComments=function(e){var t=this;var n=this.valuesState[e].userComments;return this.showComments[e]||n||this.readonly?s("yoo-form-text-area",{onInputChanged:function(n){return t.onCommentsChange(n,e)},onInputFocused:function(){return t.onCommentFocused(true)},onInputBlurred:function(){return t.onCommentFocused(false)},readonly:this.readonly,value:n,class:"animated fadeIn "+" index"+e}):null};e.prototype.renderIconCheck=function(e,t){var n=this;if(this.type==="mission"){return[s("yoo-icon",{class:"yo-check "+(e.finished&&e.finished.value===true?"success":"stable-alt"),onClick:function(){return n.onIconClick(e,t,true)}}),s("yoo-icon",{class:"yo-cross "+(e.finished&&e.finished.value===false?"danger":"stable-alt"),onClick:function(){return n.onIconClick(e,t,false)}})]}else if(this.type==="form"){return s("yoo-form-checkbox",{value:e.finished.value,onClick:function(){return n.onIconClick(e,t,e.finished.value)}})}};e.prototype.renderContentLeft=function(e,t){if(this.readonly){return[s("yoo-icon",{class:" "+(e.finished&&e.finished.value===true?"yo-check success":e.finished&&e.finished.value===false?"yo-cross danger":"yo-circle stable-alt")}),e.text&&e.text.value?e.finished&&!d(e.finished.value)?s("span",{class:"text break-line "+(e.finished.value===true?"success":"danger")},e.text.value):s("span",{class:"text"},e.text.value):null]}return[this.renderIconCheck(e,t),e.text&&e.text.value?s("span",{class:"text"},e.text.value):null]};e.prototype.renderLinkedField=function(e){var t;if(e&&e.field&&e.field.name){var n=m(e.field);delete n.condition;return s("div",{class:"menu"},s("li",{class:"menu-item"},s("div",{class:"menu-left"},s("span",{class:"menu-icon"},s("yoo-icon",{class:"yo-link"})),s("div",{class:"border"})),s("div",{class:"menu-right"},s("div",{class:"menu-title"},r("LINKEDTO")),s("div",{class:"menu-content menu-requestor"},s("yoo-form-dynamic",{class:"inline",slides:[{title:"GENERAL",items:[n]}],data:(t={},t[n.name]=Object.assign({value:e.fieldValue},e.fieldExtra),t),forceReadonly:true,onFormValidityChanged:function(e){return e.stopPropagation()},suffix:".value",animated:false,showRecap:false})))))}};e.prototype.render=function(){var e=this;return s("div",{class:"outer-container"},s("div",{class:"title"},r("ACTIONPLAN")),this.valuesState?this.valuesState.map(function(t,n){return s("div",{class:"todo-container"},s("div",{class:"previous"},e.renderLinkedField(t)),s("div",{class:"content"},s("div",{class:"content-left"},e.renderContentLeft(t,n)),s("div",{class:"content-right"},t.duedate&&t.duedate.value?s("div",{class:"date"},f.dateFormat.transform(t.duedate.value,"L")):null)),t.comments&&t.comments.value?s("div",{class:"comments",innerHTML:t.comments.value}):null,t.hasphoto&&t.hasphoto.value&&(!e.readonly||t.imageData)?s("div",{class:"photo-container"},s("yoo-form-capture",{value:t.imageData,type:"photo",required:t.isphotorequired&&t.isphotorequired.value,allowLibrary:t.allowLibrary&&t.allowLibrary.value,readonly:e.readonly,onInputChanged:function(t){return e.onImageChanged(t,n)}})):null,!e.readonly||e.valuesState[n].userComments?s("div",{class:"border"}):null,!e.readonly?s("div",{class:"comment-container"},s("span",{onClick:function(){return e.onToggleComments(t,n)}},s("yoo-icon",{class:"yo-comment stable-alt"}))):null,!e.readonly||e.valuesState[n].userComments?s("div",{ref:function(t){return e.textareaContainer=t},class:"textarea-container"},e.renderComments(n)):null)}):null)};Object.defineProperty(e.prototype,"host",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container .todo-container{margin-bottom:1.5625rem}:host .outer-container .todo-container .content{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;margin:.6875rem 0 .5rem 0}:host .outer-container .todo-container .content .content-left{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}:host .outer-container .todo-container .content .content-left yoo-icon{margin-top:.2rem;margin-right:var(--padding-10,.625rem);font-size:var(--font-size-04,1.125rem)}:host .outer-container .todo-container .content .content-left yoo-icon.stable-alt{color:var(--text-color,#807f83)}:host .outer-container .todo-container .content .content-left yoo-form-checkbox{margin-right:var(--padding-10,.625rem)}:host .outer-container .todo-container .content .content-left .break-line{text-decoration:line-through}:host .outer-container .todo-container .content .content-right{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .outer-container .todo-container .comments,:host .outer-container .todo-container .content .content-right .date{color:var(--text-color,#807f83);font-size:var(--font-size-02,.875rem);font-weight:var(--font-weight-01,300)}:host .outer-container .todo-container .comments{margin-bottom:var(--padding-15,.9375rem)}:host .outer-container .todo-container .photo-container{margin-bottom:.875rem}:host .outer-container .todo-container .comment-container{margin-top:.875rem}:host .outer-container .todo-container .comment-container .yo-comment{font-size:var(--font-size-05,1.25rem)}:host .outer-container .todo-container .textarea-container{margin-top:var(--padding-10,.625rem)}:host .outer-container .todo-container .border{width:100%;height:0;border-top:1px solid var(--stable-40,hsla(0,0%,67.8%,.4));margin-bottom:var(--padding-10,.625rem)}:host .outer-container .todo-container .menu{list-style:none outside none;background:none repeat scroll 0 0 transparent;border:0 none;font-size:100%;margin:0;outline:0 none;vertical-align:baseline;-webkit-tap-highlight-color:transparent;margin:.5rem;padding:0;list-style:none}:host .outer-container .todo-container .menu .menu-item{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}:host .outer-container .todo-container .menu .menu-item .menu-left{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}:host .outer-container .todo-container .menu .menu-item .menu-left .menu-icon{height:1.875rem;width:1.875rem}:host .outer-container .todo-container .menu .menu-item .menu-left .menu-icon yoo-icon{height:1.875rem;width:1.875rem;font-size:var(--font-size-04,1.125rem);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;background-color:var(--success,#04cc99);color:var(--always-light,#fff);border-radius:50%;line-height:1.875rem;padding:0}:host .outer-container .todo-container .menu .menu-item .menu-left .border{width:1px;height:100%;background-color:var(--stable-alt,#d0d0d0)}:host .outer-container .todo-container .menu .menu-item .menu-right{margin-left:.625rem;width:100%;overflow:hidden}:host .outer-container .todo-container .menu .menu-item .menu-right .menu-title{font-weight:var(--font-weight-03,700);line-height:1.125rem;margin-top:.375rem}:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content{margin-top:.25rem;margin-bottom:1.25rem;color:var(--text-color,#807f83)}:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content a,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content abbr,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content acronym,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content address,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content applet,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content big,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content blockquote,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content body,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content caption,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content cite,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content code,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content dd,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content del,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content dfn,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content div,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content dl,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content dt,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content em,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content fieldset,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content font,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content form,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content h1,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content h2,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content h3,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content h4,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content h5,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content h6,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content html,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content iframe,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content img,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content ins,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content kbd,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content label,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content legend,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content li,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content object,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content ol,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content p,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content pre,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content q,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content s,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content samp,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content small,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content span,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content strike,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content strong,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content sub,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content sup,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content table,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content tbody,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content td,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content tfoot,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content th,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content thead,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content tr,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content tt,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content ul,:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content var{margin:0;padding:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline;-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}:host .outer-container .todo-container .menu .menu-item .menu-right .menu-title{margin-bottom:.625rem}:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content span{margin-right:1.25rem}:host .outer-container .todo-container .menu .menu-item .menu-right .menu-content yoo-avatar{margin-right:.3125rem}:host(.readonly) .outer-container .title{margin-top:.5rem}:host(.readonly) .outer-container .todo-container{margin-bottom:0}"},enumerable:true,configurable:true});return e}())}}});