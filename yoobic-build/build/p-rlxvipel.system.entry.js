System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,o,r,i,n,s,a,l,u,c,h;return{setters:[function(t){e=t.r;o=t.h;r=t.H;i=t.g},function(t){n=t.t;s=t.cP;a=t.cE;l=t.p;u=t.u;c=t.c_;h=t.ak},function(){},function(){},function(){},function(){},function(){}],execute:function(){var p="rgba(4, 204, 153, 0.15)";var d="rgb(4, 204, 153)";var v="rgb(208, 208, 208)";var f="rgb(252, 69, 158)";var b=t("yoo_healthscore_dialog",function(){function t(t){e(this,t);this.hideToolbar=false;this.selectedMode=0;this.timeTabs=[];this.showTooltip=false}t.prototype.componentWillLoad=function(){this.timeTabs=this.getTimesTabObject();this.setChartStyles();if(this.evolutions){this.reverseEvolutionOrder();this.initCharts();this.generateNumbersDisplayData()}};t.prototype.componentWillUpdate=function(){if(this.evolutions){this.initCharts()}};t.prototype.getTimesTabObject=function(){return[{title:n("WEEK"),value:"week"},{title:n("MONTH"),value:"month"},{title:n("3MONTHS"),value:"quarter"}]};t.prototype.getTimeInterval=function(){var t=3600*1e3;var e=24*t;var o=7*e;var r=30*e;var i={day:e,week:o,month:r};switch(this.selectedMode){case 0:return{interval:i.day,format:"{value:%e. %b}"};case 2:return{interval:i.month,format:"{value:%b}"};case 1:default:return{interval:i.week,format:"{value:%e. %b}"}}};t.prototype.getChartTooltipOptions=function(t){return{style:{color:s()?"#212936":"#ffffff"},backgroundColor:s()?"#ffffff":"#000000",borderRadius:5,borderWidth:0,formatter:t,crosshairs:[false,false],shadow:false}};t.prototype.generateNumbersDisplayData=function(){this.numbersDisplayData=[{title:"lowest",value:this.evolution["lowest"],colorClass:"danger"},{title:"current",value:this.evolution["current"],colorClass:"black"},{title:"highest",value:this.evolution["highest"],colorClass:"success"}]};t.prototype.onCancel=function(){this.reverseEvolutionOrder();a(null)};t.prototype.setChartStyles=function(){var t={fontSize:"9px",textOverflow:"none",color:s()?"#fff":v};this.xAxis={labels:{style:t},tickLength:0};this.yAxis={labels:{style:t},tickColor:v}};t.prototype.reverseEvolutionOrder=function(){if(this.evolutions&&this.evolutions.length){for(var t=0;t<this.evolutions.length;t++){this.evolutions[t].evolution.reverse()}}};t.prototype.initEvolutionChart=function(){var t="151px";var e="180px";this.chartEvolutionConfig={tooltip:this.getChartTooltipOptions(function(){var t=new Date(this.x);var e=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;var o=this.y;return t.getDate()+"/"+e+" : "+o}),chart:{height:l()?e:t,backgroundColor:s()?"#212936":"#fff"},title:{text:null},xAxis:{type:"datetime",tickmarkPlacement:"on",categories:[],labels:{format:this.getTimeInterval().format,style:this.xAxis.labels.style},tickInterval:this.getTimeInterval().interval},yAxis:Object.assign({min:0,max:100,tickInterval:25,title:{text:n("HEALTHSCORE")}},this.yAxis),legend:{enabled:false},series:[{type:"areaspline",data:[],color:p}],navigation:{buttonOptions:{enabled:false}},plotOptions:{areaspline:{pointPlacement:"on",fillColor:p,marker:{enabled:false},lineWidth:.75,lineColor:d}}};if(this.evolution&&this.evolution.evolution){var o=this.chartEvolutionConfig.series;this.evolution.evolution.forEach(function(t){o[0].data.push([new Date(t.date).getTime(),t.value])})}};t.prototype.initComparisonChart=function(){var t="157px";var e="180px";var o=0;var r=0;var i=0;if(this.evolution){o=Math.max.apply(Math,this.evolution.comparison.numberOfStoresInGroup.map(function(t){if(u(t.value)){return t.value}}));i=this.evolution.comparison.chartSettings.groupRange;r=i*this.evolution.comparison.chartSettings.numberOfGroups}this.chartComparisonConfig={tooltip:this.getChartTooltipOptions(function(){return n("NUMBERSTORES")+": "+this.y}),chart:{type:"column",height:l()?e:t,backgroundColor:s()?"#212936":"#fff"},title:{text:n("COMPARISON")},xAxis:Object.assign({},this.xAxis,{categories:[],min:this.evolution.comparison.chartSettings.startPoint,max:r,tickInterval:i,title:{text:n("HEALTHSCORE")},labels:{formatter:function(){return this.value===1?0:Math.round(this.value/10)*10},style:this.xAxis.labels.style}}),yAxis:Object.assign({min:0,max:o,tickInterval:1,title:{text:n("NUMBERSTORES")}},this.yAxis),legend:{enabled:false},plotOptions:{series:{groupPadding:0,dataLabels:{enabled:true}},column:{grouping:false,shadow:false,borderWidth:0,pointPadding:0}},navigation:{buttonOptions:{enabled:false}},series:[{data:[],dataLabels:{enabled:false},color:v,pointWidth:25,xAxis:0},{data:[],dataLabels:{enabled:false},color:v,pointWidth:25,xAxis:0},{data:[],dataLabels:{enabled:false},color:v,xAxis:0},{data:[],inside:false,dataLabels:{format:"{point.store}",color:d,crop:false,overflow:"allow"},color:d,pointWidth:2,xAxis:0,enableMouseTracking:false},{data:[],inside:false,dataLabels:{format:"{point.average}",color:f,crop:false,overflow:"allow"},color:f,pointWidth:2,xAxis:0,enableMouseTracking:false}]};if(this.evolution&&this.evolution.comparison&&this.evolution.comparison.numberOfStoresInGroup){var a=this.evolution.comparison.myStore.groupNumber;var c=this.evolution.comparison.average.groupNumber;var h=this.evolution.comparison.myStore&&this.evolution.comparison.myStore.value;var p=this.evolution.comparison.average&&this.evolution.comparison.average.value;var b=this.chartComparisonConfig.series;if(h){b[3].data.push({x:h-1,y:o*.9,store:Math.round(h)})}if(p){b[4].data.push({x:p-1,y:o*.9,average:Math.round(p)})}var m=this.chartComparisonConfig.xAxis.categories;this.evolution.comparison.numberOfStoresInGroup.forEach(function(t){var e=t.groupNumber===a;var o=t.groupNumber===c;if(u(t.value)){if(!(e&&o)){b[0].data.push({x:(t.groupNumber-.5)*10,y:t.value})}else if(e){b[1].data.push({x:(t.groupNumber-.5)*10,y:t.value})}else if(o){b[2].data.push({x:(t.groupNumber-.5)*10,y:t.value})}}if(t.groupNumber){m.push(t.groupNumber)}})}};t.prototype.initCharts=function(){this.evolution=this.evolutions[this.selectedMode];this.initEvolutionChart();this.initComparisonChart()};t.prototype.renderNumbersDisplay=function(){return o("yoo-numbers-display",{entry:this.numbersDisplayData})};t.prototype.onTimeTabSelected=function(t){var e=t.detail;var o=this.timeTabs.indexOf(e);this.selectedMode=o;this.evolution=this.evolutions[this.selectedMode];this.initEvolutionChart()};t.prototype.renderHealthscoreNavbar=function(){var t=this;return o("yoo-navbar",{class:"items-space-around swiper-no-swiping",withLine:true,tabs:this.timeTabs,onTabSelected:function(e){return t.onTimeTabSelected(e)}})};t.prototype.renderHealthscoreChart=function(t){return o("div",{class:"healthscore-chart"},o("yoo-chart",{config:t}))};t.prototype.renderHealthscoreEvolution=function(){return o("div",{class:"healthscore-evolution"},this.renderHealthscoreChart(this.chartEvolutionConfig))};t.prototype.renderHealthscoreComparisonLegend=function(){return o("div",{class:"legends"},o("div",{class:"legend"},o("div",{class:"legend-row"},o("div",{class:"round bg-success"}),o("div",null,n("MYSTORE2"))),o("div",{class:"legend-row"},o("div",{class:"round bg-info"}),o("div",null,n("AVG").toUpperCase()))))};t.prototype.renderHealthscoreComparison=function(){return o("div",{class:"healthscore-comparison"},this.renderHealthscoreComparisonLegend(),this.renderHealthscoreChart(this.chartComparisonConfig))};t.prototype.renderHealthscoreTitle=function(t,e){return o("div",{class:"healthscore-title swiper-no-swiping"},o("div",null,n(t.toUpperCase())),o("div",null,this.renderHelpButton(e)))};t.prototype.renderHelpButton=function(t){var e=this;var r=n(t);return o("yoo-tooltip",{content:r,coeffMaxWidth:.85,placement:"right",options:{trigger:"click",onShow:function(t){return c(t)},onHide:function(){if(e.showTooltip){e.showTooltip=false}}}},o("yoo-icon",{class:"yo-help stable-alt"}))};t.prototype.renderHealthscoreCharts=function(){return this.evolution&&o("div",{class:"outer-container"},!l()&&this.renderHealthscoreNavbar(),this.renderHealthscoreTitle("evolution","HSDESCRIPTIONEVOLUTION1"),this.renderNumbersDisplay(),this.renderHealthscoreEvolution(),this.renderHealthscoreTitle("comparison","HSDESCRIPTIONCOMPARISON"),this.renderHealthscoreComparison())};t.prototype.renderWeb=function(){return this.evolution&&o("div",{class:{"outer-container":true,toolbar:!this.hideToolbar}},this.renderWebSlides())};t.prototype.renderWebSlides=function(){var t=this;var e=["evolution","comparison"];return o("yoo-ion-slides",{class:"centre-pagination",pager:true},e.map(function(e){return o("yoo-ion-slide",{class:"navigation-padding"},o("div",{class:"slide-content"},t.renderHealthscoreTitle(e,""),t.renderHealthscoreNavbar(),e==="evolution"&&[t.renderNumbersDisplay(),t.renderHealthscoreEvolution()],e==="comparison"&&t.renderHealthscoreComparison()))}))};t.prototype.renderMobileContent=function(){return o("yoo-ion-content",{class:"bg-light",scrollEnabled:true},this.renderHealthscoreCharts())};t.prototype.render=function(){var t=this;return o(r,{class:h()},!this.hideToolbar&&o("yoo-header",null,o("yoo-ion-toolbar",{color:"light"},o("yoo-ion-buttons",{slot:"start"},o("yoo-ion-button",{color:"text-color",class:"close button-clear",onClick:function(){return t.onCancel()}},o("yoo-icon",{slot:"icon-only",class:"yo-close"}))),o("yoo-title",null,n("OVERVIEW2")))),l()?this.renderWeb():this.renderMobileContent())};Object.defineProperty(t.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root.sc-yoo-healthscore-dialog{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root.sc-yoo-healthscore-dialog yoo-app.sc-yoo-healthscore-dialog .wrapper.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root.sc-yoo-healthscore-dialog yoo-app.sc-yoo-healthscore-dialog .wrapper.center-center.sc-yoo-healthscore-dialog{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root.sc-yoo-healthscore-dialog::-webkit-scrollbar{display:none}.sc-yoo-healthscore-dialog-h{display:block}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-chart.sc-yoo-healthscore-dialog{--height:fit-content}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-title.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding:1.5rem 1rem;text-align:center;text-transform:uppercase}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-title.sc-yoo-healthscore-dialog div.sc-yoo-healthscore-dialog:first-child{width:100%}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-numbers-display.sc-yoo-healthscore-dialog{width:85%;margin:0 auto}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-evolution.sc-yoo-healthscore-dialog{margin-top:1.25rem;border-bottom:1px solid var(--stable-light,#f1f1f1)}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-evolution.sc-yoo-healthscore-dialog .healthscore-chart.sc-yoo-healthscore-dialog{height:10.3125rem;margin-top:.875rem}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog{margin-top:-1.25rem}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .healthscore-chart.sc-yoo-healthscore-dialog{height:12.1875rem}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 0}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog .legend.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:1rem;font-size:var(--font-size-02,.875rem)}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog .legend.sc-yoo-healthscore-dialog .legend-row.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog .legend.sc-yoo-healthscore-dialog .legend-row.sc-yoo-healthscore-dialog .round.sc-yoo-healthscore-dialog{width:.5rem;height:.5rem;margin-right:.25rem;border-radius:50%}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog .legend.sc-yoo-healthscore-dialog .bg-success.sc-yoo-healthscore-dialog{background-color:var(--success,#04cc99)}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog .legend.sc-yoo-healthscore-dialog .bg-info.sc-yoo-healthscore-dialog{background-color:var(--info,#fc459e)}.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog .healthscore-comparison.sc-yoo-healthscore-dialog .legends.sc-yoo-healthscore-dialog .legend.sc-yoo-healthscore-dialog .stable-alt.sc-yoo-healthscore-dialog{color:var(--text-color,#807f83)}.sc-yoo-healthscore-dialog-h .border.sc-yoo-healthscore-dialog{width:100%;height:0;border-top:1px solid var(--stable-40,hsla(0,0%,67.8%,.4))}.sc-yoo-healthscore-dialog-h .border.selected.sc-yoo-healthscore-dialog{border-top:1px solid var(--success,#04cc99)}.web.sc-yoo-healthscore-dialog-h{background:var(--light,#fff)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog{display:block;width:100%;height:100%}.web.sc-yoo-healthscore-dialog-h .outer-container.toolbar.sc-yoo-healthscore-dialog{height:calc(100% - 3rem)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;padding-left:var(--padding-5,.3125rem)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog .healthscore-title.sc-yoo-healthscore-dialog{margin-bottom:var(--padding-20,1.25rem);text-transform:unset}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog yoo-navbar.sc-yoo-healthscore-dialog{margin:0 var(--padding-20,1.25rem)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog .healthscore-numbers.sc-yoo-healthscore-dialog{-ms-flex-pack:start;justify-content:flex-start;margin:var(--padding-15,.9375rem) 0 0 var(--padding-10,.625rem)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog .healthscore-numbers.sc-yoo-healthscore-dialog .healthscore-number.sc-yoo-healthscore-dialog .value.sc-yoo-healthscore-dialog{font-size:var(--font-size-07,1.75rem)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog .healthscore-numbers.sc-yoo-healthscore-dialog .healthscore-number.sc-yoo-healthscore-dialog .text.sc-yoo-healthscore-dialog{margin:0}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog .healthscore-evolution.sc-yoo-healthscore-dialog{margin-top:0}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog yoo-ion-slide.sc-yoo-healthscore-dialog .slide-content.sc-yoo-healthscore-dialog .healthscore-evolution.sc-yoo-healthscore-dialog .healthscore-chart.sc-yoo-healthscore-dialog{margin-top:var(--padding-10,.625rem)}.web.sc-yoo-healthscore-dialog-h .outer-container.sc-yoo-healthscore-dialog yoo-ion-slides.sc-yoo-healthscore-dialog .swiper-pagination.sc-yoo-healthscore-dialog .swiper-pagination-bullet.sc-yoo-healthscore-dialog{--bullet-background-active:var(--black,#000)}"},enumerable:true,configurable:true});return t}())}}});