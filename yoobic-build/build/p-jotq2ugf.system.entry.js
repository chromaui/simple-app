var __awaiter=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r["throw"](t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(u,a)}s((r=r.apply(t,e||[])).next())})};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(t){return function(e){return s([t,e])}}function s(u){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=u[0]&2?i["return"]:u[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;if(i=0,o)u=[u[0]&2,o.value];switch(u[0]){case 0:case 1:o=u;break;case 4:n.label++;return{value:u[1],done:false};case 5:n.label++;i=u[1];u=[0];continue;case 7:u=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1];o=u;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(u);break}if(o[2])n.ops.pop();n.trys.pop();continue}u=e.call(t,n)}catch(t){u=[6,t];i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,n,r,i,o,u,a;return{setters:[function(t){e=t.r;n=t.c;r=t.h;i=t.g},function(t){o=t.d5;u=t.dj;a=t.t},function(){},function(){},function(){},function(){},function(){}],execute:function(){var s=t("yoo_form_plan_assign",function(){function t(t){e(this,t);this.validators=[];this.validityChanged=n(this,"validityChanged",7);this.inputBlurred=n(this,"inputBlurred",7);this.inputFocused=n(this,"inputFocused",7);this.inputChanged=n(this,"inputChanged",7);this.fetchData=n(this,"fetchData",7)}t.prototype.updateValues=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){if(e.type==="users"&&this.formAutocompleteUsers){this.formAutocompleteUsers.updateValues(t)}if(e.type==="plans"&&this.formAutocompletePlans){this.formAutocompletePlans.updateValues(t)}return[2]})})};t.prototype.requiredWatch=function(){this.validate()};t.prototype.componentWillLoad=function(){o(this)};t.prototype.onUsersSelect=function(t){t.stopPropagation();var e=this.value||{};if(t.detail&&t.detail.length>0){e.users=[].concat(t.detail)}else{delete e.users}u(e,this)};t.prototype.onPlansSelect=function(t){t.stopPropagation();var e=this.value||{};if(t.detail&&t.detail.length>0){e.plans=[].concat(t.detail)}else{delete e.plans}u(e,this)};t.prototype.onFetchData=function(t,e){t.detail.type=e;t.stopPropagation();this.fetchData.emit(t.detail)};t.prototype.onInputBlurred=function(t){t.stopPropagation();this.inputBlurred.emit(t.detail)};t.prototype.onInputFocused=function(t){t.stopPropagation();this.inputFocused.emit(t.detail)};t.prototype.onAutoCompleteValidityChanged=function(t){t.stopPropagation()};t.prototype.validate=function(){var t=true;if(this.required&&(!this.value||!this.value.plans||this.value.plans.length<1||!this.value.users||this.value.users.length<1)){t=false}if(!this.validity||this.validity!==t){this.validityChanged.emit(t);this.validity=t}return this.validity};t.prototype.renderUsers=function(){var t=this;return r("yoo-form-autocomplete",{ref:function(e){return t.formAutocompleteUsers=e},multiple:true,value:this.value?this.value.users:null,entityType:"users",displayType:"card-list",iconPrefix:"yo-user",onFetchData:function(e){return t.onFetchData(e,"users")},onInputChanged:function(e){return t.onUsersSelect(e)},onInputBlurred:function(e){return t.onInputBlurred(e)},onInputFocused:function(e){return t.onInputFocused(e)},onValidityChanged:function(e){return t.onAutoCompleteValidityChanged(e)},placeholder:a("ADDUSERS"),isLocal:false,inputTabIndex:this.inputTabIndex,readonly:this.readonly})};t.prototype.renderReadonly=function(){return r("div",{class:"readonly"},r("yoo-grid",{direction:"horizontal",entityType:"plans",items:this.value?this.value.plans:null,hideHeader:true,displayType:"card-sticky"}),this.renderUsers())};t.prototype.renderEditable=function(){var t=this;return r("div",{class:"outer-container"},r("yoo-form-autocomplete",{ref:function(e){return t.formAutocompletePlans=e},class:"margin-bottom",hideSelected:true,multiple:true,value:this.value?this.value.plans:null,entityType:"courseselection",displayType:"card-list",previewEntityType:"courseselection",iconPrefix:"yo-courses",values:this.plans,isLocal:true,onFetchData:function(e){return t.onFetchData(e,"plans")},onInputChanged:function(e){return t.onPlansSelect(e)},onInputBlurred:function(e){return t.onInputBlurred(e)},onInputFocused:function(e){return t.onInputFocused(e)},onValidityChanged:function(e){return t.onAutoCompleteValidityChanged(e)},placeholder:a("ADDCOURSES"),inputTabIndex:this.inputTabIndex}),this.renderUsers())};t.prototype.render=function(){return this.readonly?this.renderReadonly():this.renderEditable()};Object.defineProperty(t.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{required:["requiredWatch"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .margin-bottom{display:block;margin-bottom:1rem}"},enumerable:true,configurable:true});return t}())}}});