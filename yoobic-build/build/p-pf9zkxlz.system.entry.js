System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(e){"use strict";var t,n,o,i,s,r,a,l,c,u,m;return{setters:[function(e){t=e.r;n=e.c;o=e.h;i=e.g},function(e){s=e.z;r=e.al;a=e.p;l=e.t;c=e.cF;u=e.bN},function(){},function(){},function(){},function(e){m=e.dd},function(){}],execute:function(){var d=3;var p="closed";var f=e("yoo_memo_list",function(){function e(e){t(this,e);this.collapsed=false;this.showEllipsis=false;this.forceRefresh=true;this.MAX_LINE_HEIGHT=30;this.memoUpdate=n(this,"memoUpdate",7);this.memoEdit=n(this,"memoEdit",7);this.memoSelect=n(this,"memoSelect",7);this.memoDelete=n(this,"memoDelete",7);this.usersView=n(this,"usersView",7)}e.prototype.isEditable=function(e){return e.creatorRef===s().userId};e.prototype.onIconClicked=function(){this.collapsed=!this.collapsed};e.prototype.onMemoUpdate=function(e,t,n){t.done=e.detail;if(e.detail){this.setSelectedStyles(n,"selected",t)}else{this.setSelectedStyles(n,"unselected",t)}};e.prototype.setSelectedStyles=function(e,t,n){var o=this;var i=1e3;if(e){e.classList.add(t)}setTimeout(function(){o.memoUpdate.emit(n);if(e){e.classList.remove(t)}},i)};e.prototype.onOpenMemoListDialog=function(e){var t=this;this.dialog=document.createElement("yoo-memo-list-dialog");this.dialog.memo=e;this.dialog.type=this.type;this.memoSelect.emit(e);r(this.dialog,{half:false},a()?"fullscreen":"","slideXEnterAnimation","slideXLeaveAnimation",true,false,this.modalHost).then(function(n){if(n&&n.data){var o=n.data.action;switch(o){case"edit":t.memoEdit.emit(e);break;case"delete":t.memoDelete.emit(e);break;case"update":t.memoUpdate.emit(e);break;default:t.usersView.emit(e.users.map(function(e){return e._id}));break}}t.dialog=null})};e.prototype.onMemoDelete=function(e,t){var n=this;var o=l("DELETE");var i=l("DELETETODOTASKCONFIRM");c(o,[l("CANCEL"),l("OK")],null,i,l("DELETETODOTASKCONFIRM")).then(function(o){if(o===true){n.memoDelete.emit(e)}else{t.style.transform="translate3d(0px, 0px, 0px)"}})};e.prototype.renderLi=function(e){var t=this;var n;return[o("yoo-ion-item-sliding",null,o("yoo-ion-item",{ref:function(e){return n=e},class:"border",lines:"none"},this.renderInnerContainer(e)),this.isEditable(e)&&o("yoo-ion-item-options",{side:"end"},o("yoo-ion-item-option",{class:"bg-stable",onClick:function(){return t.memoEdit.emit(e)}},o("div",{class:"option-container"},o("yoo-icon",{class:"yo-pen"}),o("span",{class:"text-action"},l("EDIT")))),o("yoo-ion-item-option",{class:"bg-danger",onClick:function(){return t.onMemoDelete(e,n)}},o("div",{class:"option-container"},o("yoo-icon",{class:"yo-delete"}),o("span",{class:"text-action"},l("DELETE"))))))]};e.prototype.renderInnerContainer=function(e){var t=this;var n=e.usersRef.indexOf(s().userId)<0;var i;return[o("div",{class:"inner-container"},o("div",{class:"item-container"},o("div",{class:{"checkbox-container":true,disabled:n}},o("yoo-form-checkbox",{value:this.type===p?true:null,readonly:n,onInputChanged:function(o){return!n?t.onMemoUpdate(o,e,i):null}})),o("div",{class:"center-container",onClick:function(){return t.onOpenMemoListDialog(e)}},o("span",{ref:function(e){return i=e},class:"menu-item-title "+this.type+(n?" readonly":"")},e.title)),o("div",{class:"right-container",onClick:function(){return t.onOpenMemoListDialog(e)}},this.renderAvatarContainer(e),o("div",{class:"date-box"},e.duedate&&o("span",{class:{"menu-item-date":true,danger:this.type!==p&&u(e.duedate,new Date)}},m.dateFormat.transform(e.duedate,"L"))))),e.imageData&&o("yoo-img",{type:"back",class:"photo",onClick:function(){return t.onOpenMemoListDialog(e)},src:e.imageData}),e.description&&o("div",{class:"description-container",onClick:function(){return t.onOpenMemoListDialog(e)}},o("yoo-text-truncate",{maxLine:2,content:e.description})))]};e.prototype.renderAvatarContainer=function(e){return o("yoo-avatars",{users:e.users,maxDisplay:d})};e.prototype.render=function(){var e=this;return o("div",{class:"outer-container"},o("span",null,this.memos&&this.memos.length?o("div",{class:"title-container",onClick:function(){return e.onIconClicked()}},o("div",{class:"title"},this.type==="open"?l("TASKS"):this.type===p?l("COMPLETED"):null),o("yoo-badge",{text:m.number.transform(this.memos.length),class:"round medium "+(this.type==="open"?"danger":"success")}),o("span",{class:"flex"}),o("yoo-icon",{class:this.collapsed?"yo-down":"yo-up"})):null,!this.collapsed&&this.memos?o("yoo-ion-list",null,this.memos.map(function(t){return e.renderLi(t)})):null))};Object.defineProperty(e.prototype,"host",{get:function(){return i(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container{padding:0 1rem}:host .outer-container .title-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding-top:1rem}:host .outer-container .title-container .title{color:var(--black,#000);font-size:var(--font-size-04,1.125rem);font-weight:var(--font-weight-03,700)}:host .outer-container .title-container .flex{-ms-flex:1;flex:1}:host .outer-container .title-container yoo-badge{margin-left:.5rem}:host .outer-container .title-container yoo-icon{padding-left:var(--padding-10,.625rem);font-size:var(--font-size-02,.875rem);cursor:pointer}:host .outer-container .title-container yoo-icon.yo-down,:host .outer-container .title-container yoo-icon.yo-up{color:var(--black,#000);font-weight:var(--font-weight-03,700)}:host .outer-container yoo-ion-list yoo-ion-item-sliding yoo-ion-item-options .option-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:0;border:none;color:var(--light,#fff)}:host .outer-container yoo-ion-list yoo-ion-item-sliding yoo-ion-item-options .option-container .text-action{padding-top:.25rem;font-family:Lato;font-size:var(--font-size-01,.75rem)}:host .outer-container yoo-ion-list yoo-ion-item-sliding yoo-ion-item-options .option-container yoo-icon{width:60px;font-size:var(--font-size-04,1.125rem)}:host .outer-container .border{border-bottom:1px solid var(--stable-40,hsla(0,0%,67.8%,.4))}:host .outer-container .checkbox-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%;padding-right:.5rem}:host .outer-container .disabled{padding-top:.25rem}:host .outer-container .inner-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;padding-top:.75rem;padding-bottom:.4rem}:host .outer-container .inner-container .photo{width:40px;height:40px;margin-top:.2rem;margin-bottom:.5rem;margin-left:1.9rem;border-radius:5px}:host .outer-container .inner-container .description-container{margin-bottom:.3rem;padding-left:1.75rem}:host .outer-container .inner-container .description-container yoo-text-truncate{--text-color:var(--text-color,#807f83);font-size:var(--font-size-02,.875rem)}:host .outer-container .inner-container .item-container{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:100%}:host .outer-container .inner-container .item-container .center-container{-ms-flex-positive:1;flex-grow:1;color:var(--black,#000);font-size:var(--font-size-03,1rem)}:host .outer-container .inner-container .item-container .center-container .menu-item-title.closed{color:var(--success,#04cc99);text-decoration:line-through}:host .outer-container .inner-container .item-container .center-container .menu-item-title.open{line-height:1.2rem}:host .outer-container .inner-container .item-container .center-container .menu-item-title.readonly{opacity:.7}:host .outer-container .inner-container .item-container .center-container .menu-item-title.selected{-webkit-transition:.3s;transition:.3s;color:var(--success,#04cc99);text-decoration:line-through}:host .outer-container .inner-container .item-container .center-container .menu-item-title.unselected{-webkit-transition:.3s;transition:.3s;color:var(--black,#000);text-decoration:none}:host .outer-container .inner-container .item-container .right-container{display:-ms-flexbox;display:flex;padding:0 .5rem;font-size:var(--font-size-02,.875rem)}:host .outer-container .inner-container .item-container .right-container .date-box{margin-top:.25rem}:host .outer-container .inner-container .item-container .right-container .date-box .menu-item-date{-ms-flex-item-align:center;align-self:center;margin-left:var(--padding-10,.625rem);color:var(--text-color,#807f83);font-size:var(--font-size-02,.875rem)}:host .outer-container .inner-container .item-container .right-container .date-box .menu-item-date.danger{color:var(--danger,#ff625f)}:host .outer-container .inner-container .item-container .right-container .avatar-box{padding-right:.4rem}:host .outer-container .inner-container .item-container .right-container .avatar-box .avatar-container yoo-avatar{height:24px}:host .outer-container .inner-container .item-container .right-container .avatar-box .avatar-container ul{display:-ms-flexbox;display:flex;margin:auto;padding:0;list-style:none}:host .outer-container .inner-container .item-container .right-container .avatar-box .avatar-container ul li{display:inline-table;margin-right:-.5rem}:host([type=closed]) .outer-container{padding-bottom:2rem}"},enumerable:true,configurable:true});return e}())}}});