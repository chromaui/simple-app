System.register(["./p-76deb591.system.js","./p-e3fa184f.system.js","./p-90888482.system.js"],function(e){"use strict";var a,r,t,n,o,s,i,u,d,l,c,g,f,v,m,D,y,R;return{setters:[function(e){a=e.V;r=e.N;t=e.u;n=e.t;o=e.$;s=e.a6;i=e.G;u=e.bE;d=e.v;l=e.cZ;c=e.a7;g=e.ad;f=e.c6;v=e.bU;m=e.W},function(){},function(e){D=e.aM;y=e.dd;R=e.aA}],execute:function(){e({a:re,b:ae,c:$,g:ne,p:Q,v:Y});function h(e){var t=e.value||"";var o=r;if(e&&e.colDef&&e.colDef.translate){o=n}if(a(t)){return t.map(function(e){return o(e||"")}).join(", ")}return o(t.toString())}function p(e){var a=[].concat(e.value||[]);a=D(a);var t=r;return a.map(function(e){return t(e||"")}).join(", ")}function b(e){var a=e.value;if(a===true||a==="true"){return'<yoo-form-checkbox value="true" readonly="true"></yoo-form-checkbox>'}else if(a===false||a==="false"){return'<yoo-form-checkbox value="false" readonly="true"></yoo-form-checkbox>'}else if(a!==false&&a!==true){return'<yoo-icon class="yo-circle stable"></yoo-icon>'}return""}function M(e){var a=e.value;if(a&&a.startsWith("yo-")){return'<yoo-icon class="'+a+'"></yoo-icon>'}else if(a&&a.startsWith("http")){return'<yoo-img class="image grid" src="'+a+'"></yoo-img>'}}function S(e){var a=e.value;if(a&&a.toUpperCase){return r(a.toUpperCase())}return a}function x(e){var a=e.value;var r="1.0-1";if(e.colDef&&e.colDef.cellRendererParams&&e.colDef.cellRendererParams.precision>0){r="1.0-"+e.colDef.cellRendererParams.precision}if(a&&isFinite(a-0)){a=a-0}if(t(a)){a=y.decimal.transform(a,r).toString()}else if(a&&a.toString){a=a.toString()}else{a=""}return a.toString()}function N(e){var a=e.value;if(a&&isFinite(a-0)){a=a-0}if(t(a)){a=y.percent.transform(a).toString()}else if(a&&a.toString){a=a.toString()}else{a=""}return a.toString()}function P(e){var a=e.value;return t(a)?Math.round(a)+" "+n("MIN").toLowerCase()+".":a}function A(e){var r=e.colDef.field.split(".");var t;if(a(r)&&r.indexOf("distance")>-1&&e&&e.node&&e.data&&e.node.data.getIn){var n=e.node.data.getIn(["_geoloc"]);var s=e.node.data.getIn(["_geolocSave"]);n=o(n)===false?n.toJS?n.toJS():n:"";s=o(s)===false?s.toJS?s.toJS():s:"";if(n&&n.length===2&&s&&s.length===2){t=C(s[1],s[0],n[1],n[0])}}return t?t:""}function C(e,a,r,t,n){if(n===void 0){n="K"}var o=Math.PI*e/180;var s=Math.PI*r/180;var i=a-t;var u=Math.PI*i/180;var d=Math.sin(o)*Math.sin(s)+Math.cos(o)*Math.cos(s)*Math.cos(u);d=Math.acos(d);d=d*180/Math.PI;d=d*60*1.1515;if(n==="K"){d=d*1.609344}if(n==="N"){d=d*.8684}return d}function I(e){var a=e.value||"";var r=e.node.parent.allLeafChildren;var n=s(r,e.node);var o=e.colDef.field;if(n>0&&n<r.length){var i=r[n].data[o];var u=r[n-1].data[o];if(t(i)&&t(u)&&Math.abs(u)>0){var d=Math.round((i-u)/u*100);if(Math.abs(d)>0){a+='<span style="margin-left:10px" class="'+(d>0?"success":"danger")+'"> ('+d+"%)</span>"}}}return a}function E(e,a){var r=e.value;if(m(r)&&r.value){r=r.value}if(r){var t=void 0;t=d(r);return i(t,a)}return""}function L(e){return E(e,"L LT")}function j(e){return E(e,"L")}function k(e){var a=e.value;if(a){if(/^\d\d:\d\d/.test(a)){return i(u(a,"HH:mm"),"LT")}else{return i(d(a),"LT")}}return""}function T(e){return e.value?'<yoo-img class="ag-cell-image" src="'+l(e.value||"",30,30)+'" />':""}function G(e){var r=e.value;if(r&&a(r)&&r.length>0){return r.map(function(e){return'<yoo-img class="ag-cell-image" src="'+l(e||"",30,30)+'" />'}).join(" ")}return""}function w(e){return'<video class="ag-cell-image video" [src]="'+e.value+'"></video>'}function J(e){var a=5;if(e.colDef&&e.colDef.cellRendererParams&&e.colDef.cellRendererParams.max){a=e.colDef.cellRendererParams.max}return'<yoo-form-star-rating class="ag-cell-image energized" readonly="true" max="'+a+'" value="'+e.value+'"></yoo-form-star-rating>'}function V(e){return e.value?e.value.address?e.value.address:e.value:""}function F(e){var a=e.value;return a?(a.title?a.title+" - ":"")+a.address:""}function O(e){var a=e.value;if(a&&a.values){return c(a.values,function(e){return e.text.value}).join(", ")}return""}function z(e){var a=e.value;if(a&&a.startDate&&a.endDate){var r=g(d(a.endDate),d(a.startDate));var t=Math.floor(f(r))+i(v(new Date(r)),":mm:ss");return t}else{return""}}function B(e){return h(e)}function H(e){return h(e)}function K(e){var a;if(e.node&&e.node.data){a=e.node.data}else{a=e.value}return R(a)}function U(e){if(e.colDef&&e.colDef.cellRendererParams){var a=e.colDef.cellRendererParams.color||"";var r=e.colDef.cellRendererParams.icon||"";return'<yoo-button icon="'+r+'" class="small outline-dark '+a+'"></yoo-button>'}return""}function W(e){var a=e.value;var r="";if(e.node&&e.node.data){r=e.node.data.status}if(a===true||a==="true"||a==="validated"){return'<yoo-badge class="tag success" text="'+n("VALIDATED")+'"></yoo-badge>'}else if(a===false||a==="false"||a==="rejected"){return'<yoo-badge class="tag danger" text="'+n("REJECTED")+'"></yoo-badge>'}else if(r==="finished"&&a!==false&&a!==true&&a!=="false"&&a!=="true"||a==="tobevalidated"){return'<yoo-badge class="tag royal" text="'+n("TOBEVALIDATED")+'"></yoo-badge>'}if(e.node.group&&e.colDef.cellRenderer==="group"){return'<yoo-badge class="tag stable" text="'+n("N/A")+'"></yoo-badge>'}return""}function _(e){var a=e.value;if(a==="finished"){return'<yoo-badge class="tag dark" text="'+n("FINISHED")+'"></yoo-badge>'}else if(a==="booked"){return'<yoo-badge class="tag info" text="'+n("BOOKED")+'"></yoo-badge>'}else if(a==="available"){return'<yoo-badge class="tag energized" text="'+n("AVAILABLE")+'"></yoo-badge>'}return a?a.toString():""}function Z(e){var a="";if(e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated){e.node.aggData.conformityprogress=$(e.node);a+=re("conformityprogress",e.node.aggData.conformityprogress," %",true,true)}return a}function $(e){if(e.aggData&&e.aggData.validated&&e.aggData.validated.counts){var a=Math.round((e.aggData.validated.counts.validated||0)*100/((e.aggData.validated.counts.validated||0)+(e.aggData.validated.counts.rejected||0)));return isNaN(a)?0:a}return 0}function q(e){var a="";if(e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated){e.node.aggData.progress=Q(e.node);a+=re("progress",e.node.aggData.progress," %",true,true)}return a}function Q(e){if(e&&e.aggData&&e.aggData.status&&e.aggData.status.counts){var a=Math.round((e.aggData.status.counts.finished||0)*100/((e.aggData.status.counts.finished||0)+(e.aggData.status.counts.available||0)));return isNaN(a)?0:a}return 0}function X(e){var a="";if(e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated){e.node.aggData.validationprogress=Y(e.node);a+=re("validationprogress",e.node.aggData.validationprogress," %",true,true)}return a}function Y(e){if(e.aggData&&e.aggData.validated&&e.aggData.validated.counts){var a=Math.round(((e.aggData.validated.counts.validated||0)+(e.aggData.validated.counts.rejected||0))*100/(e.aggData.status.counts.finished||0));return isNaN(a)?0:a}return 0}function ee(e){var a="";if(e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated){e.node.aggData.conformityrelativeprogress=ae(e.node);a+=re("conformityrelativeprogress",e.node.aggData.conformityrelativeprogress," %",true,true)}return a}function ae(e){var a=Q(e);var r=$(e);var t=Math.round(r*a/100);return isNaN(t)?0:t}function re(e,a,r,t,n){if(r===void 0){r=""}if(t===void 0){t=false}if(n===void 0){n=false}var o=e;if(isNaN(a)){a="?";r=""}var s="success";if(a==="?"){s="dark"}else if(a<33){s="danger"}else if(a<75){s="energized"}return'<yoo-badge class="tag '+s+'" text="'+(n?"":o+":")+a+r+'" ></yoo-badge>'}var te=function(){function e(){}e.prototype.getGui=function(){return this.eGui};e.prototype.init=function(e){var a=document.createElement("yoo-mission-results");a.className="inline";a.mission=e.data;this.eGui=a};return e}();function ne(e){switch(e){case"groupRenderer":return p;case"booleanRenderer":return b;case"iconRenderer":return M;case"numberRenderer":return x;case"dateRenderer":return j;case"dateTimeRenderer":return L;case"timeRenderer":return k;case"percentageRenderer":return N;case"durationRenderer":return P;case"distanceRenderer":return A;case"deltaRenderer":return I;case"translateRenderer":return S;case"photoRenderer":return T;case"multiphotoRenderer":return G;case"videoRenderer":return w;case"starratingRenderer":return J;case"addressRenderer":return V;case"locationRenderer":return F;case"todoRenderer":return O;case"timerRenderer":return z;case"checklistRenderer":return B;case"customModelRenderer":return H;case"userFullNameRenderer":return K;case"buttonRenderer":return U;case"missionStatusRenderer":return _;case"missionValidationRenderer":return W;case"progressRenderer":return q;case"validationProgressRenderer":return X;case"conformityProgressRenderer":return Z;case"conformityRelativeProgressRenderer":return ee;case"agGroupCellRenderer":return"agGroupCellRenderer";case"agAnimateShowChangeCellRenderer":return"agAnimateShowChangeCellRenderer";case"agAnimateSlideCellRenderer":return"agAnimateSlideCellRenderer";case"missionResultsRenderer":return te;case"defaultRenderer":default:return h}}}}});