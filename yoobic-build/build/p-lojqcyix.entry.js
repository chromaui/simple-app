import{r as t,c as i,h as s,H as e,g as o}from"./p-0d847530.js";import{o as n,ar as h,aT as a,cz as l,t as r,fQ as c,ai as d,Y as u,en as p,N as g,ah as m,Z as y,ak as C,V as v,p as k,cF as b,ab as x,a4 as f,fY as E,g2 as T}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import{c9 as S,c8 as A,bF as I,ch as L,cm as P,c1 as O,bc as R,bd as N}from"./p-d70b188c.js";import"./p-815d6c40.js";const D=class{constructor(s){t(this,s),this.allowMultipleSelection=!1,this.showBottomBorder=!1,this.forceEntryUpdate=!1,this.entries=[],this.items=[],this.accordionContentContainers=[],this.accordionSelectors=[],this.shouldAnimateAfterReRender=!1,this.accordionSelected=i(this,"accordionSelected",7)}onTitlesChange(){(this.entries.findIndex((t,i)=>t.title!==this.items[i].title)>-1||this.forceEntryUpdate)&&(this.items=this.populateItems())}async clickAccordion(t){this.onAccordionClick(this.items[t],t)}componentWillLoad(){this.items=this.populateItems()}componentDidUpdate(){this.shouldAnimateAfterReRender&&(this.animateTransition(this.selectedIndex,!1),this.shouldAnimateAfterReRender=!1)}populateItems(t){return this.entries.map(i=>({title:i.title,selected:void 0===t?i.selected:t,subItemCount:i.subItemCount,actionButtons:i.actionButtons}))}reRenderItems(){this.items=[...this.items]}closeSingleSelection(t){n(t)||(this.items[t].selected=!1)}openItem(t){this.items[t].selected=!0}isAnItemSelected(){return this.items.some(t=>!0===t.selected)}handleMultiSelect(t,i){t.selected?(this.closeSingleSelection(i),this.animateTransition(i,!0)):(this.selectedIndex=i,this.openItem(i),this.shouldAnimateAfterReRender=!0),this.reRenderItems()}handleSingleDeselect(t){this.selectedIndex=null,this.previousSelectedIndex=t,this.animateTransition(t,!0),this.closeSingleSelection(t),this.reRenderItems()}handleSingleSelect(t){this.previousSelectedIndex=this.selectedIndex,this.selectedIndex=t,this.openItem(this.selectedIndex),this.closeSingleSelection(this.previousSelectedIndex),this.shouldAnimateAfterReRender=!0,this.reRenderItems()}onAccordionClick(t,i){i>=0?(this.accordionSelected.emit({index:i,selected:!t.selected}),t.selected&&!this.allowMultipleSelection?this.handleSingleDeselect(i):t.selected||this.allowMultipleSelection?this.handleMultiSelect(t,i):this.handleSingleSelect(i)):this.onMasterTitleClicked()}onMasterTitleClicked(){this.items=this.isAnItemSelected()?this.populateItems(!1):this.populateItems(!0),this.reRenderItems()}animateTransition(t,i){if(this.accordionContentContainers[t]){const s=this.accordionContentContainers[t].clientHeight;let e=0;this.items.forEach((o,n)=>{if(this.previousSelectedIndex>t){const i=this.previousSelectedIndex-this.selectedIndex;n>t&&i>e&&(h(a.slideVertical,this.accordionSelectors[n],{up:!1,distance:s,open:!0}),e+=1)}else if(t>this.previousSelectedIndex&&null!==this.previousSelectedIndex){const i=t-this.previousSelectedIndex;n>this.previousSelectedIndex&&i>e&&(h(a.slideVertical,this.accordionSelectors[n],{up:!0,distance:s,open:!0}),e+=1)}else n>t&&h(a.slideVertical,this.accordionSelectors[n],{up:i,distance:s,open:!0})})}}handleButtonClick(t,i){(t&&t.path&&t.path.length>0&&t.path[0]&&t.path[0]).disabled||l(t,i.handler)}renderIconPair(t,i){return s("div",{class:"icon"},s("yoo-icon",{class:t.selected?i[1]:i[0]}))}renderAccordionTitle(t,i,e=!1){return s("div",{class:{"title-container":!0,"master-title":e,"active-title":t.selected},onClick:()=>this.onAccordionClick(t,i)},s("div",{class:"left-container"},this.iconPairLeft&&this.renderIconPair(t,this.iconPairLeft),s("div",{class:"title"},r(t.title)),t.subItemCount&&s("span",{class:"count"},t.subItemCount)),s("div",{class:"right-container"},t.actionButtons&&t.actionButtons.length>0&&this.renderActionButton(t.actionButtons),this.iconPairRight&&this.renderIconPair(t,this.iconPairRight)))}renderActionButton(t){return t.map(t=>(t.isVisible&&t.isVisible()||!t.isVisible)&&s("yoo-button",{onClick:i=>this.handleButtonClick(i,t),text:t.text,disabled:t.disabled,class:t.cssClass||"",icon:t.icon}))}renderSlot(t,i){return s("div",{ref:t=>this.accordionContentContainers[i]=t,class:t.selected?"selected-accordion":"undisplayed-accordion"},s("slot",{name:t.title}))}renderMasterTitle(){const t={title:this.masterTitle,selected:this.isAnItemSelected()};return this.renderAccordionTitle(t,-1,!0)}render(){return s(e,{class:{"bottom-border":this.showBottomBorder}},s("div",{class:"outer-container"},this.masterTitle&&this.renderMasterTitle(),this.items.map((t,i)=>s("div",{class:"accordion-selector",ref:t=>this.accordionSelectors[i]=t},this.renderAccordionTitle(t,i),this.renderSlot(t,i)))))}get host(){return o(this)}static get watchers(){return{entries:["onTitlesChange"]}}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}\@-webkit-keyframes toggle-opacity{0%{opacity:0}50%{opacity:.5}to{opacity:1}}\@keyframes toggle-opacity{0%{opacity:0}50%{opacity:.5}to{opacity:1}}:host{--title-font-size:var(--font-size-03,1rem);--outer-container-padding:none;--outer-container-width:100%;--accordion-background:var(--light,#fff)}:host .outer-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--outer-container-width);padding:var(--outer-container-padding);-webkit-transition:all .3s;transition:all .3s;background:var(--accordion-background)}:host .outer-container .title-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;width:100%;margin:var(--padding-10,.625rem) 0}:host .outer-container .title-container .left-container{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center}:host .outer-container .title-container .left-container .icon{padding-right:var(--padding-5,.3125rem);font-size:var(--font-size-01,.75rem)}:host .outer-container .title-container .left-container .title{padding-right:var(--padding-5,.3125rem);color:var(--black,#000);font-size:var(--title-font-size);font-weight:var(--font-weight-03,700)}:host .outer-container .title-container .left-container .count{color:var(--text-color,#807f83);font-weight:var(--font-weight-03,700)}:host .outer-container .title-container .right-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .outer-container .title-container .right-container yoo-button:first-child{padding-right:var(--padding-10,.625rem)}:host .outer-container .title-container .right-container yoo-button.conditions-toggle-off{--background-container:transparent}:host .outer-container .title-container .right-container yoo-button.conditions-select,:host .outer-container .title-container .right-container yoo-button.conditions-toggle{--color-value:var(--success,#04cc99);--background-container:transparent;--font-size-text:var(--font-size-02,0.875rem)}:host .outer-container .title-container .right-container yoo-button.conditions-select.cancel{--color-value:var(--stable,#adadad)}:host .outer-container .title-container .right-container yoo-button.new-page{--color-value:var(--black,#000);--shadow:none;--border-container:1px solid var(--stable-light,#f1f1f1)}:host .outer-container .accordion-selector{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:start;justify-content:flex-start;width:100%}:host .outer-container .accordion-selector:first-child .title-container{margin-top:0}:host .outer-container .accordion-selector:last-child{margin-bottom:var(--padding-20,1.25rem)}:host .outer-container .accordion-selector .accordion-title:hover{cursor:pointer}:host .outer-container .accordion-selector .accordion-title.active-title .icon{-webkit-transition:all .3s;transition:all .3s}:host .outer-container .accordion-selector .undisplayed-accordion{display:none}:host .outer-container .accordion-selector .selected-accordion{display:block;-webkit-transition:all .3s;transition:all .3s;color:var(--dark,#2b3648);-webkit-animation:toggle-opacity .3s ease;animation:toggle-opacity .3s ease}:host(.bottom-border) .outer-container .title-container{padding-bottom:var(--padding-10,.625rem);border-bottom:1px solid var(--stable-light,#f1f1f1)}:host(.sub-accordion) .outer-container .accordion-selector .title-container .left-container .count,:host(.sub-accordion) .outer-container .accordion-selector .title-container .left-container .title{font-size:var(--font-size-02,.875rem);font-weight:var(--font-weight-02,400)}:host(.accent) .outer-container,:host(.accent) .outer-container .accordion-selector .title-container{border-color:var(--accent,#1fb6ff)}:host(.accent) .outer-container .accordion-selector .title-container .icon{color:var(--accent,#1fb6ff)}:host(.danger) .outer-container,:host(.danger) .outer-container .accordion-selector .title-container{border-color:var(--danger,#ff625f)}:host(.danger) .outer-container .accordion-selector .title-container .icon{color:var(--danger,#ff625f)}:host(.success) .outer-container,:host(.success) .outer-container .accordion-selector .title-container{border-color:var(--success,#04cc99)}:host(.success) .outer-container .accordion-selector .title-container .icon{color:var(--success,#04cc99)}:host(.info) .outer-container,:host(.info) .outer-container .accordion-selector .title-container{border-color:var(--info,#fc459e)}:host(.info) .outer-container .accordion-selector .title-container .icon{color:var(--info,#fc459e)}:host(.warning) .outer-container,:host(.warning) .outer-container .accordion-selector .title-container{border-color:var(--warning,#ff6402)}:host(.warning) .outer-container .accordion-selector .title-container .icon{color:var(--warning,#ff6402)}:host(.dark) .outer-container,:host(.dark) .outer-container .accordion-selector .title-container{border-color:var(--dark-40,rgba(43,54,72,.4))}:host(.dark) .outer-container .accordion-selector .title-container .icon{color:var(--dark-40,rgba(43,54,72,.4))}"}},w=class{constructor(s){t(this,s),this.mode="added",this.options=c,this.isInSelectionMode=!1,this.blockFieldExpansion=!1,this.isExpanded=!1,this.showInvisibleContent=!1,this.showConditionBlock=!1,this.secondaryActions=[{text:r("REMOVECONDITION"),icon:"yo-formula",handler:()=>this.removeConditionClicked.emit({name:this.formField.name}),isVisible:()=>this.formField.isConditional},{text:r("DUPLICATE"),icon:"yo-duplicate",handler:()=>this.duplicateClicked.emit({name:this.formField.name})},{text:r("MOVEUP"),icon:"yo-move-up",handler:()=>this.moveUpClicked.emit({name:this.formField.name}),isVisible:()=>!this.formField.isFirst},{text:r("MOVEDOWN"),icon:"yo-move-down",handler:()=>this.moveDownClicked.emit({name:this.formField.name}),isVisible:()=>!this.formField.isLast},{text:r("SAVEASTEMPLATE"),icon:"yo-bookmark",handler:()=>this.saveAsTemplateClicked.emit({name:this.formField.name})},{text:r("MARKASMANDATORY"),icon:"yo-mandatory",handler:()=>this.markAsMandatoryClicked.emit({name:this.formField.name})},{text:r("DELETE"),icon:"yo-delete",handler:()=>this.deleteClicked.emit({name:this.formField.name})}],this.pagePlaceholderActions=[],this.expandableChildBlocks=[],this.scoringInputs=[],this.onScoringInputChanged=(t,i)=>{let s=i.detail;""!==s&&null!==s||(s=0);let{formattedScoring:e,scoringCategory:o}=this.formField;t=this.convertValueText(t,o),0===e.scoreValuePairs.length?this.addNewScore(e,t,s):this.changeExistingScore(e,t,s,o)},this.onNonApplicableToggled=(t,i)=>{this.onScoringInputChanged(t.valueText,{event:{detail:i.detail.value}})},this.onClearScore=()=>{this.clearScore()},this.blockExpanded=i(this,"blockExpanded",7),this.headerClicked=i(this,"headerClicked",7),this.duplicateClicked=i(this,"duplicateClicked",7),this.moveUpClicked=i(this,"moveUpClicked",7),this.moveDownClicked=i(this,"moveDownClicked",7),this.saveAsTemplateClicked=i(this,"saveAsTemplateClicked",7),this.markAsMandatoryClicked=i(this,"markAsMandatoryClicked",7),this.deleteClicked=i(this,"deleteClicked",7),this.additionClicked=i(this,"additionClicked",7),this.scoringClicked=i(this,"scoringClicked",7),this.logicClicked=i(this,"logicClicked",7),this.removeConditionClicked=i(this,"removeConditionClicked",7),this.linkToFieldClicked=i(this,"linkToFieldClicked",7),this.pagePlaceholderClicked=i(this,"pagePlaceholderClicked",7),this.scoreChanged=i(this,"scoreChanged",7),this.scoreAdded=i(this,"scoreAdded",7),this.scoreDeleted=i(this,"scoreDeleted",7),this.itemSelected=i(this,"itemSelected",7),this.addPageCondition=i(this,"addPageCondition",7),this.removePageCondition=i(this,"removePageCondition",7)}onFormField(){this.formField.expanded!==this.isExpanded&&(this.isExpanded=this.formField.expanded)}onShowConditions(){this.showConditionBlock=this.showConditions}async expandBlock(t){this.isExpanded=t,this.blockExpanded.emit({expanded:t,name:this.formField.name})}async getExpandableChildBlocks(){return this.expandableChildBlocks}async toggleInvisibleDiv(){this.showInvisibleContent=!this.showInvisibleContent}componentWillLoad(){this.isExpanded=!!this.formField&&this.formField.expanded,this.showConditionBlock=this.showConditions,"placeholder-page"===this.mode&&(this.pagePlaceholderActions=this.setPagePlaceHolderActions(this.pagePlaceholderActions,this.itemList))}setPagePlaceHolderActions(t,i){return i&&i.length>0&&i.forEach((i,s)=>{const e={text:i.pageTitle,selected:this.pageLinks.includes(s),disabled:s===this.formField.pageIndex};t.push(e)}),t}hasFormattedScoring(){return this.formField.formattedScoring&&this.formField.formattedScoring.scoreValuePairs&&this.formField.formattedScoring.scoreValuePairs.length>0}clearInputs(){this.scoringInputs.forEach(t=>{t.clear()})}changeExistingScore(t,i,s,e){e===d.numberRating?t.scoreValuePairs[0].score=s:t.scoreValuePairs=t.scoreValuePairs.map(t=>(t.value===i&&(t.score=s),t)),t.scoreValuePairs.find(t=>0!==t.score)?(t.maxScore=S(t.scoreValuePairs,e),this.scoreChanged.emit({formattedScoring:t,scoringCategory:e})):this.clearScore(t)}addNewScore(t,i,s){const{scoringCategory:e,values:o}=this.formField;e!==d.numberRating?(t.scoreValuePairs.push({value:i,score:s}),o&&o.forEach(s=>{s!==i&&t.scoreValuePairs.push({value:s,score:0})})):(t.scoreValuePairs.push({value:i,score:s}),t.maxScore=S(t.scoreValuePairs,e)),this.formField.hasScoring=!0,this.scoreAdded.emit({formattedScoring:t,scoringCategory:e})}clearScore(t){this.clearInputs(),this.scoreDeleted.emit({formattedScoring:t||this.formField.formattedScoring}),this.formField.formattedScoring=null,this.formField.hasScoring=!1}convertValueText(t,i){return t=t.split("/")[0],i===d.presence&&(t=t.toLowerCase()),t}onHeaderIconClicked(t){if(!this.isInSelectionMode)switch(t){case"yo-down":this.expandBlock(!0);break;case"yo-up":this.expandBlock(!1);break;case"yo-scoring":this.scoringClicked.emit({name:this.formField.name});break;case"yo-logic":this.showConditionBlock||this.logicClicked.emit({name:this.formField.name}),this.showConditionBlock=!this.showConditionBlock}}onHeaderClicked(){this.headerClicked.emit({name:this.formField.name}),"added"!==this.mode||this.blockFieldExpansion||this.isInSelectionMode||this.expandBlock(!this.isExpanded)}onParentBlockClick(){this.isInSelectionMode&&this.itemSelected.emit({name:this.formField.name})}onRemoveCondition(t,i){t.stopPropagation(),this.removeConditionClicked.emit({name:i})}onRemoveAllPageConditions(t,i){t.stopPropagation(),this.pageLinks&&this.pageLinks.length>0&&this.pageLinks.forEach(t=>{this.removePageCondition.emit({slideIndex:t,conditionId:i._id})})}onPageCondiionsChanged(t,i){t.detail&&t.detail.length>0&&i&&t.detail.forEach((t,s)=>{t&&!this.pageLinks.includes(s)?this.addPageCondition.emit({slideIndex:s,condition:i}):!t&&this.pageLinks.includes(s)&&this.removePageCondition.emit({slideIndex:s,conditionId:i._id})})}calculateNumberRatingTotal(t){return this.formField.scoringCategory===d.numberRating&&this.formField.max?t*this.formField.max:this.formField.type===u.starrating?t*A:void 0}shouldHaveMax(){return this.formField.scoringCategory===d.numberRating&&this.formField.type!==u.starrating&&!this.formField.max}hasCondition(){return this.formField.fieldConditions&&this.formField.fieldConditions.length>0}hasTagGroupConditions(){return this.formField&&this.formField.tagGroupConditions&&this.formField.tagGroupConditions.length>0}isScoringMode(){return"scoring"===this.mode}renderGroupTagConditionBlocks(){return s("div",{class:"child-block top"},this.formField.tagGroupConditions&&this.formField.tagGroupConditions.map(t=>this.renderConditionBlock(t,!0)))}renderConditions(){return s("div",{class:"child-block"},this.formField.fieldConditions&&this.formField.fieldConditions.map((t,i)=>[this.showConditionBlock&&this.renderConditionBlock(t.condition,!1,i===this.formField.fieldConditions.length-1,t.expandOnLoad),t.pages&&t.pages.length>0&&this.renderPageConditionaBlocks(t.pages,i,i===this.formField.fieldConditions.length-1,!(t.fields&&t.fields.length>0),t.condition),t.fields&&t.fields.length>0&&this.renderFieldConditionBlocks(t,i,i===this.formField.fieldConditions.length-1)]))}renderPageConditionaBlocks(t,i,s,e,o){const n=t.map(t=>t.pageIndex);return this.showConditions&&this.renderExpandablePageBlock(n,i,s,e,o)}renderFieldConditionBlocks(t,i,s){if(t.fields){const{sequentialFields:e,nonSequentialFields:o}=I(t),n=e&&e.length>0;return[o&&o.map((t,e)=>t.formCreatorIndex<this.numberOfBlocksToRender?this.renderExpandableFieldBlock(t,i,s,!n&&e===o.length-1):void 0),e&&e.map((t,o)=>this.renderExpandableFieldBlock(t,i,s,o===e.length-1))]}}renderChildBlockMarkerAndIndicator(t,i=!1,e=!1){return[!i&&s("div",{class:{"child-block-marker":!0,[this.formField.category]:!t,condition:t}}),s("div",{class:{"child-block-indicator":!0,[this.formField.category]:!t,condition:t,"indented-indicator":i,last:e}})]}renderConditionBlock(t,i,e=!1,o=!1){const n=t.type,h=t.operator;let a;switch(n){case"field":a=t.values;break;case"tags":a=t.tags;break;case"groups":a=t.group}return s("div",{class:"child-block-container condition"},this.renderChildBlockMarkerAndIndicator(i,!1,e),s("yoo-form-creator-condition-block",{operator:h,type:n,conditionValues:a,fieldValues:this.formField.values,parentFieldType:this.formField.type,parentFieldName:this.formField.name,condition:t,itemList:this.itemList,pageIndex:this.formField.pageIndex,expandOnLoad:o},("groups"===n||"tags"===n)&&s("div",{class:"tag-group-condition-slot",slot:t._id},s("slot",{name:t._id}))))}renderExpandableFieldBlock({formCreatorIndex:t,type:i,values:e,title:o,icon:n,category:h,name:a,isExpanded:l,parentConditions:r,condition:c,nonSequentialConditionalFieldPosition:d,sequentialConditionalField:u,hasScoring:p,selected:g},m,C,v){const k=L(c),b={title:o,icon:n,category:h,name:a,expanded:l,fieldConditions:r,isConditional:y(c),nonSequentialConditionalFieldPosition:d,hasScoring:p,tagGroupConditions:k,selected:g,type:i,values:e,formCreatorIndex:t},x=u&&u.parentFieldName===this.formField.name;if(!x&&d&&!this.showConditionBlock)return null;let{childFields:f,sequentialConditionFields:E}=P(r,m);return s("div",{class:{"sortable-container child-block-container":!0,indent:this.showConditions},"data-id":a},this.renderChildBlockMarkerAndIndicator(this.showConditions,!1,v),!C&&this.showConditions&&this.renderChildBlockMarkerAndIndicator(!1,!0),s("yoo-form-creator-block-expandable",{ref:t=>{this.expandableChildBlocks[m]=t},formField:b,mode:d&&!x?"placeholder":"added",isInSelectionMode:this.isInSelectionMode,blockFieldExpansion:this.blockFieldExpansion,showConditions:this.showConditionBlock,numberOfBlocksToRender:this.numberOfBlocksToRender,sequentialConditionFields:E,itemList:this.itemList},!d&&x&&s("div",{class:"nested-child-slot",slot:a},s("slot",{name:a})),f&&f.map(t=>t.sequentialConditionalField&&s("div",{class:"child-slot",slot:t.name},s("slot",{name:t.name})))))}renderExpandablePageBlock(t,i,e,o,n){return s("div",{class:{"sortable-container child-block-container":!0,indent:this.showConditions},"data-id":name},this.renderChildBlockMarkerAndIndicator(this.showConditions,!1,o),!e&&this.showConditions&&this.renderChildBlockMarkerAndIndicator(!1,!0),s("yoo-form-creator-block-expandable",{ref:t=>{this.expandableChildBlocks[i]=t},pageLinks:t,mode:"placeholder-page",formField:{title:r("SHOWPAGES"),category:p.page,icon:"yo-pages",pageIndex:this.formField.pageIndex,pageCondition:n},itemList:this.itemList}))}renderHeader(){return s("div",{class:"header",onClick:()=>this.onHeaderClicked()},s("div",{class:{"form-icon":!0,[this.formField.category]:!0,"no-scoring":this.isScoringMode()&&!this.hasFormattedScoring()}},s("yoo-icon",{class:this.formField.icon+" always-light"})),"added"===this.mode&&(this.formField.formCreatorIndex||0===this.formField.formCreatorIndex)&&s("div",{class:"position-title"},`${this.formField.formCreatorIndex+1}.`),s("div",{class:"title"},g(this.formField.title)),("added"===this.mode||this.isScoringMode())&&this.renderActionIconsContainer(),"new"===this.mode&&this.renderAdd(),"placeholder"===this.mode&&this.renderPlaceholderLink(),"placeholder-page"===this.mode&&this.renderPagePlaceholder())}renderPagePlaceholder(){return s("div",{class:"icons-container pages"},s("yoo-context-menu",{contentButtons:this.pagePlaceholderActions,multipleSelection:!0,onContextMenuClosed:t=>this.onPageCondiionsChanged(t,this.formField.pageCondition)},s("div",{class:"page-title-container"},this.pageLinks&&this.pageLinks.length>0&&this.pageLinks.map((t,i)=>s("div",{class:"page-title"},r("PAGE")," ",t+1,i<this.pageLinks.length-1?",":"")))),s("div",{class:"icon-container"},s("div",{class:"close-container",onClick:t=>this.onRemoveAllPageConditions(t,this.formField.pageCondition)},s("yoo-icon",{class:"yo-close light"}))))}renderPlaceholderLink(){const t=Object.assign({},this.formField.nonSequentialConditionalFieldPosition,{name:this.formField.name});return s("div",{class:"icons-container link",onClick:()=>this.linkToFieldClicked.emit(t)},s("div",{class:"page-title"},r("PAGE")+" "+(this.formField.nonSequentialConditionalFieldPosition.slideIndex+1)),s("div",{class:"icon-container"},s("yoo-icon",{class:"yo-view"}),s("div",{class:"close-container",onClick:t=>this.onRemoveCondition(t,this.formField.name)},s("yoo-icon",{class:"yo-close light"}))))}renderAdd(){return s("div",{class:"icons-container"},s("div",{class:"icon-container plus",onClick:()=>this.additionClicked.emit()},s("div",{class:"plus-container"},s("yoo-icon",{class:"yo-plus always-light"}))))}renderActionIconsContainer(){return s("div",{class:"icons-container",onClick:t=>t.stopPropagation()},this.options.includes(m.formula)&&this.renderIcon("yo-formula"),this.options.includes(m.logic)&&this.renderIcon("yo-logic"),this.options.includes(m.scoring)&&this.renderIcon("yo-scoring"),this.options.includes(m.translate)&&this.renderIcon("yo-translate"),!this.isScoringMode()&&s("yoo-context-menu",{contentButtons:this.secondaryActions},this.renderIcon("yo-more")),this.renderIcon(this.isExpanded?"yo-up":"yo-down"))}renderIcon(t){return s("div",{class:{"icon-container":!0,dropdown:"yo-up"===t||"yo-down"===t},onClick:()=>this.onHeaderIconClicked(t)},s("yoo-icon",{class:{[t]:!0,black:this.isScoringMode()?this.hasFormattedScoring():this.formField.hasScoring,stable:!0,condition:this.hasCondition(),conditional:this.formField.isConditional}}))}renderScoringContent(){return s("div",{class:"scoring-content"},s("div",{class:"content-header"},s("span",{class:"content-header-title"},r(this.formField.scoringCategory===d.noScoring?"SCORINGNOTSUPPORTED":"SCORES")),this.hasFormattedScoring()&&s("yoo-button",{class:"small danger",text:"clear",icon:"yo-rubber",onClick:this.onClearScore})),this.shouldHaveMax()?s("h5",null,r("NOMAX")):this.renderScoringValuesContainer())}renderScoringValuesContainer(){return s("div",{class:"values-container"},(this.formField.scoringCategory===d.singleChoice||this.formField.scoringCategory===d.multipleChoice)&&this.formField.values&&this.formField.values.map((t,i)=>{let s;this.hasFormattedScoring()&&(s=this.findScoringValuePair(t)?this.findScoringValuePair(t).score:null);let e={valueText:t,score:s,notApplicable:O(s)};return this.renderScoringInput(e,i)}),this.formField.scoringCategory===d.presence&&this.getPresenceScoringContent(),this.formField.scoringCategory===d.numberRating&&this.getNumberRatingScoringContent())}findScoringValuePair(t){return this.formField.formattedScoring.scoreValuePairs.find(i=>i.value===t)}getNumberRatingScoringContent(){let t,i={valueText:"VALUE"};return this.hasFormattedScoring()&&(t=this.formField.formattedScoring.scoreValuePairs[0].score,i=Object.assign({},i,{score:t,notApplicable:O(t)})),this.renderScoringInput(i,t)}getPresenceScoringContent(){let t={valueText:r("VALUE/TRUE")},i={valueText:r("NOVALUE/FALSE")};return this.hasFormattedScoring()&&(t.score=this.findScoringValuePair("value").score,t.notApplicable=O(t.score),i.score=this.findScoringValuePair("novalue").score,i.notApplicable=O(i.score)),[this.renderScoringInput(t,0),this.renderScoringInput(i,1)]}renderScoringInput(t,i=0){return s("div",{class:"value-container"},s("div",{class:"value-text"},t.valueText.toUpperCase()),s("div",{class:"input-container"},s("yoo-form-input",{ref:t=>this.scoringInputs[i]=t,class:"scoring",forceValueUpdate:!0,type:"number",value:t.notApplicable?"":t.score,placeholder:r("ADDVALUE"),hasIconPrefix:!1,disabled:t.notApplicable,checkboxParams:{header:"N/A",value:t.notApplicable},onCheckboxClicked:this.onNonApplicableToggled.bind(this,t),onInputChanged:this.onScoringInputChanged.bind(this,t.valueText)})))}renderContent(){return s("div",{class:{"content-container":!0,expanded:this.isExpanded}},s("slot",{name:this.formField.name}),s("div",{class:{invisible:!0,show:this.showInvisibleContent}}))}render(){return s(e,{class:{"selection-mode":this.isInSelectionMode,selected:this.isInSelectionMode&&this.formField.selected,placeholder:"placeholder"===this.mode||"placeholder-page"===this.mode,"no-scoring":this.isScoringMode()&&!this.hasFormattedScoring()||this.formField.scoringCategory===d.noScoring}},s("div",{class:"outer-container"},!this.isScoringMode()&&this.hasTagGroupConditions()&&this.showConditionBlock&&this.renderGroupTagConditionBlocks(),s("div",{class:{"parent-block-container":!0,expanded:this.isExpanded,[this.formField.category]:!0},onClick:()=>this.onParentBlockClick()},(this.formField||"placeholder-page"===this.mode&&this.pageLinks)&&this.renderHeader(),this.formField&&"placeholder"!==this.mode&&"placeholder-page"!==this.mode&&!this.isScoringMode()&&this.renderContent(),this.isScoringMode()&&this.isExpanded&&this.renderScoringContent()),this.hasCondition()&&!this.isScoringMode()&&"placeholder"!==this.mode&&this.renderConditions()))}get host(){return o(this)}static get watchers(){return{formField:["onFormField"],showConditions:["onShowConditions"]}}static get style(){return"\@charset \"UTF-8\";.iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{--expandable-block-border:none}:host .outer-container .parent-block-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;min-height:2.5rem;margin:var(--padding-10,.625rem) 0;-webkit-transition:.3s;transition:.3s;border-radius:.25rem;background:var(--light,#fff);-webkit-box-shadow:0 5px 15px 0 rgba(40,47,54,.08);box-shadow:0 5px 15px 0 rgba(40,47,54,.08)}:host .outer-container .parent-block-container .header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:2.5rem}:host .outer-container .parent-block-container .header .condition-icon,:host .outer-container .parent-block-container .header .form-icon{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:1.25rem;height:1.25rem;margin-left:var(--padding-10,.625rem);border-radius:.25rem}:host .outer-container .parent-block-container .header .condition-icon yoo-icon,:host .outer-container .parent-block-container .header .form-icon yoo-icon{font-size:var(--font-size-03,1rem)}:host .outer-container .parent-block-container .header .title{-ms-flex:1;flex:1;margin-left:var(--padding-10,.625rem);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}:host .outer-container .parent-block-container .header .position-title{font-weight:var(--font-weight-03,700);margin-left:var(--padding-10,.625rem)}:host .outer-container .parent-block-container .header .icons-container{display:-ms-flexbox;display:flex;position:relative}:host .outer-container .parent-block-container .header .icons-container .icon-container{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:var(--padding-20,1.25rem);margin-right:var(--padding-10,.625rem)}:host .outer-container .parent-block-container .header .icons-container .icon-container yoo-icon{font-size:var(--font-size-05,1.25rem)}:host .outer-container .parent-block-container .header .icons-container .icon-container.dropdown{width:34px;margin-right:0}:host .outer-container .parent-block-container .header .icons-container .icon-container.dropdown:after{position:absolute;left:0;width:1px;height:1.125rem;background:var(--stable-light,#f1f1f1);content:\"\"}:host .outer-container .parent-block-container .header .icons-container .icon-container.plus{width:2.125rem;height:2.125rem}:host .outer-container .parent-block-container .header .icons-container .icon-container .plus-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:.875rem;height:.875rem;border-radius:50%;background:var(--stable-alt,#d0d0d0);color:var(--always-light,#fff)}:host .outer-container .parent-block-container .header .icons-container .icon-container .plus-container yoo-icon{font-size:var(--font-size-01,.75rem)}:host .outer-container .parent-block-container .header .icons-container yoo-context-menu{--width-dropdown-content:10rem;--max-width-dropdown-content:unset}:host .outer-container{position:relative}:host .outer-container .parent-block-condition,:host .outer-container .parent-block-container{border-color:var(--accent,#1fb6ff);position:relative;border:var(--expandable-block-border)}:host .outer-container .parent-block-condition.multimedia,:host .outer-container .parent-block-container.multimedia{border-color:var(--info,#fc459e)}:host .outer-container .parent-block-condition.select,:host .outer-container .parent-block-container.select{border-color:var(--accent,#1fb6ff)}:host .outer-container .parent-block-condition.text,:host .outer-container .parent-block-container.text{border-color:var(--energized,#fed05b)}:host .outer-container .parent-block-condition.number,:host .outer-container .parent-block-container.number{border-color:var(--royal,#845cff)}:host .outer-container .parent-block-condition.information,:host .outer-container .parent-block-container.information{border-color:var(--warning,#ff6402)}:host .outer-container .parent-block-condition.no-scoring,:host .outer-container .parent-block-container.no-scoring{border-color:var(--stable-alt,#d0d0d0)}:host .outer-container .parent-block-condition.action,:host .outer-container .parent-block-container.action{border-color:var(--dark-two,#212936)}:host .outer-container .parent-block-condition.dateandtime,:host .outer-container .parent-block-container.dateandtime{border-color:var(--dark,#2b3648)}:host .outer-container .parent-block-condition.catalogandbarcode,:host .outer-container .parent-block-container.catalogandbarcode{border-color:var(--danger,#ff625f)}:host .outer-container .parent-block-condition.contactdetail,:host .outer-container .parent-block-container.contactdetail{border-color:var(--light-orange,#fcae49)}:host .outer-container .parent-block-condition.boost,:host .outer-container .parent-block-container.boost{border-color:var(--danger-light,#f46885)}:host .outer-container .parent-block-condition.condition,:host .outer-container .parent-block-container.condition{border-color:var(--black,#000)}:host .outer-container .parent-block-condition.page,:host .outer-container .parent-block-container.page{border-color:var(--success,#04cc99)}:host .outer-container .parent-block-condition .header .form-icon,:host .outer-container .parent-block-container .header .form-icon{background-color:var(--accent,#1fb6ff)}:host .outer-container .parent-block-condition .header .form-icon.multimedia,:host .outer-container .parent-block-container .header .form-icon.multimedia{background-color:var(--info,#fc459e)}:host .outer-container .parent-block-condition .header .form-icon.select,:host .outer-container .parent-block-container .header .form-icon.select{background-color:var(--accent,#1fb6ff)}:host .outer-container .parent-block-condition .header .form-icon.text,:host .outer-container .parent-block-container .header .form-icon.text{background-color:var(--energized,#fed05b)}:host .outer-container .parent-block-condition .header .form-icon.number,:host .outer-container .parent-block-container .header .form-icon.number{background-color:var(--royal,#845cff)}:host .outer-container .parent-block-condition .header .form-icon.information,:host .outer-container .parent-block-container .header .form-icon.information{background-color:var(--warning,#ff6402)}:host .outer-container .parent-block-condition .header .form-icon.no-scoring,:host .outer-container .parent-block-container .header .form-icon.no-scoring{background-color:var(--stable-alt,#d0d0d0)}:host .outer-container .parent-block-condition .header .form-icon.action,:host .outer-container .parent-block-container .header .form-icon.action{background-color:var(--dark-two,#212936)}:host .outer-container .parent-block-condition .header .form-icon.dateandtime,:host .outer-container .parent-block-container .header .form-icon.dateandtime{background-color:var(--dark,#2b3648)}:host .outer-container .parent-block-condition .header .form-icon.catalogandbarcode,:host .outer-container .parent-block-container .header .form-icon.catalogandbarcode{background-color:var(--danger,#ff625f)}:host .outer-container .parent-block-condition .header .form-icon.contactdetail,:host .outer-container .parent-block-container .header .form-icon.contactdetail{background-color:var(--light-orange,#fcae49)}:host .outer-container .parent-block-condition .header .form-icon.boost,:host .outer-container .parent-block-container .header .form-icon.boost{background-color:var(--danger-light,#f46885)}:host .outer-container .parent-block-condition .header .form-icon.condition,:host .outer-container .parent-block-container .header .form-icon.condition{background-color:var(--black,#000)}:host .outer-container .parent-block-condition .header .form-icon.page,:host .outer-container .parent-block-container .header .form-icon.page{background-color:var(--success,#04cc99)}:host .outer-container .parent-block-condition .header .icons-container .icon-container .yo-logic.condition,:host .outer-container .parent-block-container .header .icons-container .icon-container .yo-logic.condition{color:var(--energized,#fed05b)}:host .outer-container .parent-block-condition .header .icons-container .icon-container .yo-formula.conditional,:host .outer-container .parent-block-container .header .icons-container .icon-container .yo-formula.conditional{color:var(--info,#fc459e)}:host .outer-container .parent-block-condition .header .icons-container .icon-container .yo-scoring.black,:host .outer-container .parent-block-container .header .icons-container .icon-container .yo-scoring.black{color:var(--black,#000)}:host .outer-container .parent-block-condition .header .icons-container.link,:host .outer-container .parent-block-container .header .icons-container.link{color:var(--success,#04cc99);font-size:var(--font-size-02,.875rem)}:host .outer-container .parent-block-condition .header .icons-container.link .page-title,:host .outer-container .parent-block-condition .header .icons-container.pages .page-title,:host .outer-container .parent-block-container .header .icons-container.link .page-title,:host .outer-container .parent-block-container .header .icons-container.pages .page-title{margin-right:var(--padding-10,.625rem)}:host .outer-container .parent-block-condition .header .icons-container.link .icon-container,:host .outer-container .parent-block-condition .header .icons-container.pages .icon-container,:host .outer-container .parent-block-container .header .icons-container.link .icon-container,:host .outer-container .parent-block-container .header .icons-container.pages .icon-container{width:auto}:host .outer-container .parent-block-condition .header .icons-container.link .icon-container .close-container,:host .outer-container .parent-block-condition .header .icons-container.pages .icon-container .close-container,:host .outer-container .parent-block-container .header .icons-container.link .icon-container .close-container,:host .outer-container .parent-block-container .header .icons-container.pages .icon-container .close-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:.875rem;height:.875rem;margin-left:var(--padding-10,.625rem);border-radius:50%;background:var(--stable-alt,#d0d0d0);color:var(--light,#fff);font-size:var(--font-size-01,.75rem)}:host .outer-container .parent-block-condition .header .icons-container.pages .page-title-container,:host .outer-container .parent-block-container .header .icons-container.pages .page-title-container{display:-ms-flexbox;display:flex}:host .outer-container .parent-block-condition .header .icons-container.pages .page-title,:host .outer-container .parent-block-container .header .icons-container.pages .page-title{color:var(--success,#04cc99);font-size:var(--font-size-02,.875rem)}:host .outer-container .parent-block-condition .content-container,:host .outer-container .parent-block-container .content-container{display:-ms-flexbox;display:flex;position:relative;height:0;-webkit-transition:.3s;transition:.3s;overflow:hidden;z-index:1}:host .outer-container .parent-block-condition .content-container.expanded,:host .outer-container .parent-block-container .content-container.expanded{height:60rem}:host .outer-container .parent-block-condition .content-container .invisible,:host .outer-container .parent-block-container .content-container .invisible{top:0;right:0;bottom:0;left:0;position:absolute;width:100%;height:100%;z-index:-1}:host .outer-container .parent-block-condition .content-container .invisible.show,:host .outer-container .parent-block-container .content-container .invisible.show{z-index:100}:host .outer-container .parent-block-condition .scoring-content,:host .outer-container .parent-block-container .scoring-content{padding:var(--padding-10,.625rem)}:host .outer-container .parent-block-condition .scoring-content .content-header,:host .outer-container .parent-block-container .scoring-content .content-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding-bottom:var(--padding-10,.625rem)}:host .outer-container .parent-block-condition .scoring-content .content-header .content-header-title,:host .outer-container .parent-block-container .scoring-content .content-header .content-header-title{padding-right:var(--padding-10,.625rem);font-size:var(--font-size-01,.75rem)}:host .outer-container .parent-block-condition .scoring-content .values-container,:host .outer-container .parent-block-container .scoring-content .values-container{display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:var(--padding-20,1.25rem);grid-row-gap:var(--padding-20,1.25rem)}:host .outer-container .parent-block-condition .scoring-content .values-container .value-container .value-text,:host .outer-container .parent-block-container .scoring-content .values-container .value-container .value-text{font-size:var(--font-size-01,.75rem)}:host .outer-container .parent-block-condition .scoring-content .values-container .input-container,:host .outer-container .parent-block-container .scoring-content .values-container .input-container{display:-ms-flexbox;display:flex}:host .outer-container .parent-block-condition .scoring-content .values-container .input-container yoo-form-input,:host .outer-container .parent-block-container .scoring-content .values-container .input-container yoo-form-input{-ms-flex:1;flex:1}:host .outer-container .parent-block-condition .scoring-content .values-container .input-container yoo-form-checkbox,:host .outer-container .parent-block-container .scoring-content .values-container .input-container yoo-form-checkbox{-ms-flex-item-align:center;align-self:center;padding-top:var(--padding-5,.3125rem);padding-left:var(--padding-10,.625rem)}:host .outer-container .parent-block-condition .child-block-indicator{top:auto;right:auto;bottom:-.625rem;left:1.09375rem;position:absolute;height:.625rem}:host .outer-container .child-block{margin-left:3.125rem}:host .outer-container .child-block:first-child{z-index:9}:host .outer-container .child-block:nth-child(2){z-index:8}:host .outer-container .child-block:nth-child(3){z-index:7}:host .outer-container .child-block:nth-child(4){z-index:6}:host .outer-container .child-block:nth-child(5){z-index:5}:host .outer-container .child-block:nth-child(6){z-index:4}:host .outer-container .child-block:nth-child(7){z-index:3}:host .outer-container .child-block:nth-child(8){z-index:2}:host .outer-container .child-block:nth-child(9){z-index:1}:host .outer-container .child-block:nth-child(10){z-index:0}:host .outer-container .child-block .child-block-container{position:relative}:host .outer-container .child-block .child-block-container.indent{margin-left:3.125rem}:host .outer-container .child-block .child-block-container .child-block-marker{background-color:var(--accent,#1fb6ff);top:1.09375rem;right:auto;bottom:auto;left:-2.0625rem;position:absolute;width:.4375rem;height:.4375rem;border-radius:50%}:host .outer-container .child-block .child-block-container .child-block-marker.multimedia{background-color:var(--info,#fc459e)}:host .outer-container .child-block .child-block-container .child-block-marker.select{background-color:var(--accent,#1fb6ff)}:host .outer-container .child-block .child-block-container .child-block-marker.text{background-color:var(--energized,#fed05b)}:host .outer-container .child-block .child-block-container .child-block-marker.number{background-color:var(--royal,#845cff)}:host .outer-container .child-block .child-block-container .child-block-marker.information{background-color:var(--warning,#ff6402)}:host .outer-container .child-block .child-block-container .child-block-marker.no-scoring{background-color:var(--stable-alt,#d0d0d0)}:host .outer-container .child-block .child-block-container .child-block-marker.action{background-color:var(--dark-two,#212936)}:host .outer-container .child-block .child-block-container .child-block-marker.dateandtime{background-color:var(--dark,#2b3648)}:host .outer-container .child-block .child-block-container .child-block-marker.catalogandbarcode{background-color:var(--danger,#ff625f)}:host .outer-container .child-block .child-block-container .child-block-marker.contactdetail{background-color:var(--light-orange,#fcae49)}:host .outer-container .child-block .child-block-container .child-block-marker.boost{background-color:var(--danger-light,#f46885)}:host .outer-container .child-block .child-block-container .child-block-marker.condition{background-color:var(--black,#000)}:host .outer-container .child-block .child-block-container .child-block-marker.page{background-color:var(--success,#04cc99)}:host .outer-container .child-block .child-block-container .child-block-indicator{top:-.625rem;right:auto;bottom:0;left:-1.90625rem;position:absolute}:host .outer-container .child-block .child-block-container .child-block-indicator.indented-indicator{left:-5rem}:host .outer-container .child-block .child-block-container .child-block-indicator.last{bottom:auto;height:1.71875rem}:host .outer-container .child-block.top .child-block-container .child-block-indicator{top:1.1rem;bottom:-.625rem;height:auto}:host .outer-container .child-block-indicator{background-color:var(--accent,#1fb6ff);width:1px;z-index:0}:host .outer-container .child-block-indicator.multimedia{background-color:var(--info,#fc459e)}:host .outer-container .child-block-indicator.select{background-color:var(--accent,#1fb6ff)}:host .outer-container .child-block-indicator.text{background-color:var(--energized,#fed05b)}:host .outer-container .child-block-indicator.number{background-color:var(--royal,#845cff)}:host .outer-container .child-block-indicator.information{background-color:var(--warning,#ff6402)}:host .outer-container .child-block-indicator.no-scoring{background-color:var(--stable-alt,#d0d0d0)}:host .outer-container .child-block-indicator.action{background-color:var(--dark-two,#212936)}:host .outer-container .child-block-indicator.dateandtime{background-color:var(--dark,#2b3648)}:host .outer-container .child-block-indicator.catalogandbarcode{background-color:var(--danger,#ff625f)}:host .outer-container .child-block-indicator.contactdetail{background-color:var(--light-orange,#fcae49)}:host .outer-container .child-block-indicator.boost{background-color:var(--danger-light,#f46885)}:host .outer-container .child-block-indicator.condition{background-color:var(--black,#000)}:host .outer-container .child-block-indicator.page{background-color:var(--success,#04cc99)}:host(.selection-mode){position:relative}:host(.selection-mode):before{top:var(--padding-10,.625rem);right:auto;bottom:auto;left:auto;position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;color:var(--stable-alt,#d0d0d0);font-family:yoobicons;content:\"\"}:host(.selection-mode) .outer-container{margin-left:var(--padding-30,1.875rem)}:host(.selection-mode.selected):before{color:var(--success,#04cc99);content:\"\"}:host(.no-scoring) .outer-container .parent-block-container{border:1px solid var(--stable-alt,#d0d0d0);border-radius:4px;background:var(--stable-light,#f1f1f1);-webkit-box-shadow:var(--card-shadow-2,0 5px 15px 0 rgba(40,47,54,.08));box-shadow:var(--card-shadow-2,0 5px 15px 0 rgba(40,47,54,.08))}:host(.placeholder) .parent-block-container{border:1px solid var(--stable-alt,#d0d0d0)!important;background:var(--stable-light,#f1f1f1)}"}},_=class{constructor(s){t(this,s),this.selectedLeftMenuOption=m.blocks,this.saveButtonDisabled=!0,this.secondaryActions=[{text:r("IMPORTCSV"),icon:"yo-file-csv",handler:()=>this.exportClicked.emit()},{text:r("EXPORTCSV"),icon:"yo-export",handler:()=>this.importClicked.emit()}],this.closeClicked=i(this,"closeClicked",7),this.saveClicked=i(this,"saveClicked",7),this.exportClicked=i(this,"exportClicked",7),this.importClicked=i(this,"importClicked",7)}renderLogoImage(){const t=C().boost?"boost":"operations";return s("div",{class:"image-container"},s("yoo-img",{class:"header-logo",src:`assets/logo/${t}_simple.svg`}))}renderBreadCrumbs(){return s("div",{class:"title"},s("div",{class:"stable"},r("CAMPAIGNCREATOR")),s("div",{class:"stable"},"/"),s("span",null,g(this.formTitle)))}renderButtons(){return s("div",{class:"buttons-container"},s("div",{class:"icon-container context-menu"},s("yoo-context-menu",{contentButtons:this.secondaryActions},s("yoo-icon",{class:"yo-more stable"}))),s("yoo-button",{onClick:()=>this.saveClicked.emit(),disabled:this.saveButtonDisabled,class:"success",text:r("SAVE")}),s("yoo-button",{onClick:()=>this.closeClicked.emit(),class:"stable",text:r("CLOSE")}))}render(){return s(e,{class:C()},this.renderLogoImage(),this.renderBreadCrumbs(),this.renderButtons())}get host(){return o(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{-ms-flex-pack:justify;justify-content:space-between;height:3rem;border-bottom:1px solid var(--stable-light,#f1f1f1)}:host,:host .image-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .image-container{position:relative;-ms-flex-pack:center;justify-content:center;width:3rem;height:100%}:host .image-container yoo-img{display:-ms-flexbox;display:flex;width:1.5rem;height:1.5rem}:host .image-container:after{position:absolute;right:0;width:1px;height:1.125rem;background:var(--stable-light,#f1f1f1);content:\"\"}:host .title{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;padding-left:var(--padding-20,1.25rem);font-size:var(--font-size-02,.875rem)}:host .title .stable{margin-right:var(--padding-5,.3125rem)}:host .buttons-container{-ms-flex-pack:justify;justify-content:space-between;height:100%}:host .buttons-container,:host .buttons-container .icon-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .buttons-container .icon-container{-ms-flex-pack:center;justify-content:center;min-width:1.125rem;margin-right:var(--padding-20,1.25rem);font-size:var(--font-size-04,1.125rem);text-align:center}:host .buttons-container .icon-container.context-menu{position:relative}:host .buttons-container .icon-container.context-menu yoo-button.secondary-actions{--shadow:none}:host .buttons-container yoo-button{--min-height-container:1.625rem;--min-width-container:4.6875rem;--font-size-text:cssvar(font-size-02);margin-right:var(--padding-20,1.25rem)}"}},V=class{constructor(s){t(this,s),this.scoringMode=!1,this.pageClicked=i(this,"pageClicked",7),this.duplicatePageClicked=i(this,"duplicatePageClicked",7),this.insertPageAfterClicked=i(this,"insertPageAfterClicked",7),this.deletePageClicked=i(this,"deletePageClicked",7),this.editPageClicked=i(this,"editPageClicked",7)}onPageIndexSelected(t){this.selectPageIndexState=t}componentWillLoad(){this.selectPageIndexState=this.selectedPageIndex}onPageClicked(t,i){t.stopPropagation(),this.pageClicked.emit(i)}onInsertPageAfterClicked(t,i){t.stopPropagation(),this.insertPageAfterClicked.emit(i)}onDeletePageClicked(t,i){t.stopPropagation(),this.deletePageClicked.emit(i)}onDuplicatePageClicked(t,i){t.stopPropagation(),this.duplicatePageClicked.emit(i)}renderPageCards(){return this.missionSlides.map((t,i)=>{const e=!this.selectPageIndexState&&0===i||this.selectPageIndexState===i;let o;t.condition&&v(t.condition)?o=t.condition:t.condition&&(o=[t.condition]);let n=0;t.items&&t.items.length>0&&(n=t.items.length);let h=null;this.scoringMode&&(h=t.items.reduce((t,i)=>(i.hasScoring&&t++,t),0));const a={pageTitle:t.title,pageNumber:i+1,selected:e,blockNumber:n,conditions:o,fieldsWithScoringInPage:h},l=[{text:r("EDIT"),icon:"yo-settings",handler:()=>this.editPageClicked.emit(i)},{text:r("DUPLICATE"),icon:"yo-duplicate",handler:()=>this.duplicatePageClicked.emit(i)},{text:r("INSERTPAGEAFTER"),icon:"yo-move-up",handler:()=>this.insertPageAfterClicked.emit(i)},{text:r("DELETE"),icon:"yo-delete",handler:()=>this.deletePageClicked.emit(i)}];return s("yoo-form-creator-card",{pageCardEntry:a,itemList:this.itemList,onPageClicked:t=>this.onPageClicked(t,i),secondaryActions:l})})}render(){return s("yoo-ion-scroll",{class:"relative",horizontalMode:!0},s("div",{class:"cards-container"},this.renderPageCards()))}get host(){return o(this)}static get watchers(){return{selectedPageIndex:["onPageIndexSelected"]}}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host yoo-ion-scroll{height:6.875rem;margin-right:-cssvar(padding-15)}:host yoo-ion-scroll .cards-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%;margin-bottom:var(--padding-10,.625rem)}:host yoo-ion-scroll .cards-container yoo-form-creator-card{margin-top:var(--padding-10,.625rem);margin-right:var(--padding-10,.625rem)}"}},F=class{constructor(s){t(this,s),this.scoring=[],this.baseLanguageChanged=i(this,"baseLanguageChanged",7),this.selectedLanguagesChanged=i(this,"selectedLanguagesChanged",7),this.translationsUpdated=i(this,"translationsUpdated",7),this.translationEdited=i(this,"translationEdited",7),this.translationRemoved=i(this,"translationRemoved",7),this.translationRemoveAll=i(this,"translationRemoveAll",7),this.translationImport=i(this,"translationImport",7),this.saveClicked=i(this,"saveClicked",7),this.scoringChanged=i(this,"scoringChanged",7),this.missionDescriptionChanged=i(this,"missionDescriptionChanged",7),this.slidesChanged=i(this,"slidesChanged",7)}updateTranslations(){this.items=this.translations||[]}componentWillLoad(){this.items=this.translations||[],this.updateGridConfig()}updateGridConfig(){this.secondaryActions=[{type:"delete",text:()=>r("DELETE"),icon:()=>"yo-delete",isVisible:t=>t&&!n(t._id),cssClass:()=>k()?"danger-hover":"bg-danger light",handler:t=>this.onLanguageDelete(t)},{type:"edit",text:()=>r("EDIT"),icon:()=>"yo-pen",isVisible:t=>t&&!n(t._id),cssClass:()=>k()?"royal-hover":"bg-royal light",handler:t=>this.onLanguageEdit(t)}],this.exportActions=[{text:r("IMPORT"),icon:"yo-import",handler:()=>this.onImport()},{text:r("EXPORT"),icon:"yo-export",subMenu:[{text:r("EXCEL"),icon:"yo-file-excel",handler:()=>this.onExport("xlsx")},{text:r("CSV"),icon:"yo-file-csv",handler:()=>this.onExport("csv")}]},{text:r("DELETEALL"),icon:"yo-delete",handler:()=>this.onLanguageDeleteAll()}],this.gridConfig={rowHeight:52,rowStyle:{"line-height":"32px"},headerHeight:40,defaultColDef:{sortable:!0,resizable:!0},rowDeselection:!0,rowSelection:"single",rowModelType:"clientSide",suppressPropertyNamesCheck:!0,animateRows:!0,columnDefs:[{field:"order",headerName:r("ORDER"),hide:!0,sort:"asc"},{field:"_id",headerName:r("ID"),hide:!0},{field:"location",headerName:r("LOCATION"),sort:"asc",cellRenderer:"translateRenderer"},{field:"type",headerName:r("TYPE"),sort:"asc"},{field:"value",headerName:r("VALUE"),hide:!0},{field:"key",headerName:r("KEY")}]},this.baseLanguage&&this.gridConfig.columnDefs.push({field:this.baseLanguage,headerName:r(this.baseLanguage.toUpperCase())}),this.selectedLanguages&&this.selectedLanguages.forEach(t=>{this.gridConfig.columnDefs.push({field:t,headerName:r(t.toUpperCase())})})}onLanguageDelete(t){this.translationRemoved.emit(t)}onLanguageDeleteAll(){this.missionDescription&&(this.resetKey(this.missionDescription,"title"),this.resetKey(this.missionDescription,"text")),this.slides&&this.slides.length>0&&this.slides.forEach(t=>{this.resetKey(t,"title"),this.resetKey(t,"description"),t.items&&t.items.forEach(t=>{this.resetKey(t,"title"),this.resetKey(t,"description"),t.values&&t.values.length>0&&t.values.forEach((i,s)=>{this.resetKey(t,"values["+s+"]")})})}),this.scoring&&this.scoring.length>0&&this.scoring.forEach(t=>{this.resetKey(t,"title"),this.resetKey(t,"description")}),this.translationRemoveAll.emit()}resetKey(t,i){if(t&&this.isTranslationKey(t[i])){let s=this.translations.find(s=>"%"+s.key+"%"===t[i]);s&&s.value&&(t[i]=s.value)}}onLanguageEdit(t){this.translationEdited.emit(t)}onImport(){this.translationImport.emit()}onExport(t){this.grid&&this.grid.doPrintLocal(t)}onBaseLanguageChanged(t){this.baseLanguage=t.detail,this.baseLanguageChanged.emit(this.baseLanguage)}onSelectedLanguagesChanged(t){this.selectedLanguages=t.detail,this.selectedLanguagesChanged.emit(this.selectedLanguages),this.updateGridConfig()}onTranslateAll(){this.items&&this.items.length>0?b(r("OVERWRITEEXISTINGTRANSLATIONS"),[r("NO"),r("YES")]).then(t=>{this.translateAll(t)}):this.translateAll(!0)}translateAll(t){this.missionDescription&&(this.addRow({order:0,entity:this.missionDescription,location:"campaign",path:"title"}),this.addRow({order:1,entity:this.missionDescription,location:"campaign",path:"text"}),this.missionDescriptionChanged.emit(this.missionDescription)),this.slides&&this.slides.length>0&&(this.slides.forEach((t,i)=>{this.addRow({order:1e3*(i+1),entity:t,location:"slide",path:"title",slideIndex:i}),this.addRow({order:1e3*(i+1)+1,entity:t,location:"slide",path:"description",slideIndex:i}),t.items&&t.items.forEach((t,s)=>{this.addRow({order:1e3*(i+1)+100*(s+1),entity:t,location:"field",path:"title",slideIndex:i,fieldIndex:s}),this.addRow({order:1e3*(i+1)+100*(s+1)+1,entity:t,location:"field",path:"description",slideIndex:i,fieldIndex:s}),t.values&&t.values.length>0&&t.values.forEach((e,o)=>{this.addRow({order:1e3*(i+1)+100*(s+1)+(o+2),entity:t,location:"field",path:"values["+o+"]",slideIndex:i,fieldIndex:s})})})}),this.slidesChanged.emit({slides:this.slides})),this.scoring&&this.scoring.length>0&&(this.scoring.forEach((t,i)=>{this.addRow({order:1e4*(i+1),entity:t,location:"scoring",path:"title"}),this.addRow({order:1e4*(i+1)+1,entity:t,location:"scoring",path:"description"})}),this.scoringChanged.emit(this.scoring)),this.translationsUpdated.emit({translations:this.items,overwrite:t})}addRow({order:t,entity:i,location:s,path:e,slideIndex:o,fieldIndex:h}){let a=x(i,e);if(!n(a)&&""!==a){let n=this.items.findIndex(t=>"%"+t.key+"%"===a);if(n<0){let n=this.generateUniqueKey(a,{slideIndex:o,fieldIndex:h}),l={order:t,location:s,type:e,value:a,key:n,language:this.baseLanguage};l[this.baseLanguage]=a,this.items.push(l),f(i,e,"%"+n+"%")}else this.items[n].order=t}}onSaveAll(){this.saveClicked.emit()}isTranslationKey(t){return R(t)}generateUniqueKey(t,i){return N(this.missionDescription.title,t,i)}render(){let t=E(this.allLanguages);return T(t,t=>t===this.baseLanguage),s(e,null,s("div",{class:"header"},s("yoo-form-input-container",{class:"base-language",field:{title:r("BASELANGUAGE")},hideOptional:!0},s("yoo-form-autocomplete",{values:this.allLanguages,value:this.baseLanguage,useTranslate:!0,displayType:"card-list",onInputChanged:t=>this.onBaseLanguageChanged(t)})),s("yoo-form-input-container",{class:"translate-to",field:{title:r("TRANSLATETO")},hideOptional:!0},s("yoo-form-autocomplete",{class:"single-line",values:t,value:this.selectedLanguages,multiple:!0,useTranslate:!0,displayType:"card-list",placeholder:r("SELECTLANGUAGES"),onInputChanged:t=>this.onSelectedLanguagesChanged(t)})),s("yoo-button",{class:"medium web-button",disabled:!this.selectedLanguages||this.selectedLanguages.length<1,icon:"yo-translate",text:r("GOOGLETRANSLATE"),onClick:()=>this.onTranslateAll()}),s("span",{class:"placeholder"}),s("yoo-button",{class:"medium success",text:r("SAVE"),onClick:()=>this.onSaveAll()}),s("yoo-context-menu",{contentButtons:this.exportActions},s("yoo-button",{class:"icon-only stable",icon:"yo-more"}))),s("div",{class:"grid-container"},s("yoo-grid",{ref:t=>this.grid=t,gridConfig:this.gridConfig,displayType:"card-grid",items:this.items,secondaryActions:this.secondaryActions,isLocal:!0,emptyState:"translations"})))}get host(){return o(this)}static get watchers(){return{translations:["updateTranslations"]}}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host,:host .header{display:-ms-flexbox;display:flex}:host .header{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;padding:1rem}:host .header .base-language{display:inline-block;width:250px;margin-right:1rem}:host .header .translate-to{display:inline-block;width:350px;margin-right:1rem}:host .header .placeholder{-ms-flex:1;flex:1}:host .header yoo-button{display:inline-block;margin-top:1.9rem;margin-right:1rem}:host .grid-container{overflow:hidden}:host .grid-container,:host .grid-container yoo-grid{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1}"}};export{D as yoo_accordion,w as yoo_form_creator_block_expandable,_ as yoo_form_creator_header,V as yoo_form_creator_page_card_list,F as yoo_form_creator_translate};