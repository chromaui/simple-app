import{r as i,c as s,h as t,H as e,g as o}from"./p-0d847530.js";import{bh as n,ao as h,a_ as a,a$ as r,ar as l,b2 as d,b3 as c,dn as m,cV as u,dw as p,dx as f,dz as w,p as v,cw as y,cU as D,V as b,A as M,bl as g,cO as x,bq as E}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import{cQ as P,cR as A,cZ as L,c$ as z}from"./p-d70b188c.js";import"./p-815d6c40.js";function j(i,s,t=!1){if(n())return Promise.resolve();const e=t?s:h(s,"div.modal-wrapper");switch(i){case"slideXEnterAnimation":return a(e);case"slideXLeaveAnimation":return r(e);case"slideYEnterAnimation":return function(i,s){return l("slide_vertical",s,{open:!0,up:!0,distance:900,duration:T,easing:k}).finished}(0,e);case"slideYLeaveAnimation":return function(i,s){return l("slide_vertical",s,{open:!1,up:!0,distance:900,duration:W,easing:O}).finished}(0,e);case"fadeEnterAnimation":return d(e);case"fadeLeaveAnimation":return c(e)}}const T=400,W=400,k=[.3,.8,.3,1],O=[.4,0,.7,.2],_={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillDismiss",ionModalDidDismiss:"ionViewDidDismiss"},V=class{constructor(t){i(this,t),this.keyboardClose=!0,this.enableBackdropDismiss=!0,this.showBackdrop=!0,this.willAnimate=!0,this.swipeRightToClose=!1,this.displayFullscreenButton=!0,this.fullscreen=!1,this.presented=!1,this.hasPresented=!1,this.ionModalDidLoad=s(this,"ionModalDidLoad",7),this.ionModalDidUnload=s(this,"ionModalDidUnload",7),this.didPresent=s(this,"ionModalDidPresent",7),this.willPresent=s(this,"ionModalWillPresent",7),this.willDismiss=s(this,"ionModalWillDismiss",7),this.didDismiss=s(this,"ionModalDidDismiss",7)}onDismiss(i){i.stopPropagation(),i.preventDefault(),this.dismiss()}onBackdropTap(){this.dismiss(null,m)}lifecycle(i){u(i,this.usersElement,_)}onDidPresent(){this.hasPresented=!0}onInputFocused(){this.componentProps&&this.componentProps.half&&!this.fullscreen&&(this.fullscreen=!0,this.setFullscreen())}onSwipeDown(){this.fullscreen&&(this.fullscreen=!1,this.setFullscreen())}async present(){if(this.presented)return;if(!this.dialogElement)throw new Error("container is undefined");const i=Object.assign({},this.componentProps,{modal:this.host});this.usersElement=await P(this.delegate,this.dialogElement,this.component,["ion-page"],i),this.usersElement.componentInstance&&(this.componentInstance=this.usersElement.componentInstance);const s=h(this.host,".fullscreen-container");this.componentProps&&this.componentProps.half&&(this.usersElement.classList.add("half"),s&&(s.classList.add("show"),s.classList.remove("hide")),this.setToolbarProps(this.componentProps.half),setTimeout(()=>{this.host.classList.remove("half-onload")},300));let t=this.enterAnimation?this.enterAnimation:"slideXEnterAnimation";!this.forceCustomAnimationOnWeb&&v()&&(t="fadeEnterAnimation");const e=h(this.host,".overlay");return this.showBackdrop&&e&&(e.classList.add("show"),e.classList.remove("hide")),this.host.classList.contains("preview")&&this.dialogElement&&(this.usersElement.classList.add("preview"),this.setPreviewModalPosition()),p(this,"modalEnter",()=>j(t,this.host,this.host.classList.contains("preview")))}async dismiss(i,s,t=!1){this.resizeListener&&window.removeEventListener("resize",this.resizeListener);let e=this.leaveAnimation?this.leaveAnimation:"slideXLeaveAnimation";!this.forceCustomAnimationOnWeb&&v()&&(e="fadeLeaveAnimation");const o=h(this.host,".overlay");this.showBackdrop&&o&&(o.classList.remove("show"),o.classList.add("hide"));const n=h(this.host,".fullscreen-container");this.componentProps&&this.componentProps.half&&n&&(n.classList.remove("show"),n.classList.add("hide")),await f(this,i,s,t,"modalLeave",()=>j(e,this.host,this.host.classList.contains("preview"))),await A(this.delegate,this.usersElement)}async onDidDismiss(i){return w(this.host,"ionModalDidDismiss",i)}async onWillDismiss(i){return w(this.host,"ionModalWillDismiss",i)}componentDidLoad(){this.ionModalDidLoad.emit(),this.host.classList.contains("preview")&&v()&&(this.setPreviewModalIndicatorPosition(),this.resizeListener=y(this.setPreviewModalPosition,500).bind(this),window.addEventListener("resize",this.resizeListener))}componentDidUnload(){this.dialogElement&&this.dialogElement.parentElement&&this.dialogElement.parentElement.isConnected&&this.ionModalDidUnload.emit(),this.host.classList.contains("preview")&&v()&&this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}onFullscreen(){this.fullscreen=!this.fullscreen,this.setFullscreen()}setFullscreen(){this.usersElement&&(this.usersElement.style.height=this.fullscreen?"100%":"19rem",this.fullscreen&&!this.usersElement.classList.contains("fullscreen")?this.usersElement.classList.add("fullscreen"):this.usersElement.classList.remove("fullscreen"),this.overlayDismiss.style.zIndex=this.fullscreen?"0":(2e4+this.overlayId).toString()),this.setToolbarProps(!this.fullscreen)}setToolbarProps(i){let s=h(this.host,"yoo-form-autocomplete-dialog");if(s||(s=this.host),s){const t=h(s,"yoo-ion-toolbar"),e=h(s,"yoo-title"),o=D(s,"yoo-ion-buttons");t&&(t.halfScreen=i),e&&(e.halfScreen=i),o&&b(o)&&o.forEach(s=>{s.halfScreen=i})}}setPreviewModalIndicatorPosition(){const i=window.innerWidth;this.dialogElement.classList.add(i>=1350?"left-50":"left-90")}setPreviewModalPosition(){this.dialogElement&&(this.dialogElement.style.left=this.componentProps?`${this.componentProps.position}px`:"0px",this.dialogElement.style.zIndex=`${2e4+this.overlayId}`)}claculatePageMenuOffset(i,s){return(i-s)/2}onOverlayDismissClick(i){!this.fullscreen&&this.hasPresented&&this.dismiss(void 0,void 0,!0)}closeModal(){return this.dismiss()}onTouchStartDismiss(i){i.stopPropagation()}onTouchMoveDismiss(i){i.stopPropagation(),i.preventDefault()}renderFullscreenButton(){return t("div",{class:"fullscreen-container hide",style:{"z-index":(2e4+this.overlayId).toString()}},t("yoo-button",{class:"icon-only black fullscreen-button",icon:this.fullscreen?"yo-minimize":"yo-maximize",onClick:()=>this.onFullscreen()}))}renderWatermarkLogo(){return t("yoo-img",{class:"watermark",src:this.watermarkLogo})}renderDismissOverlay(){return t("div",{class:"overlay-dismiss",ref:i=>this.overlayDismiss=i,onClick:i=>this.onOverlayDismissClick(i),onTouchStart:i=>this.onTouchStartDismiss(i),onTouchMove:i=>this.onTouchMoveDismiss(i),style:{"z-index":(2e4+this.overlayId).toString()}})}renderHalfModal(){return[this.renderDismissOverlay(),this.displayFullscreenButton&&this.renderFullscreenButton(),this.watermarkLogo&&this.renderWatermarkLogo()]}renderDialog(i){const s=this.host.classList.contains("preview"),e=this.host.classList.contains("profile"),o=Object.assign({},L(void 0,"modal-wrapper"));return t("div",{ref:i=>this.dialogElement=i,role:"dialog",class:o,style:{zIndex:i,left:this.componentProps?`${this.componentProps.position}px`:"0px"}},s&&e&&[t("div",{class:"fade-overlay top"}),t("div",{class:"fade-overlay bottom"})])}render(){const i=(2e4+this.overlayId).toString();return t(e,{"no-router":!0,class:Object.assign({},L(void 0,"modal"),z(this.cssClass),{mobile:M(),"web-center":v()&&this.componentProps&&!this.componentProps.customHost&&!this.fullscreen,"half half-onload":this.componentProps&&this.componentProps.half,safari:g(),offline:x()&&!E(),"offline-iphone-x":x()&&E(),"swipe-to-close":this.swipeRightToClose}),style:{zIndex:(2e4+this.overlayId).toString()}},t("div",{class:"overlay hide",style:{"z-index":i},onClick:i=>this.onOverlayDismissClick(i)}),this.swipeRightToClose?t("yoo-swipe-container",{onSwipedRight:()=>this.closeModal()},this.renderDialog(i)):this.renderDialog(i),this.componentProps&&this.componentProps.half&&this.renderHalfModal())}get host(){return o(this)}static get style(){return".iframe-root.sc-yoo-ion-modal{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root.sc-yoo-ion-modal yoo-app.sc-yoo-ion-modal .wrapper.sc-yoo-ion-modal{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root.sc-yoo-ion-modal yoo-app.sc-yoo-ion-modal .wrapper.center-center.sc-yoo-ion-modal{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root.sc-yoo-ion-modal::-webkit-scrollbar{display:none}yoo-ion-modal.sc-yoo-ion-modal{right:0;left:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;contain:strict}yoo-ion-modal-controller.sc-yoo-ion-modal{display:none}\@media not all and (min-width:768px) and (min-height:600px){yoo-ion-modal.sc-yoo-ion-modal ion-backdrop.sc-yoo-ion-modal{display:none}}.safari.sc-yoo-ion-modal-h{display:none}.modal-wrapper.sc-yoo-ion-modal{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;contain:strict;z-index:10}.modal-wrapper.sc-yoo-ion-modal .ion-app.sc-yoo-ion-modal{background:var(--light,#fff)}.sc-yoo-ion-modal-h .watermark.sc-yoo-ion-modal{position:absolute;bottom:var(--padding-10,.625rem);left:var(--padding-10,.625rem);width:75px;height:30px;opacity:.8;z-index:20008}.mobile.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{width:100%!important;height:100%!important;overflow:hidden}.mobile.sc-yoo-ion-modal-h .fullscreen-container.sc-yoo-ion-modal{top:auto;right:var(--padding-10,.625rem);bottom:var(--padding-10,.625rem);left:auto;position:absolute}.mobile.sc-yoo-ion-modal-h .overlay-dismiss.sc-yoo-ion-modal{top:0;right:0;bottom:19rem;left:0;position:absolute;background-color:transparent}.half.sc-yoo-ion-modal-h .fullscreen-container.sc-yoo-ion-modal, .half.sc-yoo-ion-modal-h .overlay.sc-yoo-ion-modal{-webkit-transition:.2s;transition:.2s}.half.sc-yoo-ion-modal-h .fullscreen-container.hide.sc-yoo-ion-modal, .half.sc-yoo-ion-modal-h .overlay.hide.sc-yoo-ion-modal{opacity:0}.half.sc-yoo-ion-modal-h .fullscreen-container.show.sc-yoo-ion-modal, .half.sc-yoo-ion-modal-h .overlay.show.sc-yoo-ion-modal{opacity:1}.half.sc-yoo-ion-modal-h .overlay.sc-yoo-ion-modal{position:absolute;top:0;left:0;right:0;bottom:0;background:var(--backdrop,rgba(43,54,72,.4))}.half-onload.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{top:auto!important;height:19rem!important}.mobile.offline.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{bottom:var(--padding-20,1.25rem);height:auto!important}.mobile.offline.sc-yoo-ion-modal-h .overlay.sc-yoo-ion-modal{bottom:var(--padding-20,1.25rem)}.mobile.offline.sc-yoo-ion-modal-h .overlay-dismiss.sc-yoo-ion-modal{top:0;right:0;bottom:20.3125rem;left:0;position:absolute}.mobile.offline-iphone-x.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{bottom:var(--padding-40,2.5rem);height:auto!important}.mobile.offline-iphone-x.sc-yoo-ion-modal-h .overlay.sc-yoo-ion-modal{bottom:var(--padding-40,2.5rem)}.mobile.offline-iphone-x.sc-yoo-ion-modal-h .overlay-dismiss.sc-yoo-ion-modal{top:0;right:0;bottom:21.5rem;left:0;position:absolute}.preview.sc-yoo-ion-modal-h .overlay.sc-yoo-ion-modal{position:absolute;top:0;left:0;right:0;bottom:0}.preview.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{position:relative;top:3.75rem;width:18.75rem;height:100%;max-height:34rem;border-radius:.375rem;background:var(--light,#fff);-webkit-box-shadow:var(--card-shadow-2,0 5px 15px 0 rgba(40,47,54,.08));box-shadow:var(--card-shadow-2,0 5px 15px 0 rgba(40,47,54,.08));contain:unset;cursor:pointer}.preview.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal:after{position:absolute;bottom:100%;width:0;height:0;margin-left:-.65rem;border:solid transparent;border-width:.65rem;border-bottom-color:var(--light,#fff);content:\" \";pointer-events:none}.preview.sc-yoo-ion-modal-h .modal-wrapper.left-50.sc-yoo-ion-modal:after{left:50%}.preview.sc-yoo-ion-modal-h .modal-wrapper.left-90.sc-yoo-ion-modal:after{left:90%}.preview.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal .fade-overlay.sc-yoo-ion-modal{position:absolute;width:100%;height:1.5rem;border-radius:.375rem;z-index:1}.preview.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal .fade-overlay.top.sc-yoo-ion-modal{top:0;background:-webkit-gradient(linear,left top,left bottom,from(#fff),to(hsla(0,0%,100%,.25)));background:linear-gradient(180deg,#fff,hsla(0,0%,100%,.25))}.preview.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal .fade-overlay.bottom.sc-yoo-ion-modal{bottom:0;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,.25)),to(#fff));background:linear-gradient(180deg,hsla(0,0%,100%,.25),#fff)}.preview.sc-yoo-ion-modal-h .overlay-dismiss.sc-yoo-ion-modal{position:absolute;top:0;left:0;right:0;bottom:0}.preview.sc-yoo-ion-modal-h .active-indicator.sc-yoo-ion-modal{top:33px;right:auto;bottom:auto;left:calc(187.5px - 12.5px);position:absolute;border-top:15px solid transparent;border-right:12.5px solid transparent;border-bottom:15px solid var(--light,#fff);border-left:12.5px solid transparent}.web-center.sc-yoo-ion-modal-h:not(.preview):not(.fullscreen) .modal-wrapper.sc-yoo-ion-modal{top:20px;right:0;bottom:0;left:0;position:absolute;width:800px;max-height:calc(100% - 2*20px);margin:0 auto;border-radius:.375rem}.web-center.sc-yoo-ion-modal-h:not(.preview):not(.fullscreen) .overlay.sc-yoo-ion-modal{position:absolute;top:0;left:0;right:0;bottom:0;background:var(--black,#000);opacity:.4}.left-view-full.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{padding-right:var(--padding-20,1.25rem);border-radius:.375rem .375rem 0 0}.web-center.visible-overflow.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{contain:unset}.web-center.condition.dialog.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{max-width:40%;height:300px}.context-menu.sc-yoo-ion-modal-h .modal-wrapper.sc-yoo-ion-modal{top:0!important;width:100%!important;max-height:unset!important}.context-menu.sc-yoo-ion-modal-h .overlay.sc-yoo-ion-modal{background:transparent!important}.swipe-to-close.sc-yoo-ion-modal-h{position:absolute;top:0;left:0;right:0;bottom:0}"}};export{V as yoo_ion_modal};