System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var o,e,n,i,s,a,l,r,u,d,c,h;return{setters:[function(t){o=t.r;e=t.h;n=t.g},function(t){i=t.ao;s=t.cE;a=t.t;l=t.al;r=t.cF;u=t.g2;d=t.q;c=t.Z},function(){},function(){},function(){},function(t){h=t.dd},function(){}],execute:function(){var f=t("yoo_form_todo_dialog",function(){function t(t){o(this,t)}t.prototype.onInternalFieldFetchData=function(t){t.stopPropagation();if(this.onFieldFetchData){this.onFieldFetchData(Object.assign({},t.detail,{form:i(this.host,"yoo-form-dynamic")}))}};t.prototype.onDataChanged=function(t){t.stopPropagation();Object.assign(this.todo,t.detail)};t.prototype.onInputChanged=function(t){t.stopPropagation();this.currentTask=t.detail};t.prototype.onEnterPressed=function(){this.onAddTask()};t.prototype.componentWillLoad=function(){this.todo=this.todo||{}};t.prototype.onValidityChanged=function(t){this.validity=t.detail};t.prototype.isValid=function(){return this.validity&&this.todo.values&&this.todo.values.length>0};t.prototype.onCancel=function(){s(null)};t.prototype.onSave=function(){if(this.isValid()){s(this.todo)}};t.prototype.onAddTask=function(){var t=this;if(document.activeElement&&document.activeElement.blur){document.activeElement.blur()}if(this.currentTask){this.todo.values=this.todo.values||[];this.todo.values.push({text:{value:this.currentTask},finished:{value:null},isphotorequired:{value:this.allPhotosRequired===true},hasphoto:{value:true},allowLibrary:{value:this.allowLibrary===true}});this.currentTask="";setTimeout(function(){return i(t.host,"yoo-form-input.task-edit").clear()},200);this.host.forceUpdate()}};t.prototype.onEditTask=function(t){var o=this;var e=document.createElement("yoo-form-dynamic-dialog");e.slides=this.slidesTodoTask;e.showTabs=false;e.showRecap=false;e.data=t;e.suffix=".value";e.title=a("EDIT");l(e).then(function(n){if(n&&n.data){t=n.data;o.host.forceUpdate()}e=null})};t.prototype.onRemoveTask=function(t){var o=this;r(a("DELETE"),[a("CANCEL"),a("OK")],null,a("DELETEACTIONCONFIRM")).then(function(e){if(e===true){u(o.todo.values,function(o){return o===t});o.host.forceUpdate()}})};t.prototype.onShowActionSheet=function(t){var o=this;var e=[{type:"edit",text:a("EDIT"),handler:function(){return o.onEditTask(t)}},{type:"delete",text:a("DELETE"),cssClass:"danger",handler:function(){return o.onRemoveTask(t)}}];d(e)};t.prototype.onSelect=function(t){var o=this;t.stopPropagation();if(t.detail&&t.detail.length>0){var e=t.detail.map(function(t){return{text:{value:t._id},finished:{value:null},isphotorequired:{value:o.allPhotosRequired===true},hasphoto:{value:true},allowLibrary:{value:o.allowLibrary===true}}});this.todo.values=this.todo.values||[];this.todo.values=this.todo.values.concat(e);setTimeout(function(){var t=i(o.host,"yoo-form-autocomplete.predefined");if(t){t.clear()}},200);this.host.forceUpdate()}};t.prototype.renderLinkedField=function(){var t;if(this.todo&&this.todo.field&&this.todo.field.name){return e("div",{class:"menu"},e("li",{class:"menu-item"},e("div",{class:"menu-left"},e("span",{class:"menu-icon"},e("yoo-icon",{class:"yo-link"})),e("div",{class:"border"})),e("div",{class:"menu-right"},e("div",{class:"menu-title"},a("LINKEDTO")),e("div",{class:"menu-content menu-requestor"},e("yoo-form-dynamic",{class:"inline",slides:[{title:"GENERAL",items:[this.todo.field]}],data:(t={},t[this.todo.field.name]=Object.assign({value:this.todo.fieldValue},this.todo.fieldExtra),t),forceReadonly:true,onFormValidityChanged:function(t){return t.stopPropagation()},suffix:".value",animated:false,showRecap:false})))))}};t.prototype.renderTasks=function(){var t=this;return e("div",{slot:"end"},e("div",{class:"tasks"},e("div",{class:"field-placeholder"},e("yoo-form-input-container",{field:{title:a("ACTIONS")},hideOptional:true},e("yoo-form-input",{class:"task-edit",onInputChanged:function(o){return t.onInputChanged(o)},onValidityChanged:function(t){return t.stopPropagation()},onEnterPressed:function(){return t.onEnterPressed()}}))),this.values&&this.values.length>0?e("div",{class:"field-placeholder"},e("yoo-form-input-container",{field:{title:a("ADDPREDEFINEDTASKS")},hideOptional:true},e("yoo-form-autocomplete",{class:"predefined",displayType:"card-list",values:this.values.map(function(t){return{_id:t,title:t}}),multiple:true,onValidityChanged:function(t){return t.stopPropagation()},hideSelectionFromInput:true,onInputChanged:function(o){return t.onSelect(o)}}))):null),e("div",null,this.todo&&this.todo.values?this.todo.values.map(function(o,n){return[e("div",{class:"task"},e("div",{class:"task-part"},e("span",{class:"text"},o.text.value)),e("div",{class:"task-part"},o.duedate&&o.duedate.value?e("span",{class:"date"},h.dateFormat.transform(o.duedate.value,"L")):null,e("yoo-button",{icon:"yo-more",class:"icon-only link-transparent-dark",onClick:function(e){return t.onShowActionSheet(o)}}))),e("div",{class:"border"})]}):null))};t.prototype.render=function(){var t=this;return[e("yoo-header",{class:"shadow"},e("yoo-ion-toolbar",{color:"light"},e("yoo-ion-buttons",{slot:"start"},e("yoo-ion-button",{color:"text-color",class:"close button-clear",onClick:function(){return t.onCancel()}},e("yoo-icon",{slot:"icon-only",class:"yo-close"}))),e("yoo-title",null,a("TODO")),e("yoo-ion-buttons",{slot:"end",onClick:function(){return t.onSave()}},e("yoo-ion-button",{color:"success",class:"button-clear",disabled:!this.isValid()},a("SAVE"))))),e("yoo-ion-content",{scrollEnabled:false,class:"bg-light"},e("yoo-form-dynamic",{slides:this.slidesTodo,data:this.todo,showRecap:false,onDataChanged:function(o){return t.onDataChanged(o)},onFormValidityChanged:function(o){return t.onValidityChanged(o)},onFieldFetchData:function(o){return t.onInternalFieldFetchData(o)}},e("div",{slot:"start"},this.todo&&this.todo.field&&c(this.todo.fieldValue)?this.renderLinkedField():null),e("div",{slot:"end"},this.renderTasks())))]};Object.defineProperty(t.prototype,"host",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .task{-ms-flex-pack:justify;justify-content:space-between;width:100%;background:var(--light,#fff);line-height:39px}:host .task,:host .task .task-part{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}:host .task .task-part yoo-avatar{--transform-avatar:translateY(5px);margin-right:.5rem}:host .task .task-part .text{font-size:var(--font-size-04,1.125rem)}:host .task .task-part .date{margin-right:.625rem;color:var(--text-color,#807f83);font-size:var(--font-size-02,.875rem)}:host .task .task-part yoo-button{--width-icon-only-container:0.25rem;--font-size-icon:1.125rem;padding-top:.6875rem}:host .border{width:100%;height:0;border-top:1px solid var(--stable-40,hsla(0,0%,67.8%,.4))}:host .task .task-part{margin:0 1rem}:host .task .task-part yoo-icon{margin-right:.5rem;font-size:var(--font-size-03,1rem)}:host .tasks{margin-bottom:.5rem;padding:1rem;background:var(--light,#fff)}:host .tasks .field-placeholder{margin-bottom:.625rem}:host .menu{list-style:none outside none;background:none repeat scroll 0 0 transparent;border:0 none;font-size:100%;margin:0;outline:0 none;vertical-align:baseline;-webkit-tap-highlight-color:transparent;margin:.5rem;padding:0;list-style:none}:host .menu .menu-item{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}:host .menu .menu-item .menu-left{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}:host .menu .menu-item .menu-left .menu-icon{height:1.875rem;width:1.875rem}:host .menu .menu-item .menu-left .menu-icon yoo-icon{height:1.875rem;width:1.875rem;font-size:var(--font-size-04,1.125rem);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;background-color:var(--success,#04cc99);color:var(--always-light,#fff);border-radius:50%;line-height:1.875rem;padding:0}:host .menu .menu-item .menu-left .border{width:1px;height:100%;background-color:var(--stable-alt,#d0d0d0)}:host .menu .menu-item .menu-right{margin-left:.625rem;width:100%;overflow:hidden}:host .menu .menu-item .menu-right .menu-title{font-weight:var(--font-weight-03,700);line-height:1.125rem;margin-top:.375rem}:host .menu .menu-item .menu-right .menu-content{margin-top:.25rem;margin-bottom:1.25rem;color:var(--text-color,#807f83)}:host .menu .menu-item .menu-right .menu-content a,:host .menu .menu-item .menu-right .menu-content abbr,:host .menu .menu-item .menu-right .menu-content acronym,:host .menu .menu-item .menu-right .menu-content address,:host .menu .menu-item .menu-right .menu-content applet,:host .menu .menu-item .menu-right .menu-content big,:host .menu .menu-item .menu-right .menu-content blockquote,:host .menu .menu-item .menu-right .menu-content body,:host .menu .menu-item .menu-right .menu-content caption,:host .menu .menu-item .menu-right .menu-content cite,:host .menu .menu-item .menu-right .menu-content code,:host .menu .menu-item .menu-right .menu-content dd,:host .menu .menu-item .menu-right .menu-content del,:host .menu .menu-item .menu-right .menu-content dfn,:host .menu .menu-item .menu-right .menu-content div,:host .menu .menu-item .menu-right .menu-content dl,:host .menu .menu-item .menu-right .menu-content dt,:host .menu .menu-item .menu-right .menu-content em,:host .menu .menu-item .menu-right .menu-content fieldset,:host .menu .menu-item .menu-right .menu-content font,:host .menu .menu-item .menu-right .menu-content form,:host .menu .menu-item .menu-right .menu-content h1,:host .menu .menu-item .menu-right .menu-content h2,:host .menu .menu-item .menu-right .menu-content h3,:host .menu .menu-item .menu-right .menu-content h4,:host .menu .menu-item .menu-right .menu-content h5,:host .menu .menu-item .menu-right .menu-content h6,:host .menu .menu-item .menu-right .menu-content html,:host .menu .menu-item .menu-right .menu-content iframe,:host .menu .menu-item .menu-right .menu-content img,:host .menu .menu-item .menu-right .menu-content ins,:host .menu .menu-item .menu-right .menu-content kbd,:host .menu .menu-item .menu-right .menu-content label,:host .menu .menu-item .menu-right .menu-content legend,:host .menu .menu-item .menu-right .menu-content li,:host .menu .menu-item .menu-right .menu-content object,:host .menu .menu-item .menu-right .menu-content ol,:host .menu .menu-item .menu-right .menu-content p,:host .menu .menu-item .menu-right .menu-content pre,:host .menu .menu-item .menu-right .menu-content q,:host .menu .menu-item .menu-right .menu-content s,:host .menu .menu-item .menu-right .menu-content samp,:host .menu .menu-item .menu-right .menu-content small,:host .menu .menu-item .menu-right .menu-content span,:host .menu .menu-item .menu-right .menu-content strike,:host .menu .menu-item .menu-right .menu-content strong,:host .menu .menu-item .menu-right .menu-content sub,:host .menu .menu-item .menu-right .menu-content sup,:host .menu .menu-item .menu-right .menu-content table,:host .menu .menu-item .menu-right .menu-content tbody,:host .menu .menu-item .menu-right .menu-content td,:host .menu .menu-item .menu-right .menu-content tfoot,:host .menu .menu-item .menu-right .menu-content th,:host .menu .menu-item .menu-right .menu-content thead,:host .menu .menu-item .menu-right .menu-content tr,:host .menu .menu-item .menu-right .menu-content tt,:host .menu .menu-item .menu-right .menu-content ul,:host .menu .menu-item .menu-right .menu-content var{margin:0;padding:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline;-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}:host .menu .menu-item .menu-right .menu-title{margin-bottom:.625rem}:host .menu .menu-item .menu-right .menu-content span{margin-right:1.25rem}:host .menu .menu-item .menu-right .menu-content yoo-avatar{margin-right:.3125rem}"},enumerable:true,configurable:true});return t}())}}});