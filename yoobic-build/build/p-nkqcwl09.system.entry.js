System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(s){"use strict";var i,e,t,o,n,r,a,c,l,m,u,d,h,f,p,v,y,S;return{setters:[function(s){i=s.r;e=s.c;t=s.h;o=s.H;n=s.g},function(s){r=s.cW;a=s.i;c=s.b;l=s.bl;m=s.A;u=s.cB;d=s.cC;h=s.t;f=s.cO;p=s.N;v=s.z;y=s.p},function(){},function(){},function(){},function(s){S=s.dd},function(){}],execute:function(){var b=s("yoo_mission_detail",function(){function s(s){i(this,s);this.isTabbarHidden=false;this.book=e(this,"book",7);this.showScoreChart=e(this,"showScoreChart",7);this.showUser=e(this,"showUser",7);this.shouldClose=e(this,"shouldClose",7)}s.prototype.onHideTabbar=function(s){var i=this;this.isTabbarHidden=r(s,this.footer,this.isTabbarHidden);if(a()&&c()||l()){var e=100;var t=this.isTabbarHidden?e:0;var o=this.isTabbarHidden?"none":"block";setTimeout(function(){if(i.footer){i.footer.style.display=o}},t)}};s.prototype.componentWillLoad=function(){this.isMobile=m()};s.prototype.getSizeContainer=function(){var s=window.innerHeight;s=this.tagContainer?u(this.host,s,this.tagContainer):u(this.host,s);s=d(s,".mission-footer",this.host);return{height:s+"px"}};s.prototype.onBook=function(s,i){i.stopPropagation();this.book.emit(s)};s.prototype.onScoreSelect=function(s){this.showScoreChart.emit(s)};s.prototype.onCloseIconClicked=function(){this.shouldClose.emit(true)};s.prototype.renderPriority=function(){return this.mission.priority&&t("li",{class:"menu-item"},t("div",{class:"menu-left"},t("span",{class:"menu-icon"},t("yoo-icon",{class:"yo-priority"})),t("div",{class:"border"})),t("div",{class:"menu-right"},t("div",{class:"menu-title"},h("PRIORITY")),this.isMobile?t("div",{class:"menu-content"},"P",this.mission.priority):t("yoo-form-star-rating",{value:this.mission.priority,readonly:true})))};s.prototype.renderButtonFooter=function(){var s=this;if(this.isBookable&&this.isBookable(this.mission)){var i=void 0;if(!this.mission.status){i=[{type:"start",text:h("START"),cssClass:"success large",handler:function(i){return s.onBook("start",i)}}]}else{i=(f()?[]:[{text:h("UNBOOK"),cssClass:"light unbook outline",handler:function(i){return s.onBook("unbook",i)}}]).concat([{type:"continue",text:h("CONTINUE"),cssClass:"continue success",handler:function(i){return s.onBook("continue",i)}}])}return t("yoo-form-footer",{ref:function(i){return s.footer=i},buttons:i})}return null};s.prototype.renderSimpleSection=function(s,i,e,o,n){if(o===void 0){o=false}if(n===void 0){n=false}return t("li",{class:"menu-item"},t("div",{class:"menu-left"},t("span",{class:"menu-icon"},t("yoo-icon",{class:e})),n?null:t("div",{class:"border"})),t("div",{class:"menu-right"},t("div",{class:"menu-title"},p(i)),o?t("div",{class:"menu-content",innerHTML:p(s)}):t("div",{class:"menu-content"},p(s))))};s.prototype.renderServiceData=function(){var s={title:"GENRAL",items:[]};if(this.serviceSlides&&this.serviceSlides.length>0){this.serviceSlides.forEach(function(i){if(i.items&&i.items.length>0){s.items=s.items.concat(i.items)}})}return t("li",{class:"menu-item"},t("div",{class:"menu-left"},t("span",{class:"menu-icon"},t("yoo-icon",{class:"yo-mission"}))),t("div",{class:"menu-right"},t("div",{class:"menu-title"},h("MYREQUEST")),t("div",{class:"menu-content"},t("yoo-form-dynamic",{class:"inline",slides:[s],data:this.mission.serviceData,forceReadonly:true,suffix:".value",animated:false,showRecap:false}))))};s.prototype.renderUserSection=function(s,i,e,o){var n=this;return s&&(s.email||s.firstName||s.lastName)&&t("li",{class:"menu-item",onClick:function(i){return n.showUser.emit(s)}},t("div",{class:"menu-left"},t("span",{class:"menu-icon"},t("yoo-icon",{class:e})),t("div",{class:"border"})),t("div",{class:"menu-right"},t("div",{class:"menu-title"},h(i)),t("div",{class:"menu-content menu-requestor"},t("yoo-avatar",{class:"s",avatarIconSize:"s",user:s}),t("span",{class:"text"},s.firstName+" "+s.lastName),o&&t("div",{class:"mission-date"},S.dateFormat.transform(o,"L")))))};s.prototype.renderMission=function(){var s=v().user&&v().user.locationRef&&v().user.locationRef===this.mission.locationRef;var i={};var e={};var o={};var n={};if(this.mission){i=this.mission.description;e=this.mission.location;o=this.mission.creator;n=this.mission.owner}return this.mission&&[t("div",{class:{"mission-detail":true,web:!this.isMobile}},t("yoo-ion-content",{class:"bg-light no-scrollbar",scrollEvents:true},t("div",null,t("div",{class:"mission-content"},t("yoo-mission-heading",{mission:this.mission,progress:this.progress&&this.progress.value?this.progress.value:null}),t("ul",{class:"menu"},this.mission.description&&this.mission.description.distanceMin&&this.renderSimpleSection(this.mission.description.distanceMin.toLocaleString(),"GEOFENCINGDISTANCEMIN","yo-pin-selected",false),this.renderPriority(),i&&i.text&&this.renderSimpleSection(i.text,"MISSIONDESCRIPTION","yo-lesson",true),this.mission.address&&!s&&this.renderSimpleSection(this.mission.address,"ADDRESS","yo-map",true),t("yoo-mission-contents",{slidesNumber:this.slidesNumber,photosNumber:this.photosNumber,questionsNumber:this.questionsNumber}),e&&(e.contactname||e.contactphone||e.contactemail)&&t("li",{class:"menu-item"},t("div",{class:"menu-left"},t("span",{class:"menu-icon"},t("yoo-icon",{class:"yo-contact"})),t("div",{class:"border"})),t("div",{class:"menu-right"},t("div",{class:"menu-title"},h("CONTACT")),t("div",{class:"menu-content"},e.contactname&&t("div",{class:"menu-content-contact",innerHTML:e.contactname}),e.contactemail&&t("div",{class:"menu-content-contact",innerHTML:e.contactemail}),e.contactphone&&t("div",{class:"menu-content-contact",innerHTML:e.contactphone})))),this.mission.comments&&this.renderSimpleSection(this.mission.comments,"NOTES","yo-note",true),e&&e.info&&this.renderSimpleSection(e.info,"INFO","yo-info",true,true),this.mission.originalUnvalidatedReason&&this.renderSimpleSection(this.mission.originalUnvalidatedReason,"COMMENTS","yo-comment",true),this.renderUserSection(o,"REQUESTOR","yo-plus",this.mission._ect),n&&n._id&&n._id!==v().userId&&this.renderUserSection(n,this.mission.isAssigned?"ASSIGNEE":"STARTEDBY","yo-user"),this.mission.duration&&this.renderSimpleSection(this.mission.duration+" min","MISSIONDURATION","yo-plus"),this.mission.validFrom||this.mission.validUntil&&this.renderSimpleSection((S.dateFormat.transform(this.mission.validFrom,"L LT")||"?")+" - "+(S.dateFormat.transform(this.mission.validUntil,"L LT")||"?"),"VALIDITY","yo-plus"),this.serviceSlides&&this.serviceSlides.length>0&&this.renderServiceData()),t("yoo-mission-score",{charts:this.charts,header:"PREVIOUSSCORE",networkScore:this.networkScore}),t("slot",null)),t("slot",{name:"end"}),t("div",{class:"scroll-spacer"}))),this.renderButtonFooter())]};s.prototype.renderMenuItem=function(s,i){if(i===void 0){i=true}return t("li",{class:"menu-item"},this.renderMenuLeft("yo-link"),this.renderMenuRight(s,i))};s.prototype.renderMenuRight=function(s,i){var e;return t("div",{class:"menu-right"},t("div",{class:"menu-title"},h(s.toUpperCase())),t("div",{class:"menu-content"},i?t("yoo-form-dynamic",{class:"inline",slides:[{title:"GENERAL",items:[this.mission.todo.field]}],data:(e={},e[this.mission.todo.field.name]=Object.assign({value:this.mission.todo.fieldValue},this.mission.todo.fieldExtra),e),forceReadonly:true,suffix:".value",animated:false,showRecap:false}):t("yoo-form-star-rating",{value:this.mission.todo.priority,readonly:true})))};s.prototype.renderMenuLeft=function(s){return t("div",{class:"menu-left"},t("span",{class:"menu-icon"},t("yoo-icon",{class:s})),t("div",{class:"border"}))};s.prototype.renderTodo=function(){var s=v().user&&v().user.locationRef&&v().user.locationRef===this.mission.locationRef;return this.mission&&t("div",{class:"mission-detail mission-todo "+(this.isMobile?"":"web")},t("div",{class:"mission-content"},t("yoo-mission-heading",{mission:this.mission,progress:this.progress&&this.progress.value&&this.progress.value}),t("ul",{class:"menu"},this.mission.todo&&this.mission.todo.field&&this.mission.todo.fieldValue&&this.renderMenuItem("LINKEDTO",true),this.mission.todo&&this.mission.todo.priority&&this.renderMenuItem("PRIORITY",false),this.renderUserSection(this.mission.creator,"CREATEDBY","yo-user",this.mission._ect),this.renderUserSection(this.mission.owner,"ASSIGNTO","yo-user"),this.mission.address&&!s&&this.renderSimpleSection(this.mission.address,"ADDRESS","yo-map",true),this.mission.originalUnvalidatedReason&&this.renderSimpleSection(this.mission.originalUnvalidatedReason,"COMMENTS","yo-comment",true)),t("slot",null)))};s.prototype.renderBasedOnType=function(){if(this.mission&&this.mission.type){switch(this.mission.type){case"todo":return this.renderTodo();case"mission":case"poll":case"service":default:return this.renderMission()}}return[]};s.prototype.render=function(){return t(o,{class:{web:y()}},this.renderBasedOnType())};Object.defineProperty(s.prototype,"host",{get:function(){return n(this)},enumerable:true,configurable:true});Object.defineProperty(s,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{height:100%;font-size:var(--font-size-03,1rem);font-weight:var(--font-weight-02,400)}:host .mission-detail{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%}:host .mission-detail .scroll-spacer{height:5.75rem}:host .mission-detail .mission-content{padding:var(--padding,1rem)}:host .mission-detail .mission-content .menu{list-style:none outside none;background:none repeat scroll 0 0 transparent;border:0 none;font-size:100%;margin:0;outline:0 none;vertical-align:baseline;-webkit-tap-highlight-color:transparent;margin-top:1rem;padding:0;list-style:none}:host .mission-detail .mission-content .menu .menu-item{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}:host .mission-detail .mission-content .menu .menu-item .menu-left{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}:host .mission-detail .mission-content .menu .menu-item .menu-left .menu-icon{height:1.875rem;width:1.875rem}:host .mission-detail .mission-content .menu .menu-item .menu-left .menu-icon yoo-icon{height:1.875rem;width:1.875rem;font-size:var(--font-size-04,1.125rem);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;background-color:var(--success,#04cc99);color:var(--always-light,#fff);border-radius:50%;line-height:1.875rem;padding:0}:host .mission-detail .mission-content .menu .menu-item .menu-left .border{width:1px;height:100%;background-color:var(--stable-alt,#d0d0d0)}:host .mission-detail .mission-content .menu .menu-item .menu-right{margin-left:.625rem;width:100%;overflow:hidden}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-title{font-weight:var(--font-weight-03,700);line-height:1.125rem;margin-top:.375rem}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content{margin-top:.25rem;margin-bottom:1.25rem;color:var(--text-color,#807f83)}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content a,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content abbr,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content acronym,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content address,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content applet,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content big,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content blockquote,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content body,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content caption,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content cite,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content code,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content dd,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content del,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content dfn,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content div,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content dl,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content dt,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content em,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content fieldset,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content font,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content form,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content h1,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content h2,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content h3,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content h4,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content h5,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content h6,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content html,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content iframe,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content img,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content ins,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content kbd,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content label,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content legend,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content li,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content object,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content ol,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content p,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content pre,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content q,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content s,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content samp,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content small,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content span,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content strike,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content strong,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content sub,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content sup,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content table,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content tbody,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content td,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content tfoot,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content th,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content thead,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content tr,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content tt,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content ul,:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content var{margin:0;padding:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline;-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-title{margin-bottom:.625rem}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content span{margin-right:1.25rem}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content yoo-avatar{margin-right:.3125rem}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content .menu-content-contact{margin-bottom:var(--padding-10,.625rem)}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content .text{-ms-flex:1;flex:1;white-space:nowrap}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-content .mission-date{color:var(--text-color,#807f83);font-weight:var(--font-weight-02,400)}:host .mission-detail .mission-content .menu .menu-item .menu-right .menu-requestor{display:-ms-flexbox;display:flex}:host .mission-detail .mission-content .menu .menu-item:last-child .menu-left .border{display:none}:host .mission-detail .mission-content .menu yoo-mission-contents:last-child{--display-border:none}:host .mission-todo .mission-content .menu .menu-item .menu-right .menu-title{font-weight:var(--font-weight-02,400)}:host(.web){border-radius:8px;background:var(--light,#fff);-webkit-box-shadow:var(--tile-shadow,0 5px 15px 3px rgba(40,47,54,.08));box-shadow:var(--tile-shadow,0 5px 15px 3px rgba(40,47,54,.08))}:host(.web) yoo-header yoo-ion-toolbar{height:3.75rem}:host(.web) .mission-footer{-ms-flex-pack:start;justify-content:flex-start;padding-right:1.875rem;padding-left:1.875rem;border-radius:8px;-webkit-box-shadow:var(--tile-shadow,0 5px 15px 3px rgba(40,47,54,.08));box-shadow:var(--tile-shadow,0 5px 15px 3px rgba(40,47,54,.08))}:host(.web) .mission-footer yoo-button{margin-right:var(--padding-10,.625rem)}:host(.web) .mission-footer .unbook{-ms-flex-order:2;order:2}:host(.web) .mission-footer .continue{-ms-flex-order:1;order:1}:host(.border) .mission-detail.web yoo-ion-content{border-radius:.375rem}:host(.border) .mission-detail.web yoo-form-footer{--border-radius:0 0 0.375rem 0.375rem}:host .score-item .mission-title{margin-top:1rem;margin-bottom:var(--padding-15,.9375rem);font-size:var(--font-size-07,1.75rem);line-height:2.0625rem}:host .score-item .menu-content .score-active-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;margin-bottom:2rem}:host .score-item .menu-content .menu-content-scoring{padding-bottom:.5rem}:host .score-item .menu-content .menu-content-scoring .centered{text-align:center;padding:.5rem}:host .score-item .menu-content .menu-content-scoring .network{color:var(--text-color,#807f83);margin-top:1rem}:host .score-item .menu-content .menu-content-scoring.extra-score .score-container{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host .score-item .menu-content .menu-content-scoring.extra-score .score-container.points-container{-ms-flex-align:center;align-items:center;padding:1em .5rem}:host .score-item .menu-content .menu-content-scoring.extra-score .score-container.contrasted{background-color:var(--stable-light-40,hsla(0,0%,94.5%,.4))}:host .score-item .menu-content .menu-content-scoring.points{padding:0!important}:host .score-item .menu-content .menu-content-scoring.mixed{padding-top:.75rem}:host .score-item .menu-content .menu-content-scoring.no-divider{padding-top:0}:host .score-item .menu-content .menu-content-scoring.divider{border-bottom:1px solid var(--stable-light,#f1f1f1);padding-bottom:.75rem;padding-top:0}"},enumerable:true,configurable:true});return s}())}}});