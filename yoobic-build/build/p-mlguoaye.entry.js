import{r as o,c as t,h as s,g as i}from"./p-0d847530.js";import{t as n,al as e,N as c,cF as r,cE as a}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import{bO as l}from"./p-d70b188c.js";import"./p-815d6c40.js";const h=class{constructor(s){o(this,s),this.mode="page",this.conditionActions=[],this.pageClicked=t(this,"pageClicked",7),this.pageConditionChanged=t(this,"pageConditionChanged",7),this.pageConditionDeleted=t(this,"pageConditionDeleted",7)}componentWillLoad(){this.pageCardEntry&&this.pageCardEntry.conditions&&this.pageCardEntry.conditions.forEach(o=>{const t={text:n(`SHOW${o.type.toUpperCase()}CONDITION`),handler:()=>this.onShowConditon(o)};this.conditionActions.push(t)})}onShowConditon(o){if("field"!==o.type){let t=document.createElement("yoo-form-creator-page-condition-dialog");t.condition=o,t.itemList=this.itemList,e(t,null,"visible-overflow condition-dialog").then(t=>{t&&t.data&&(t.data.delete?this.pageConditionDeleted.emit({pageIndex:this.pageCardEntry.pageNumber-1,condition:o}):this.pageConditionChanged.emit({pageIndex:this.pageCardEntry.pageNumber-1,condition:t.data}))})}}onPageCardClicked(){this.pageClicked.emit()}renderHeading(o){const t="page"===this.mode?`${n("PAGE")} ${this.pageCardEntry.pageNumber}`:n(this.scoringCardEntry.isPrimary?"PRIMARY":"SECONDARY");return s("div",{class:"heading"},s("div",{class:"heading-text"},t),o&&s("div",{class:"check-container"},s("yoo-icon",{class:"yo-check"})))}renderSubheading(){return s("div",{class:"subheading"},s("div",{class:"page-title"},c("page"===this.mode?this.pageCardEntry.pageTitle:this.scoringCardEntry.scoringTitle)))}renderFooter(){return"page"===this.mode?this.renderPageCardFooterContent():this.renderScoringCardFooterContent()}renderScoringCardFooterContent(){return[s("div",{class:"footer"},s("div",{class:"block-number"},s("yoo-icon",{class:"yo-scoring"}),`${this.scoringCardEntry.totalPoints} pts`)),s("div",{class:"footer"},s("div",{class:"block-number"},s("yoo-icon",{class:"yo-variable success"}),`${this.scoringCardEntry.selectedFields} / ${this.scoringCardEntry.totalFields}`),s("yoo-context-menu",{contentButtons:this.secondaryActions},s("div",{class:"more-container"},s("yoo-icon",{class:"yo-more"}))))]}renderPageCardFooterContent(){return s("div",{class:"footer"},s("div",{class:"block-number"},s("yoo-icon",{class:"yo-categories success"}),null!==this.pageCardEntry.fieldsWithScoringInPage?s("div",{class:"count-container"},s("span",null,this.pageCardEntry.fieldsWithScoringInPage," / ",this.pageCardEntry.blockNumber)):`${this.pageCardEntry.blockNumber}`),s("yoo-context-menu",{contentButtons:this.conditionActions,onClick:o=>o.stopPropagation()},s("div",{class:"more-container"},this.pageCardEntry.conditions&&s("yoo-icon",{class:"yo-formula info"}))),s("yoo-context-menu",{contentButtons:this.secondaryActions,onClick:o=>o.stopPropagation()},s("div",{class:"more-container"},s("yoo-icon",{class:"yo-more"}))))}render(){const o="page"===this.mode?this.pageCardEntry.selected:this.scoringCardEntry.selected;return s("div",{class:{"outer-container":!0,selected:o,scoring:"scoring"===this.mode},onClick:()=>this.onPageCardClicked()},this.renderHeading(o),this.renderSubheading(),this.renderFooter())}get host(){return i(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:7.5rem;height:4.375rem;padding:var(--padding-10,.625rem);border-radius:.25rem;background:var(--light,#fff);-webkit-box-shadow:var(--card-shadow-2,0 5px 15px 0 rgba(40,47,54,.08));box-shadow:var(--card-shadow-2,0 5px 15px 0 rgba(40,47,54,.08));overflow:hidden}:host .outer-container.selected{border:1px solid var(--success,#04cc99)}:host .outer-container .heading{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:var(--padding-25,1.5625rem)}:host .outer-container .heading .heading-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-ms-flex:1;flex:1;color:var(--black,#000);font-size:var(--font-size-02,.875rem)}:host .outer-container .heading .check-container{color:var(--success,#04cc99)}:host .outer-container .subheading{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;color:var(--stable,#adadad);font-size:var(--font-size-01,.75rem)}:host .outer-container .footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;font-size:var(--font-size-02,.875rem)}:host .outer-container .footer .block-number{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center}:host .outer-container .footer .block-number yoo-icon{margin-right:var(--padding-5,.3125rem);font-size:var(--font-size-04,1.125rem)}:host .outer-container .footer .more-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;width:1.25rem;color:var(--stable,#adadad)}:host .outer-container .footer .more-container yoo-icon{font-size:var(--font-size-04,1.125rem)}:host .outer-container .footer .more-container yoo-icon.yo-forumla{margin-right:var(--padding-10,.625rem)}:host .outer-container.scoring{height:8.125rem;padding:0}:host .outer-container.scoring .heading{padding:var(--padding-10,.625rem) var(--padding-10,.625rem) 0}:host .outer-container.scoring .subheading{padding:0 var(--padding-10,.625rem)}:host .outer-container.scoring .footer{height:2.1875rem;padding:0 var(--padding-10,.625rem)}"}},d=class{constructor(t){o(this,t),this.actionSelectButtons=[]}componentWillLoad(){this.currentCondition=this.condition,this.actionSelectButtons=l(this.itemList,this.condition,(o,t)=>this.onSelectItem(o,t)),this.moreOptions=[{text:n("DUPLICATEONBLOCK"),subMenu:this.actionSelectButtons},{text:n("DUPLICATEONPAGE"),subMenu:this.actionSelectButtons},{text:n("DELETE"),handler:()=>this.deleteCondition()}]}onConditionChanged(o){this.currentCondition=Object.assign({},o.detail.condition)}onSelectItem(o,t){}deleteCondition(){r(n("CONFIRM"),[n("NO"),n("OK")],null,n("DELETECONFIRMPAGE")).then(o=>{o&&a({delete:!0})})}render(){return[s("yoo-header",{class:"shadow"},s("yoo-ion-toolbar",{color:"light",class:"overflow-visible"},s("yoo-ion-buttons",{slot:"start"},s("yoo-ion-button",{color:"text-color",class:"close button-clear",onClick:a.bind(this,null)},s("yoo-icon",{slot:"icon-only",class:"yo-close"}))),s("yoo-title",null,n(`${this.currentCondition.type}CONDITION`)),s("yoo-ion-buttons",{slot:"end",class:"pointer-events"},s("div",{class:"context-container"},s("yoo-context-menu",{contentButtons:this.moreOptions},s("div",{class:"more-container"},s("yoo-icon",{slot:"icon-only",class:"yo-more"}))))))),s("yoo-ion-content",null,s("yoo-form-creator-condition-block",{type:this.currentCondition.type,operator:this.currentCondition.operator,condition:this.currentCondition,conditionValues:this.currentCondition.values?this.currentCondition.values:this.currentCondition.tags,isDialog:!0,onConditionChanged:this.onConditionChanged.bind(this)})),s("yoo-form-footer",{buttons:[{text:n("SAVE"),cssClass:"success",handler:()=>a(this.currentCondition)}]})]}get host(){return i(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{position:relative;height:18.75rem!important;background:var(--light,#fff)}:host .contex-container{width:30px}:host .more-container{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px}"}};export{h as yoo_form_creator_card,d as yoo_form_creator_page_condition_dialog};