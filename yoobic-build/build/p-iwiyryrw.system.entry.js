System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(e){"use strict";var s,t,i,n,r,o,a,h,c,u,m,g,d,l,f,p,y,v;return{setters:[function(e){s=e.r;t=e.c;i=e.h;n=e.H;r=e.g},function(e){o=e.z;a=e.ap;h=e.cZ;c=e.cH;u=e.i;m=e.o;g=e.ak},function(){},function(){},function(){},function(e){d=e.a7;l=e.a6;f=e.dd;p=e.aO;y=e.a8;v=e.j},function(){}],execute:function(){var C=e("yoo_chat_message",function(){function e(e){s(this,e);this.hideEmptyCheckbox=false;this.isTouchEnded=true;this.pressHoldOffset=1e3;this.pressholdEmitted=false;this.clicked=t(this,"clicked",7);this.conferenceMessageClicked=t(this,"conferenceMessageClicked",7);this.presshold=t(this,"presshold",7);this.messageClick=t(this,"messageClick",7)}Object.defineProperty(e.prototype,"isConferenceMessage",{get:function(){return this.message&&this.message.type==="conference"},enumerable:true,configurable:true});e.prototype.componentDidLoad=function(){var e=this;if(this.messageDivRef&&!this.messageDivRef.classList.contains("audio")){var s=u()?"touchstart":"mousedown";var t=u()?"touchend":"mouseup";this.messageDivRef.addEventListener(s,function(s){return e.onTouchStart(s)},{passive:true});this.messageDivRef.addEventListener(t,function(s){return e.onTouchEnd(s)},{passive:true})}};e.prototype.onTouchStart=function(e){var s=this;if(e){this.isTouchEnded=false;setTimeout(function(){if(!s.isTouchEnded){s.presshold.emit({message:s.message});s.pressholdEmitted=true}clearTimeout()},this.pressHoldOffset)}};e.prototype.onTouchEnd=function(e){this.isTouchEnded=true;if(e&&this.pressholdEmitted){e.stopPropagation();e.preventDefault();this.pressholdEmitted=false}};e.prototype.onHasMentions=function(){return this.message&&this.message.mentions&&this.message.mentions.length>0};e.prototype.onClickMessage=function(e){if(this.message){if(!this.message.readonly&&this.message.author&&this.message.author._id===o().userId){this.message.selected=!this.message.selected;this.clicked.emit(this.message.selected)}if(this.isConferenceMessage&&this.message.content){this.conferenceMessageClicked.emit(this.message.content)}this.messageClick.emit(this.message.content)}};e.prototype.onClickMessageContent=function(){if(this.message.readonly&&this.message.img){if(d(this.message.img)){if(this.videoplayerRef){this.videoplayerRef.togglePlay()}}else if(l(this.message.img)){var e=this.message.img;if(l(e)&&a(e)){e=h(e)}c(e,null,true)}}};e.prototype.renderConferenceMessage=function(){return i("div",{class:"conference-message-container"},i("yoo-icon",{class:"yo-play"}," "),this.message&&this.message.content)};e.prototype.renderUser=function(){return i("div",{class:"user-container"},this.message.author&&(this.isLast&&this.isFirst||this.isLast&&!this.isFirst)&&i("yoo-avatar",{class:"m",avatarIconSize:"m",user:this.message.author}))};e.prototype.renderTimeStamp=function(){return this.message.time&&this.isFirst&&i("div",{class:"info-container center"},i("span",null,f.timeAgo.transform(this.message.time)))};e.prototype.renderUserName=function(){if(this.message.author&&this.message.author.firstName&&this.message.author.lastName){return[i("div",{class:{username:true}},this.message.author.firstName+" "+this.message.author.lastName)]}return null};e.prototype.renderVideoOnChat=function(){var e=this;var s={class:"round",blockControlAndAutoPlayOnTap:true,videoPlayerCoreParameters:{source:this.message.img,controls:false}};return i("div",{class:"image-container"},i("yoo-videoplayer-core",Object.assign({ref:function(s){return e.videoplayerRef=s}},s)))};e.prototype.renderImageOnChat=function(){return i("div",{class:"image-container"},i("yoo-img",{type:"image",class:"image radius",allowOrientation:true,src:h(this.message.img)}))};e.prototype.renderInnerMessage=function(){if(this.onHasMentions()){return i("yoo-mention-tag",{class:{underline:true,light:this.message&&this.message.isAlternate},allowTruncate:false,mentionedList:this.message.mentions,description:this.message.content})}else{return i("span",{innerHTML:p(this.message.content)})}};e.prototype.renderAudioOnChat=function(e){var s=this;return i("yoo-audio-player",{playerCommand:this.currentActivePlayerId,onHoldClickPressed:function(e){if(e){s.presshold.emit({message:s.message})}},blockEventOnPlay:true,_downloadURL:e})};e.prototype.renderMedia=function(e){if(d(e)||!u()&&e&&e.startsWith&&e.startsWith("blob:")){return this.renderVideoOnChat()}if(y(e)){return this.renderAudioOnChat(e)}return this.renderImageOnChat()};e.prototype.renderText=function(){return i("span",{class:{text:true,mention:this.onHasMentions()}},this.isConferenceMessage&&!u()?this.renderConferenceMessage():this.renderInnerMessage())};e.prototype.renderMessageContent=function(){var e;var s=this;return i("div",{ref:function(e){return s.messageDivRef=e},class:(e={"message-content":true,first:this.isFirst,last:this.isLast,img:!m(this.message.img),"next-img":this.isNextImage},e[v(this.message.img)]=true,e),onClick:function(){return s.onClickMessageContent()}},this.message.options&&this.message.options.isLoading&&!this.message.options.hideLoading?i("yoo-loader",{class:"absolute transparent"}):this.renderText(),this.message.img&&this.renderMedia(this.message.img))};e.prototype.render=function(){var e=this;return i(n,{class:g()},i("div",{class:"message "+(this.message.isAlternate?"user-message":"other-message"),onClick:function(s){return e.onClickMessage(s)}},this.renderTimeStamp(),this.message.readonly?null:this.message.author&&this.message.author._id===o().userId?i("yoo-form-checkbox",{class:"btn-form-choice",value:this.message.selected}):!this.hideEmptyCheckbox?i("div",{class:"empty-checkbox"}):null,this.isGroup&&this.message.author&&this.message.author._id!==o().userId?[this.isFirst&&this.renderUserName(),i("div",{class:"group-message-container"},this.renderUser(),this.renderMessageContent())]:this.renderMessageContent()))};Object.defineProperty(e.prototype,"host",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host(.operations){--background-message-content:var(--success,#04cc99)}:host(.boost){--background-message-content:var(--danger-light,#f46885)}:host{--icon-total-width:54px;--message-container-padding-left:15%;--video-height:230px}:host .message{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;max-width:100%;margin:.0625rem .2rem}\@-webkit-keyframes slide-left{0%{-webkit-transform:translateX(-.625rem);transform:translateX(-.625rem)}to{-webkit-transform:translateY(0);transform:translateY(0)}}\@keyframes slide-left{0%{-webkit-transform:translateX(-.625rem);transform:translateX(-.625rem)}to{-webkit-transform:translateY(0);transform:translateY(0)}}:host .message .empty-checkbox{width:var(--padding-15,.9375rem);height:var(--padding-15,.9375rem);margin:var(--padding-5,.3125rem)}:host .message .empty-checkbox,:host .message yoo-form-checkbox{-webkit-animation:slide-left .4s ease;animation:slide-left .4s ease}:host .message yoo-form-checkbox{--yo-circle-color:var(--stable,#adadad)!important}:host .message yoo-context-menu{width:100%}:host .message .message-content{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;-ms-flex-item-align:end;align-self:flex-end;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:75%;padding:.5rem 1rem;border-radius:1.25rem;white-space:pre-wrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;word-wrap:break-word}:host .message .message-content.img{padding:0!important;background-color:transparent!important}:host .message .message-content.audio{width:300px!important}:host .message .message-content .image-container{width:232px;max-width:100%;height:100%;pointer-events:none}:host .message .message-content .image-container yoo-videoplayer-core{height:var(--video-height)}:host .message .message-content .image-container .image{width:100%;min-width:150px;height:100%;min-height:100px;border-radius:10px;background:var(--light,#fff)}:host .message .message-content .text{pointer-events:none}:host .message .message-content .text.mention,:host .message .message-content .text a{pointer-events:auto}:host .message .message-content .text a{color:var(--light,#fff)}:host .message .info-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%;margin:.2rem;color:var(--text-color,#807f83);font-size:var(--font-size-02,.875rem);white-space:nowrap}:host .message .info-container yoo-avatar{margin-right:.3rem}:host .message .info-container.center{-ms-flex-pack:center;justify-content:center}:host .message.user-message .message-content{max-width:75%;margin-left:auto;border-top-right-radius:5px;border-bottom-right-radius:5px;background:var(--background-message-content);color:var(--light,#fff);word-wrap:break-word}:host .message.user-message .message-content.last{border-bottom-right-radius:1.25rem}:host .message.user-message .message-content.first{border-top-right-radius:1.25rem}:host .message.user-message .info-container{margin-left:auto}:host .message.other-message .message-content{-ms-flex-item-align:start;align-self:flex-start;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-right:auto;border-top-left-radius:5px;border-bottom-left-radius:5px;background:var(--stable-light,#f1f1f1)}:host .message.other-message .message-content.last{border-bottom-left-radius:1.25rem}:host .message.other-message .message-content.first{border-top-left-radius:1.25rem}:host .message .username{display:-ms-flexbox;display:flex;width:100%;padding-bottom:3px;padding-left:var(--icon-total-width);color:var(--text-color,#807f83);font-size:var(--font-size-02,.875rem);text-align:left}:host .message .group-message-container{display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;margin-bottom:var(--padding-15,.9375rem);padding-right:var(--message-container-padding-left)}:host .message .group-message-container .user-container{min-width:3.375rem}:host .message .group-message-container .message-content.next-img{border-radius:1.25rem}:host(.choice) .message.user-message{max-width:77%;float:right}:host(.choice) .message.user-message .empty-checkbox{position:absolute}:host(.choice) .message.user-message .message-content{-ms-flex-item-align:end;align-self:flex-end;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;max-width:100%;border:var(--border-width,1px) solid var(--danger-light,#f46885);border-radius:1.25rem;background:var(--light,#fff);color:var(--dark,#2b3648)}:host(.choice.selected) .message.user-message .message-content{background:var(--background-message-content);color:var(--light,#fff)}:host(.boost) .message .message-content{border-radius:1.25rem}"},enumerable:true,configurable:true});return e}())}}});