import{r as s,c as t,h as i,g as o}from"./p-0d847530.js";import{e as n,I as a,d5 as e,i as r,z as l,dj as c,al as h,cE as d,ao as u,cH as p,t as v,cZ as f}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import{az as E,dd as g}from"./p-d70b188c.js";import"./p-815d6c40.js";var b,m=(b=function(s,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i])})(s,t)},function(s,t){function i(){this.constructor=s}b(s,t),s.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y=new(function(s){function t(){var t=null!==s&&s.apply(this,arguments)||this;return t.Encode={TEXT_TYPE:"TEXT_TYPE",EMAIL_TYPE:"EMAIL_TYPE",PHONE_TYPE:"PHONE_TYPE",SMS_TYPE:"SMS_TYPE"},t}return m(t,s),t.prototype.scan=function(s){return n(this,"scan",{callbackOrder:"reverse"},arguments)},t.prototype.encode=function(s,t){return n(this,"encode",{},arguments)},t.pluginName="BarcodeScanner",t.plugin="phonegap-plugin-barcodescanner",t.pluginRef="cordova.plugins.barcodeScanner",t.repo="https://github.com/phonegap/phonegap-plugin-barcodescanner",t.platforms=["Android","BlackBerry 10","Browser","iOS","Windows"],t}(a));const T=class{constructor(i){s(this,i),this.validators=[],this.scanning=!1,this.validityChanged=t(this,"validityChanged",7),this.inputBlurred=t(this,"inputBlurred",7),this.inputFocused=t(this,"inputFocused",7),this.inputChanged=t(this,"inputChanged",7)}componentWillLoad(){e(this)}onOpenScanner(){if(!this.scanning){if(r()&&!l().hasScandit)return this.scanning=!0,y.scan({showFlipCameraButton:!0,showTorchButton:!0}).then(s=>{this.scanning=!1,s&&s.text&&c(s.text,this)});if(l().hasScandit){let s=document.createElement("yoo-form-barcode-dialog");s.mainMode="default";let t=t=>{t&&t.detail&&(c(t.detail,this),this.value=t.detail),d(s)};s.addEventListener("scannedSuccess",t),h(s).then(()=>{s&&(s.removeEventListener("scannedSuccess",t),s=null)})}}}renderReadonly(){return i("div",{class:"readonly"},this.value)}renderEditable(){return i("div",{class:"outer-container"},i("div",{class:"barcode-container",onClick:()=>this.onOpenScanner()},i("yoo-icon",{class:"center yo-barcode success"})),i("div",{class:"value-container"},i("div",null,this.placeholder?i("div",null,this.placeholder):null,this.value&&!this.hideValue?i("div",null,this.value):null)))}render(){return this.readonly?this.renderReadonly():this.renderEditable()}get host(){return o(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:start;align-items:flex-start;padding-bottom:1rem}:host .outer-container .barcode-container{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:98px;height:98px;border:1px solid var(--input-container-border-color,hsla(0,0%,67.8%,.4));border-radius:.5rem;cursor:pointer}:host .outer-container .barcode-container .required{top:auto;right:auto;bottom:auto;left:.625rem;position:absolute;color:var(--success,#04cc99);font-size:var(--font-size-03,1rem)}:host .outer-container .barcode-container yoo-icon{font-size:var(--font-size-09,2.25rem)}:host .outer-container .value-container{-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:center;align-content:center;-ms-flex-pack:start;justify-content:flex-start;height:98px;padding-left:2rem;color:var(--text-color,#807f83);font-size:var(--font-size-03,1rem)}:host .center,:host .outer-container .value-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .center{-ms-flex-pack:center;justify-content:center}:host .readonly{padding:.5rem;padding-left:0;padding-bottom:0}:host(.history){margin:0!important;border:0!important}:host(.history),:host(.history) .readonly{padding:0!important}"}},_=class{constructor(t){s(this,t),this.pictureWidth=300,this.pictureHeight=195,this.MIN_WIDTH_TABLET=500}componentDidLoad(){this.sizeContainer=E(this.innerContainer).width,this.tabletMod=this.sizeContainer>this.MIN_WIDTH_TABLET,this.pictureWidth=this.tabletMod?300:this.sizeContainer,this.sizeText=E(this.textContainer).height,this.topTagPosition=5*Math.ceil((this.pictureWidth+this.sizeText)/5)-5,this.tagsContainer=u(this.host,".horizontal"),this.tagsContainer.style.top=`${this.topTagPosition}px`,this.imageContainer.style.height=`${this.host.clientWidth}px`}componentDidUpdate(){this.imageContainer.style.height=`${this.host.clientWidth}px`}onClose(){d(null)}onShowImage(){p(this.product.image._downloadURL,this.product.image._filename,!0)}renderHeader(){return i("yoo-header",{class:"shadow"},i("yoo-ion-toolbar",{color:"light"},i("yoo-ion-buttons",{slot:"start"},i("yoo-ion-button",{color:"text-color",class:"close button-clear",onClick:()=>this.onClose()},i("yoo-icon",{slot:"icon-only",class:"yo-close"}))),i("yoo-title",null,v("PRODUCT"))))}renderTag(s){return i("span",{class:"bg-light tag-item"},s)}renderContent(){return i("yoo-ion-content",{scrollEnabled:!0,class:"bg-light"},i("div",{class:"inner-container",ref:s=>this.innerContainer=s},this.product&&this.product.image&&this.product.image._downloadURL&&i("div",{onClick:()=>this.onShowImage(),ref:s=>this.imageContainer=s,class:"image-container "+(this.tabletMod?"tablet-mod":"")},i("yoo-img",{type:"back",class:"image",src:f(this.product.image._downloadURL,this.pictureWidth,this.pictureHeight,null,null,null,null,!0)})),i("div",{class:"text-container",ref:s=>this.textContainer=s},i("div",{class:"row-container"},i("div",{class:"title"},v("TITLE")),i("div",{class:"value"},this.product.title)),this.product.price?i("div",{class:"row-container"},i("div",{class:"title"},v("PRICE")),i("div",{class:"value"},g.currency.transform(this.product.price))):null,this.product.color?i("div",{class:"row-container"},i("div",{class:"title"},v("COLOR")),i("div",{class:"value"},this.product.color)):null,this.product.reference?i("div",{class:"row-container"},i("div",{class:"title"},v("REFERENCE")),i("div",{class:"value"},this.product.reference)):null,this.product.shortdescription||this.product.description?i("div",{class:"row-container description"},i("div",{class:"title"},v("DESCRIPTION")),i("div",{class:"value",innerHTML:this.product.shortdescription||this.product.description})):null),i("div",{class:"tags"},i("yoo-ion-scroll",{class:"horizontal"},i("div",{class:"button-spacer"}),this.product.tags?this.product.tags.map(s=>this.renderTag(s)):null,i("div",{class:"button-spacer"})))))}render(){return[this.renderHeader(),this.renderContent()]}get host(){return o(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .inner-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font-size:var(--font-size-04,1.125rem)}:host .inner-container .image-container{position:relative}:host .inner-container .image-container yoo-img{position:inherit;width:100%;height:100%}:host .inner-container .row-container{padding:.5rem 0;border-bottom:1px solid var(--stable-light,#f1f1f1);font-size:var(--font-size-03,1rem)}:host .inner-container .row-container .value{color:var(--text-color,#807f83)}:host .inner-container .tags{position:relative;height:100px}:host .inner-container .tags yoo-ion-scroll{top:0!important;padding:0 .75rem}:host .inner-container .text-container{padding:.75rem}:host .inner-container .tablet-mod{width:100%;margin:0 auto;padding-top:.5rem}:host .inner-container .tag-item{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin-right:.5rem;padding:.5rem;padding-bottom:.75rem;border:1px solid var(--stable-light,#f1f1f1);border-radius:15px;font-size:var(--font-size-03,1rem)}"}};export{T as yoo_form_barcode,_ as yoo_form_catalog_dialog};