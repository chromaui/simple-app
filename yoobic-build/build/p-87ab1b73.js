import{V as e,N as r,u as t,t as n,$ as a,a6 as o,G as s,bE as u,v as c,cZ as i,a7 as l,ad as d,c6 as f,bU as g,W as m}from"./p-384bfcf6.js";import"./p-0d62bf9d.js";import{aM as y,dd as R,aA as b}from"./p-d70b188c.js";function h(t){let a=t.value||"",o=r;return t&&t.colDef&&t.colDef.translate&&(o=n),e(a)?a.map(e=>o(e||"")).join(", "):o(a.toString())}function p(e){let t=[].concat(e.value||[]);t=y(t);let n=r;return t.map(e=>n(e||"")).join(", ")}function M(e){let r=e.value;return!0===r||"true"===r?'<yoo-form-checkbox value="true" readonly="true"></yoo-form-checkbox>':!1===r||"false"===r?'<yoo-form-checkbox value="false" readonly="true"></yoo-form-checkbox>':!1!==r&&!0!==r?'<yoo-icon class="yo-circle stable"></yoo-icon>':""}function v(e){let r=e.value;return r&&r.startsWith("yo-")?`<yoo-icon class="${r}"></yoo-icon>`:r&&r.startsWith("http")?`<yoo-img class="image grid" src="${r}"></yoo-img>`:void 0}function N(e){let t=e.value;return t&&t.toUpperCase?r(t.toUpperCase()):t}function x(e){let r=e.value,n="1.0-1";return e.colDef&&e.colDef.cellRendererParams&&e.colDef.cellRendererParams.precision>0&&(n="1.0-"+e.colDef.cellRendererParams.precision),r&&isFinite(r-0)&&(r-=0),(r=t(r)?R.decimal.transform(r,n).toString():r&&r.toString?r.toString():"").toString()}function A(e){let r=e.value;return r&&isFinite(r-0)&&(r-=0),(r=t(r)?R.percent.transform(r).toString():r&&r.toString?r.toString():"").toString()}function E(e){let r=e.value;return t(r)?Math.round(r)+" "+n("MIN").toLowerCase()+".":r}function k(r){let t,n=r.colDef.field.split(".");if(e(n)&&n.indexOf("distance")>-1&&r&&r.node&&r.data&&r.node.data.getIn){let e=r.node.data.getIn(["_geoloc"]),n=r.node.data.getIn(["_geolocSave"]);e=!1===a(e)?e.toJS?e.toJS():e:"",n=!1===a(n)?n.toJS?n.toJS():n:"",e&&2===e.length&&n&&2===n.length&&(t=function(r,t,a,o,s="K"){let u=Math.PI*n[1]/180,c=Math.PI*e[1]/180,i=Math.PI*(n[0]-e[0])/180,l=Math.sin(u)*Math.sin(c)+Math.cos(u)*Math.cos(c)*Math.cos(i);return l=60*(l=180*(l=Math.acos(l))/Math.PI)*1.1515,"K"===s&&(l*=1.609344),"N"===s&&(l*=.8684),l}())}return t||""}function C(e){let r=e.value||"",n=e.node.parent.allLeafChildren,a=o(n,e.node),s=e.colDef.field;if(a>0&&a<n.length){let e=n[a].data[s],o=n[a-1].data[s];if(t(e)&&t(o)&&Math.abs(o)>0){let t=Math.round((e-o)/o*100);Math.abs(t)>0&&(r+='<span style="margin-left:10px" class="'+(t>0?"success":"danger")+'"> ('+t+"%)</span>")}}return r}function L(e,r){let t=e.value;if(m(t)&&t.value&&(t=t.value),t){let e;return e=c(t),s(e,r)}return""}function D(e){return L(e,"L LT")}function T(e){return L(e,"L")}function S(e){let r=e.value;return r?/^\d\d:\d\d/.test(r)?s(u(r,"HH:mm"),"LT"):s(c(r),"LT"):""}function I(e){return e.value?'<yoo-img class="ag-cell-image" src="'+i(e.value||"",30,30)+'" />':""}function V(r){let t=r.value;return t&&e(t)&&t.length>0?t.map(e=>'<yoo-img class="ag-cell-image" src="'+i(e||"",30,30)+'" />').join(" "):""}function j(e){return'<video class="ag-cell-image video" [src]="'+e.value+'"></video>'}function w(e){let r=5;return e.colDef&&e.colDef.cellRendererParams&&e.colDef.cellRendererParams.max&&(r=e.colDef.cellRendererParams.max),'<yoo-form-star-rating class="ag-cell-image energized" readonly="true" max="'+r+'" value="'+e.value+'"></yoo-form-star-rating>'}function F(e){return e.value?e.value.address?e.value.address:e.value:""}function G(e){let r=e.value;return r?(r.title?r.title+" - ":"")+r.address:""}function z(e){let r=e.value;return r&&r.values?l(r.values,e=>e.text.value).join(", "):""}function B(e){let r=e.value;if(r&&r.startDate&&r.endDate){let e=d(c(r.endDate),c(r.startDate));return Math.floor(f(e))+s(g(new Date(e)),":mm:ss")}return""}function H(e){return h(e)}function K(e){return h(e)}function O(e){let r;return b(r=e.node&&e.node.data?e.node.data:e.value)}function P(e){return e.colDef&&e.colDef.cellRendererParams?'<yoo-button icon="'+(e.colDef.cellRendererParams.icon||"")+'" class="small outline-dark '+(e.colDef.cellRendererParams.color||"")+'"></yoo-button>':""}function $(e){let r=e.value,t="";return e.node&&e.node.data&&(t=e.node.data.status),!0===r||"true"===r||"validated"===r?'<yoo-badge class="tag success" text="'+n("VALIDATED")+'"></yoo-badge>':!1===r||"false"===r||"rejected"===r?'<yoo-badge class="tag danger" text="'+n("REJECTED")+'"></yoo-badge>':"finished"===t&&!1!==r&&!0!==r&&"false"!==r&&"true"!==r||"tobevalidated"===r?'<yoo-badge class="tag royal" text="'+n("TOBEVALIDATED")+'"></yoo-badge>':e.node.group&&"group"===e.colDef.cellRenderer?'<yoo-badge class="tag stable" text="'+n("N/A")+'"></yoo-badge>':""}function _(e){let r=e.value;return"finished"===r?'<yoo-badge class="tag dark" text="'+n("FINISHED")+'"></yoo-badge>':"booked"===r?'<yoo-badge class="tag info" text="'+n("BOOKED")+'"></yoo-badge>':"available"===r?'<yoo-badge class="tag energized" text="'+n("AVAILABLE")+'"></yoo-badge>':r?r.toString():""}function J(e){let r="";return e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated&&(e.node.aggData.conformityprogress=U(e.node),r+=ee("conformityprogress",e.node.aggData.conformityprogress," %",!0,!0)),r}function U(e){if(e.aggData&&e.aggData.validated&&e.aggData.validated.counts){let r=Math.round(100*(e.aggData.validated.counts.validated||0)/((e.aggData.validated.counts.validated||0)+(e.aggData.validated.counts.rejected||0)));return isNaN(r)?0:r}return 0}function W(e){let r="";return e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated&&(e.node.aggData.progress=Z(e.node),r+=ee("progress",e.node.aggData.progress," %",!0,!0)),r}function Z(e){if(e&&e.aggData&&e.aggData.status&&e.aggData.status.counts){let r=Math.round(100*(e.aggData.status.counts.finished||0)/((e.aggData.status.counts.finished||0)+(e.aggData.status.counts.available||0)));return isNaN(r)?0:r}return 0}function q(e){let r="";return e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated&&(e.node.aggData.validationprogress=Q(e.node),r+=ee("validationprogress",e.node.aggData.validationprogress," %",!0,!0)),r}function Q(e){if(e.aggData&&e.aggData.validated&&e.aggData.validated.counts){let r=Math.round(100*((e.aggData.validated.counts.validated||0)+(e.aggData.validated.counts.rejected||0))/(e.aggData.status.counts.finished||0));return isNaN(r)?0:r}return 0}function X(e){let r="";return e.node&&e.node.aggData&&e.node.aggData.status&&e.node.aggData.validated&&(e.node.aggData.conformityrelativeprogress=Y(e.node),r+=ee("conformityrelativeprogress",e.node.aggData.conformityrelativeprogress," %",!0,!0)),r}function Y(e){let r=Z(e),t=U(e),n=Math.round(t*r/100);return isNaN(n)?0:n}function ee(e,r,t="",n=!1,a=!1){let o=e;isNaN(r)&&(r="?",t="");let s="success";return"?"===r?s="dark":r<33?s="danger":r<75&&(s="energized"),'<yoo-badge class="tag '+s+'" text="'+(a?"":o+":")+r+t+'" ></yoo-badge>'}class re{getGui(){return this.eGui}init(e){let r=document.createElement("yoo-mission-results");r.className="inline",r.mission=e.data,this.eGui=r}}function te(e){switch(e){case"groupRenderer":return p;case"booleanRenderer":return M;case"iconRenderer":return v;case"numberRenderer":return x;case"dateRenderer":return T;case"dateTimeRenderer":return D;case"timeRenderer":return S;case"percentageRenderer":return A;case"durationRenderer":return E;case"distanceRenderer":return k;case"deltaRenderer":return C;case"translateRenderer":return N;case"photoRenderer":return I;case"multiphotoRenderer":return V;case"videoRenderer":return j;case"starratingRenderer":return w;case"addressRenderer":return F;case"locationRenderer":return G;case"todoRenderer":return z;case"timerRenderer":return B;case"checklistRenderer":return H;case"customModelRenderer":return K;case"userFullNameRenderer":return O;case"buttonRenderer":return P;case"missionStatusRenderer":return _;case"missionValidationRenderer":return $;case"progressRenderer":return W;case"validationProgressRenderer":return q;case"conformityProgressRenderer":return J;case"conformityRelativeProgressRenderer":return X;case"agGroupCellRenderer":return"agGroupCellRenderer";case"agAnimateShowChangeCellRenderer":return"agAnimateShowChangeCellRenderer";case"agAnimateSlideCellRenderer":return"agAnimateSlideCellRenderer";case"missionResultsRenderer":return re;case"defaultRenderer":default:return h}}export{ee as a,Y as b,U as c,te as g,Z as p,Q as v};