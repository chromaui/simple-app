import{r as s,c as t,h as i,g as e}from"./p-0d847530.js";import{d5 as r,Y as o,ao as h,dj as n,t as a}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import"./p-d70b188c.js";import"./p-815d6c40.js";const l=class{constructor(i){s(this,i),this.validators=[],this.placeholder="ADDNEWACTION",this.previousTasks=[],this.currentTasks=[],this.rows=1,this.validityChanged=t(this,"validityChanged",7),this.inputBlurred=t(this,"inputBlurred",7),this.inputFocused=t(this,"inputFocused",7),this.inputChanged=t(this,"inputChanged",7)}componentWillLoad(){r(this,o.checklist)}onValidate(s){this.readonly||(this.previousTasks[s].validated=!0!==this.previousTasks[s].validated||null,this.onUpdateValue())}onReject(s){this.readonly||(this.previousTasks[s].validated=!1===this.previousTasks[s].validated&&null,this.onUpdateValue())}onReport(s){this.readonly||(this.currentTasks.push(this.previousTasks[s].text),this.onUpdateValue())}onNewTaskRemove(s){this.currentTasks.splice(s,1),this.onUpdateValue()}onInputChanged(s){s.stopPropagation()}onInputBlurred(s){let t=h(this.host,"yoo-form-text-area").value;t&&(this.currentTasks.push(t),h(this.host,"yoo-form-text-area").clear(),this.onUpdateValue(),this.rows=1)}onUpdateValue(){n({previousTasks:this.previousTasks,currentTasks:this.currentTasks},this),this.host.forceUpdate()}renderPreviousTasks(s){if(this.previousTasks&&this.previousTasks.length>0)return[i("div",{class:"title"}," ",a("PREVIOUSACTIONS")),i("div",{class:"tasks"},this.previousTasks.map((t,e)=>i("div",{class:"previous "+(t.validated?"validated":!1===t.validated?"rejected":"")+(0===e?" first":"")},s&&!0!==t.validated?null:i("yoo-icon",{class:"yo-check",onClick:()=>this.onValidate(e)}),s&&!1!==t.validated?null:i("yoo-icon",{class:"yo-cross",onClick:()=>this.onReject(e)}),i("div",{class:"flex text"},t.text),s?null:i("yoo-icon",{class:"yo-repeat",onClick:()=>this.onReport(e)}))))]}renderCurrentTasks(s){return[!s||this.currentTasks&&this.currentTasks.length>0?i("div",{class:"title"}," ",a("NEXTACTIONS")):null,s?null:this.renderTextArea(),!s||this.currentTasks&&this.currentTasks.length>0?i("div",{class:"tasks"},this.currentTasks?this.currentTasks.map((t,e)=>i("div",{class:"task"+(0===e?" first":"")},i("div",{class:"flex"}," ",t),s?null:i("yoo-icon",{class:"yo-cross",onClick:()=>this.onNewTaskRemove(e)}))):null):null]}renderTextArea(){return i("yoo-form-text-area",{resizable:"none",initialRows:this.rows,maxRows:5,placeholder:a(this.placeholder),disableEnter:!0,validateInput:!1,inputTabIndex:this.inputTabIndex,disableTab:!0,onInputChanged:s=>this.onInputChanged(s),onInputBlurred:s=>this.onInputBlurred(s),onEnterPressed:s=>this.onInputBlurred(s),onTabPressed:s=>this.onInputBlurred(s)})}renderEditable(){return i("div",{class:"outer-container"},this.renderPreviousTasks(!1),this.renderCurrentTasks(!1))}renderReadonly(){return i("div",{class:"readonly"},this.renderPreviousTasks(!0),this.renderCurrentTasks(!0))}parseHistoryData(){let s="";return s=" "+a("NEXTACTIONS"),this.currentTasks.forEach(t=>{s+=", "+t}),s}renderHistory(){let s=this.parseHistoryData();return i("div",{class:"history-container"},i("yoo-text-truncate",{maxLine:2,content:s,hideMoreButton:!0}," "))}render(){return this.isHistory?this.renderHistory():this.readonly?this.renderReadonly():this.renderEditable()}get host(){return e(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container,:host .readonly{text-align:left}:host .outer-container .title,:host .readonly .title{margin-top:.5rem;margin-bottom:.625rem;font-size:var(--font-size-03,1rem)}:host .outer-container .title:first-child,:host .readonly .title:first-child{margin-top:0}:host .outer-container yoo-form-input,:host .readonly yoo-form-input{margin-bottom:.5rem}:host .outer-container .flex,:host .readonly .flex{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1}:host .outer-container .previous,:host .outer-container .task,:host .readonly .previous,:host .readonly .task{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;margin-bottom:.25rem;padding:.6rem 0;border-bottom:1px solid var(--stable-40,hsla(0,0%,67.8%,.4));font-size:var(--font-size-03,1rem);font-weight:var(--font-weight-02,400);line-height:17px}:host .outer-container .previous yoo-icon,:host .outer-container .task yoo-icon,:host .readonly .previous yoo-icon,:host .readonly .task yoo-icon{color:var(--dark,#2b3648);font-size:var(--icon-size-02,1.5rem);padding:0 .2rem;opacity:.3}:host .outer-container .previous yoo-icon .yo-down,:host .outer-container .previous yoo-icon .yo-up,:host .outer-container .task yoo-icon .yo-down,:host .outer-container .task yoo-icon .yo-up,:host .readonly .previous yoo-icon .yo-down,:host .readonly .previous yoo-icon .yo-up,:host .readonly .task yoo-icon .yo-down,:host .readonly .task yoo-icon .yo-up{margin:0 0 0 -.8rem;font-size:var(--font-size-01,.75rem)}:host .outer-container .previous yoo-icon .yo-cross,:host .outer-container .task yoo-icon .yo-cross,:host .readonly .previous yoo-icon .yo-cross,:host .readonly .task yoo-icon .yo-cross{margin:0 0 0 -.8rem}:host .outer-container .previous yoo-icon.yo-repeat,:host .outer-container .task yoo-icon.yo-repeat,:host .readonly .previous yoo-icon.yo-repeat,:host .readonly .task yoo-icon.yo-repeat{font-size:var(--font-size-06,1.5rem);opacity:1}:host .outer-container .previous .text,:host .outer-container .task .text,:host .readonly .previous .text,:host .readonly .task .text{padding-left:.2rem}:host .outer-container .previous.first,:host .outer-container .task.first,:host .readonly .previous.first,:host .readonly .task.first{padding-top:var(--padding-10,.625rem)}:host .outer-container .previous.validated yoo-icon.yo-check,:host .outer-container .task.validated yoo-icon.yo-check,:host .readonly .previous.validated yoo-icon.yo-check,:host .readonly .task.validated yoo-icon.yo-check{color:var(--success,#04cc99);opacity:1}:host .outer-container .previous.rejected yoo-icon.yo-cross,:host .outer-container .task.rejected yoo-icon.yo-cross,:host .readonly .previous.rejected yoo-icon.yo-cross,:host .readonly .task.rejected yoo-icon.yo-cross{color:var(--danger,#ff625f);opacity:1}:host .readonly{padding:.5rem;padding-left:0;padding-bottom:0}:host .readonly .previous,:host .readonly .task{border-bottom:none}:host(.history) .outer-container .title,:host(.history) .readonly .title{margin-top:0;margin-bottom:0}:host(.history) .outer-container .previous,:host(.history) .outer-container .task,:host(.history) .readonly .previous,:host(.history) .readonly .task{margin-bottom:0}"}};export{l as yoo_form_checklist};