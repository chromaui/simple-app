import{r as t,c as e,h as i,H as s,g as n}from"./p-0d847530.js";import{cw as o,o as r,cZ as c,ak as a}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import"./p-d70b188c.js";import"./p-815d6c40.js";const h=class{constructor(i){t(this,i),this.itemClicked=e(this,"itemClicked",7),this.previewIconMoved=e(this,"previewIconMoved",7)}activePageChange(t){this.activePreviewPage=void 0,this._activePage=t}onIonModalDidDismiss(){this.activePreviewPage=void 0,this.previewIcon=void 0}componentWillLoad(){this.activePage&&(this._activePage=this.activePage)}componentDidLoad(){this.resizeListener=o(this.resizePage,500).bind(this),window.addEventListener("resize",this.resizeListener)}componentDidUnload(){window.removeEventListener("resize",this.resizeListener)}isActivePage(t,e){let i=this.activePage.indexOf("?");return i>0&&(this._activePage=this.activePage.slice(0,i)),t.href&&this._activePage&&"profile"===t.name?this.isAProfilePage(this._activePage,e):t.href===this._activePage}getActiveSubItemIndex(t,e){return t.subItems.findIndex(t=>t.href===e)}isHighlightedPage(t){return this.activePreviewPage?t.name===this.activePreviewPage:t&&t.subItems?this.getActiveSubItemIndex(t,this._activePage)>-1:this.isActivePage(t)}isAProfilePage(t,e){let i=!1;switch(t){case"/menu/documents":case"/menu/contacts":case"/menu/notes":i=!0}return"/menu/profile"===t||i&&!e}onItemClicked(t,e){if(!this.isActivePage(t,!0)&&r(t.subItems)){if(t.openPreview){let i=this.getPreviewIconPosition(e);t.position=i,this.previewIcon=e,this.activePreviewPage=t.name}this.itemClicked.emit(t)}}resizePage(){if(this.previewIcon){let t=this.getPreviewIconPosition(this.previewIcon);this.previewIconMoved.emit(t)}}getPreviewIconPosition(t){if(t){const e=300,i=.5,s=t.getBoundingClientRect(),n=window.innerWidth-e-10;return Math.min(s.left-e*i+s.width/2,n)}return 0}renderUser(t){let e,s={label:"user",name:"profile",icon:t.user.imageData,iconSelected:t.user.imageData,openPreview:!0,href:"/menu/profile"};return t?i("div",{class:{"item-container":!0,"selected-profile":this.isHighlightedPage(s)}},i("div",{class:"avatar-container"},i("yoo-avatar",{ref:t=>e=t,class:"msmall web-menu",avatarIconSize:"m",user:t.user,onClick:()=>this.onItemClicked(s,e)}))):null}renderLogo(t){return i("div",{class:"menu-logo"},i("yoo-img",{type:"back",class:"image",src:c(t.logo,20,20)}))}renderItems(t,e){return t&&i("div",{class:"menu-items"},t.items&&t.items.length>0&&t.items.map(t=>this.renderItem(t)),e&&this.renderUser(t))}renderItem(t){let e;if(!1!==t.visible)return i("div",{class:{"item-container":!0,selected:this.isHighlightedPage(t),plus:"yo-circle-plus"===t.icon},ref:t=>e=t,onClick:()=>this.onItemClicked(t,e)},t.tooltip?i("yoo-tooltip",{placement:"bottom",content:t.tooltip,options:{distance:"15"}},t.subItems&&t.subItems.length>0?this.renderContextMenuItem(t):this.renderItemContent(t)):t.subItems&&t.subItems.length>0?this.renderContextMenuItem(t):this.renderItemContent(t))}renderContextMenuItem(t){let e=t.subItems;e.forEach(t=>delete t.cssClass);const s=this.getActiveSubItemIndex(t,this._activePage);return s>-1&&(e[s]=Object.assign({},e[s],{cssClass:"active"})),i("yoo-context-menu",{contentButtons:e,isDropdown:!0},this.renderItemContent(t))}renderItemContent(t){if(!1!==t.visible)return i("div",{class:"menu-item"},t.icon&&i("yoo-icon",{class:t.icon}),t.notif&&i("div",{class:"notification"}),t.label&&i("div",{class:{label:!0,"has-icon":!r(t.icon)}},t.label),t.subItems&&i("yoo-icon",{class:"yo-down"}))}renderLeftContainer(){return i("div",{class:"container left"},this.leftEntry&&this.leftEntry.logo?this.renderLogo(this.leftEntry):null,this.renderItems(this.leftEntry,!1))}renderRightContainer(){return i("div",{class:"container right"},this.renderItems(this.rightEntry,!0))}render(){return i(s,{class:a()},i("div",{class:"menu-container"},this.renderLeftContainer(),this.renderRightContainer()))}get host(){return n(this)}static get watchers(){return{activePage:["activePageChange"]}}static get style(){return".iframe-root.sc-yoo-web-menu{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root.sc-yoo-web-menu yoo-app.sc-yoo-web-menu .wrapper.sc-yoo-web-menu{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root.sc-yoo-web-menu yoo-app.sc-yoo-web-menu .wrapper.center-center.sc-yoo-web-menu{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root.sc-yoo-web-menu::-webkit-scrollbar{display:none}.sc-yoo-web-menu-h{border-bottom:1px solid var(--stable-light,#f1f1f1);background-color:var(--light,#fff)}.sc-yoo-web-menu-h, .sc-yoo-web-menu-h .container.sc-yoo-web-menu{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.sc-yoo-web-menu-h .container.sc-yoo-web-menu{width:100%;color:var(--text-color,#807f83);font-size:var(--font-size-04,1.125rem)}.sc-yoo-web-menu-h .container.left.sc-yoo-web-menu{-ms-flex-pack:start;justify-content:flex-start;margin-left:var(--padding-20,1.25rem)}.sc-yoo-web-menu-h .container.right.sc-yoo-web-menu{-ms-flex-pack:end;justify-content:flex-end;margin-right:var(--padding-20,1.25rem)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-width:1102px;height:3rem}\@media only screen and (max-width:1102px){.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu{width:100%;min-width:unset}}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-logo.sc-yoo-web-menu{padding-right:var(--padding-10,.625rem);padding-left:var(--padding-10,.625rem)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-logo.sc-yoo-web-menu .image.sc-yoo-web-menu{width:1.875rem;height:1.875rem}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu{height:100%}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu, .sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu{position:relative;-ms-flex-direction:column;flex-direction:column;padding:0 var(--padding-10,.625rem)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu .avatar-container.sc-yoo-web-menu{border:2px solid var(--light,#fff)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu .menu-item.sc-yoo-web-menu{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu .menu-item.sc-yoo-web-menu .label.sc-yoo-web-menu{font-size:var(--font-size-02,.875rem);white-space:nowrap}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu .menu-item.sc-yoo-web-menu .label.has-icon.sc-yoo-web-menu{margin-left:var(--padding-10,.625rem)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu .menu-item.sc-yoo-web-menu yoo-icon.yo-down.sc-yoo-web-menu{margin-left:var(--padding-10,.625rem);font-size:var(--font-size-01,.75rem)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.sc-yoo-web-menu .notification.sc-yoo-web-menu{position:absolute;top:0;right:0;width:.3125rem;height:.3125rem;margin-right:var(--padding-5,.3125rem);border-radius:.15625rem;background-color:var(--danger,#ff625f)}.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.plus.sc-yoo-web-menu{font-size:var(--font-size-06,1.5rem)}.operations.sc-yoo-web-menu-h .selected.sc-yoo-web-menu{color:var(--success,#04cc99)}.operations.sc-yoo-web-menu-h .selected-profile.sc-yoo-web-menu .avatar-container.sc-yoo-web-menu{border:2px solid var(--success,#04cc99)!important;border-radius:50%}.operations.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.plus.sc-yoo-web-menu{color:var(--success,#04cc99)}.boost.sc-yoo-web-menu-h .container.left.sc-yoo-web-menu{margin-left:11.5rem}.boost.sc-yoo-web-menu-h .container.right.sc-yoo-web-menu{margin-right:11.5rem}.boost.sc-yoo-web-menu-h .selected.sc-yoo-web-menu{color:var(--danger-light,#f46885)}.boost.sc-yoo-web-menu-h .selected-profile.sc-yoo-web-menu .avatar-container.sc-yoo-web-menu{border:2px solid var(--danger-light,#f46885)!important;border-radius:50%}.boost.sc-yoo-web-menu-h .menu-container.sc-yoo-web-menu .menu-items.sc-yoo-web-menu .item-container.plus.sc-yoo-web-menu{color:var(--danger,#ff625f)}"}};export{h as yoo_web_menu};