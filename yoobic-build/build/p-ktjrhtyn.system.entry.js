var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function u(t){try{s(o["throw"](t))}catch(t){i(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,u)}s((o=o.apply(t,e||[])).next())})};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,r,i,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(t){return function(e){return s([t,e])}}function s(a){if(o)throw new TypeError("Generator is already executing.");while(n)try{if(o=1,r&&(i=a[0]&2?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;if(r=0,i)a=[a[0]&2,i.value];switch(a[0]){case 0:case 1:i=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;r=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1];i=a;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(a);break}if(i[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t];r=0}finally{o=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,n,o,r,i,a;return{setters:[function(t){e=t.r;n=t.c;o=t.h;r=t.g},function(t){i=t.d5;a=t.dj},function(){},function(){},function(){},function(){},function(){}],execute:function(){var u=t("yoo_form_location",function(){function t(t){e(this,t);this.validators=[];this.validityChanged=n(this,"validityChanged",7);this.inputBlurred=n(this,"inputBlurred",7);this.inputFocused=n(this,"inputFocused",7);this.inputChanged=n(this,"inputChanged",7);this.fetchData=n(this,"fetchData",7)}t.prototype.updateValues=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){if(this.formAutocomplete){this.formAutocomplete.updateValues(t)}return[2]})})};t.prototype.componentWillLoad=function(){i(this)};t.prototype.onFetchData=function(t){t.stopPropagation();if(t.detail){t.detail.aroundMe=this.aroundMe;this.fetchData.emit(t.detail)}};t.prototype.onAroundMeToggle=function(t){t.stopPropagation();this.aroundMe=t.detail;this.updateValues([])};t.prototype.onInputChanged=function(t){t.stopPropagation();var e=t.detail;if(e&&e._geoloc){this.marker={_id:e._id,latitude:e._geoloc[1],longitude:e._geoloc[0],title:e.title,address:e.address}}else{this.marker=null}a(e,this)};t.prototype.onInputBlurred=function(t){t.stopPropagation();this.inputBlurred.emit(t.detail)};t.prototype.onInputFocused=function(t){t.stopPropagation();this.inputFocused.emit(t.detail)};t.prototype.stopValidityChangeEvent=function(t){t.stopPropagation()};t.prototype.renderInput=function(t){var e=this;return o("yoo-form-autocomplete",{ref:function(t){return e.formAutocomplete=t},readonly:t,multiple:this.multiple,value:this.value,iconPrefix:"yo-store",entityType:"locations",displayType:"card-list",isLocal:false,onFetchData:function(t){return e.onFetchData(t)},onInputChanged:function(t){return e.onInputChanged(t)},onInputBlurred:function(t){return e.onInputBlurred(t)},onInputFocused:function(t){return e.onInputFocused(t)},onValidityChanged:function(t){return e.stopValidityChangeEvent(t)},clearable:true,tags:this.tags,isHistory:this.isHistory,tabindex:this.inputTabIndex})};t.prototype.renderReadonly=function(){return o("div",{class:"readonly"},this.renderInput(true))};t.prototype.renderEditable=function(){var t=this;return o("div",{class:"outer-container"},this.renderInput(false),o("yoo-form-input-container",{field:{title:"AROUNDME"},class:"noborder"},o("yoo-form-checkbox",{class:"success",type:"line",onInputChanged:function(e){return t.onAroundMeToggle(e)},onValidityChanged:function(e){return t.stopValidityChangeEvent(e)}})),this.marker&&this.marker.latitude&&this.marker.longitude?o("div",{class:"map-container"},o("yoo-map",{class:"absolute",position:this.marker,markers:[this.marker]})):null)};t.prototype.render=function(){return this.readonly?this.renderReadonly():this.renderEditable()};Object.defineProperty(t.prototype,"host",{get:function(){return r(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container .map-container,:host .readonly .map-container{position:relative;height:180px;margin-top:.5rem;border-radius:var(--border-radius-input,5px);background:var(--stable,#adadad);overflow:hidden}:host .outer-container yoo-form-input-container,:host .readonly yoo-form-input-container{margin-top:.5rem}:host .outer-container yoo-form-input-container yoo-form-checkbox,:host .readonly yoo-form-input-container yoo-form-checkbox{color:var(--text-color,#807f83)}:host(.history),:host(.history) .readonly{border:none!important}"},enumerable:true,configurable:true});return t}())}}});