import{r as t,c as s,h as i,g as o}from"./p-0d847530.js";import{d5 as e,dj as n}from"./p-384bfcf6.js";import"./p-0f3d65ca.js";import"./p-8cff990b.js";import"./p-0d62bf9d.js";import"./p-d70b188c.js";import"./p-815d6c40.js";const a=class{constructor(i){t(this,i),this.validators=[],this.validityChanged=s(this,"validityChanged",7),this.inputBlurred=s(this,"inputBlurred",7),this.inputFocused=s(this,"inputFocused",7),this.inputChanged=s(this,"inputChanged",7),this.fetchData=s(this,"fetchData",7)}async updateValues(t){this.formAutocomplete&&this.formAutocomplete.updateValues(t)}componentWillLoad(){e(this)}onFetchData(t){t.stopPropagation(),t.detail&&(t.detail.aroundMe=this.aroundMe,this.fetchData.emit(t.detail))}onAroundMeToggle(t){t.stopPropagation(),this.aroundMe=t.detail,this.updateValues([])}onInputChanged(t){t.stopPropagation();let s=t.detail;this.marker=s&&s._geoloc?{_id:s._id,latitude:s._geoloc[1],longitude:s._geoloc[0],title:s.title,address:s.address}:null,n(s,this)}onInputBlurred(t){t.stopPropagation(),this.inputBlurred.emit(t.detail)}onInputFocused(t){t.stopPropagation(),this.inputFocused.emit(t.detail)}stopValidityChangeEvent(t){t.stopPropagation()}renderInput(t){return i("yoo-form-autocomplete",{ref:t=>this.formAutocomplete=t,readonly:t,multiple:this.multiple,value:this.value,iconPrefix:"yo-store",entityType:"locations",displayType:"card-list",isLocal:!1,onFetchData:t=>this.onFetchData(t),onInputChanged:t=>this.onInputChanged(t),onInputBlurred:t=>this.onInputBlurred(t),onInputFocused:t=>this.onInputFocused(t),onValidityChanged:t=>this.stopValidityChangeEvent(t),clearable:!0,tags:this.tags,isHistory:this.isHistory,tabindex:this.inputTabIndex})}renderReadonly(){return i("div",{class:"readonly"},this.renderInput(!0))}renderEditable(){return i("div",{class:"outer-container"},this.renderInput(!1),i("yoo-form-input-container",{field:{title:"AROUNDME"},class:"noborder"},i("yoo-form-checkbox",{class:"success",type:"line",onInputChanged:t=>this.onAroundMeToggle(t),onValidityChanged:t=>this.stopValidityChangeEvent(t)})),this.marker&&this.marker.latitude&&this.marker.longitude?i("div",{class:"map-container"},i("yoo-map",{class:"absolute",position:this.marker,markers:[this.marker]})):null)}render(){return this.readonly?this.renderReadonly():this.renderEditable()}get host(){return o(this)}static get style(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container .map-container,:host .readonly .map-container{position:relative;height:180px;margin-top:.5rem;border-radius:var(--border-radius-input,5px);background:var(--stable,#adadad);overflow:hidden}:host .outer-container yoo-form-input-container,:host .readonly yoo-form-input-container{margin-top:.5rem}:host .outer-container yoo-form-input-container yoo-form-checkbox,:host .readonly yoo-form-input-container yoo-form-checkbox{color:var(--text-color,#807f83)}:host(.history),:host(.history) .readonly{border:none!important}"}};export{a as yoo_form_location};