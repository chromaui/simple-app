System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(e){"use strict";var t,n,r,i,s,a,o,l,u,f,c;return{setters:[function(e){t=e.r;n=e.c;r=e.h;i=e.H;s=e.g},function(e){a=e.u;o=e.C;l=e.p;u=e.ab;f=e.ak},function(){},function(){},function(e){c=e.S},function(){},function(){}],execute:function(){var p=[{prefix:"left",pointsTransform:"translate(#tslX, 35)",rank:2},{prefix:"center",pointsTransform:"translate(#tslX, 33)",rank:1},{prefix:"right",pointsTransform:"translate(#tslX, 44) scale(-1, 1) translate(-16, -44) translate(11, 35)",rank:3}];var v=e("yoo_podium",function(){function e(e){t(this,e);this.selected=n(this,"selected",7)}e.prototype.onUsersRankedChanged=function(e){if(e){var t=this.getSVGElement();if(t){this.onBeforeInjectSVG(t);this.onAfterInjectSVG(t)}}};e.prototype.componentDidUpdate=function(){var e=this.getSVGElement();if(e){this.onAfterInjectSVG(e)}};e.prototype.getSVGElement=function(){return this.host.getElementsByTagName("svg")[0]};e.prototype.displayElement=function(e,t){if(e){if(t){e.setAttribute("style","display: block")}else{e.setAttribute("style","display: none")}}};e.prototype.setUsername=function(e,t,n){var r=14;var i=t.querySelector("#"+e+"_image_text");if(i&&n){this.displayElement(i,true);var s=i.querySelector("tspan");s.style.fill="var(--black)";if(n.length>=r){n=n.substring(0,r)+"..."}if(s){s.textContent=n||""}}else{this.displayElement(i,false)}};e.prototype.centerUsername=function(e,t){if(t){var n=void 0;var r=t.querySelector("#"+e+"_image_text");var i=t.querySelector("#"+e+"_avatar_image");var s=t.querySelector("#"+e+"_avatar_no_image");var a=function(e){return e.style.display==="none"};if(a(i)){n=s.getBoundingClientRect().width}else{n=i.getBoundingClientRect().width}if(r&&(i||s)){var o=r.getBoundingClientRect().width;var l=e==="right"?89:0;var u=(n-o)/2;r.setAttribute("transform","translate("+u+", "+l+")")}}};e.prototype.centerPoints=function(e,t,n,r){var i=t.querySelector("#"+e+"_points_container");var s=t.querySelector("#"+e+"_points");if(i&&a(r)){this.displayElement(i,true);var o=i.getBoundingClientRect().width||0;if(s&&a(r)){var l=s.getBoundingClientRect().width||0;var u=o-l;var f=function(e){var t=r.toString().length||1;switch(e){case"left":return t<3?u:8;case"center":return u/2;case"right":if(t<3){return r.toString().length>1?o/2:u/3}else{return 15}}};s.setAttribute("transform",n.replace("#tslX",""+f(e)))}}else{this.displayElement(i,false)}};e.prototype.setAvatar=function(e,t,n){var r=this;var i=t.querySelector("#"+e+"_image");var s=t.querySelector("#"+e+"_avatar_image");var a=t.querySelector("#"+e+"_avatar_no_image");if(n){var f=n.user;if(f){var c=f.imageData;if(c){c=new o(c).crop("crop").aspectRatio(1,1).getUrl();if(a){this.displayElement(a,false)}if(s){this.displayElement(s,true);i.setAttribute("xlink:href",c)}if(l()){s.addEventListener("click",function(){r.onAvatarClicked(n)})}}else{if(s){this.displayElement(s,false)}var p=function(e){return(e||"  ").length>1&&(e||"  ").substring(0,1).toUpperCase()};var v=u(f,"firstName",false)&&u(f,"lastName",false)?""+p(f.firstName)+p(f.lastName):p(f.username);if(a){this.displayElement(a,true);var y=a.querySelector("tspan");y.textContent=v;if(l()){a.addEventListener("click",function(){r.onAvatarClicked(n)})}}}}}else{this.displayElement(a,false);this.displayElement(s,false)}};e.prototype.setPoint=function(e,t,n){if(t){var r=t.querySelector("#"+e+"_points");if(r&&a(n)){this.displayElement(r,true);var i=n.toString()||"0";var s=r.querySelector("tspan");if(s){s.textContent=i}}else{this.displayElement(r,false)}}};e.prototype.getUserOnPosition=function(e){if(!this.usersRanked||!this.usersRanked.length){return null}return this.usersRanked.find(function(t){return t.rank===e})};e.prototype.onAvatarClicked=function(e){if(e){this.selected.emit(e)}};e.prototype.onBeforeInjectSVG=function(e){var t=this;if(e){var n=e.querySelector("#main-svg");if(n){e.setAttribute("viewBox","0 0 300 "+this.host.getBoundingClientRect().height);p.forEach(function(n){if(n){var r=n.prefix;var i=t.getUserOnPosition(n.rank);var s=i?i.user:null;var a=i?i.points:null;var o=s?u(s,"firstName",s.username):null;t.setUsername(r,e,o);t.setAvatar(r,e,i);t.setPoint(r,e,a)}})}return e}};e.prototype.onAfterInjectSVG=function(e){var t=this;if(e){p.forEach(function(n){if(n){var r=n.prefix;var i=t.getUserOnPosition(n.rank);if(i){var s=i.points;t.centerUsername(r,e);t.centerPoints(r,e,n.pointsTransform,s)}}})}return e};e.prototype.render=function(){var e=this;return r(i,{class:f()},r("div",{class:"podium-container"},this.svgPath&&r("img",{src:this.svgPath,onLoad:function(t){return c(t.target,{useCache:true,makeIdsUnique:false,beforeInject:function(t,n){return e.onBeforeInjectSVG(n)},afterInject:function(t,n){return e.onAfterInjectSVG(n)}})}})))};Object.defineProperty(e.prototype,"host",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{usersRanked:["onUsersRankedChanged"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".iframe-root.sc-yoo-podium{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root.sc-yoo-podium yoo-app.sc-yoo-podium .wrapper.sc-yoo-podium{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root.sc-yoo-podium yoo-app.sc-yoo-podium .wrapper.center-center.sc-yoo-podium{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root.sc-yoo-podium::-webkit-scrollbar{display:none}.sc-yoo-podium-h .podium-container.sc-yoo-podium{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.sc-yoo-podium-h .podium-container.sc-yoo-podium svg.sc-yoo-podium{height:95%}"},enumerable:true,configurable:true});return e}())}}});