var __awaiter=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function d(e){try{l(n["throw"](e))}catch(e){s(e)}}function l(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,d)}l((n=n.apply(e,t||[])).next())})};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,r;return r={next:d(0),throw:d(1),return:d(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function d(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,o&&(s=r[0]&2?o["return"]:r[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;if(o=0,s)r=[r[0]&2,s.value];switch(r[0]){case 0:case 1:s=r;break;case 4:i.label++;return{value:r[1],done:false};case 5:i.label++;o=r[1];r=[0];continue;case 7:r=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(r[0]===6||r[0]===2)){i=0;continue}if(r[0]===3&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(r[0]===6&&i.label<s[1]){i.label=s[1];s=r;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(r);break}if(s[2])i.ops.pop();i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e];o=0}finally{n=s=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js","./p-80864bf9.system.js"],function(e){"use strict";var t,i,n,o,s,r,d,l,c,a,h,u,f,p,g,m,S,v,C,y,x,I,b,w,k,P,E,F,L,O,N,B,M,A,D,T,R,_,U,j,H,G,V,W,K,Y,q,X,Z,Q,$,z,J,ee,te,ie,ne,oe,se,re,de;return{setters:[function(e){t=e.r;i=e.c;n=e.h;o=e.H;s=e.g},function(e){r=e.fQ;d=e.ah;l=e.fY;c=e.cF;a=e.t;h=e.V;u=e.H;f=e.fP;p=e.O;g=e.en;m=e.S;S=e.fC;v=e.eo;C=e.ep;y=e.ai;x=e.Z;I=e.o;b=e.ak},function(){},function(){},function(){},function(e){w=e.cb;k=e.cn;P=e.c7;E=e.c6;F=e.ca;L=e.bW;O=e.bZ;N=e.bY;B=e.bL;M=e.bK;A=e.bG;D=e.bH;T=e.bI;R=e.bO;_=e.bM;U=e.ci;j=e.c0;H=e.bV;G=e.cc;V=e.b_;W=e.c2;K=e.cj;Y=e.c3;q=e.cg;X=e.bR;Z=e.bU;Q=e.ck;$=e.bS;z=e.bX;J=e.bP;ee=e.b$;te=e.cd;ie=e.c4;ne=e.c5;oe=e.c9;se=e.ch;re=e.cm},function(){},function(e){de=e.S}],execute:function(){var le=e("yoo_form_creator",function(){function e(e){var n=this;t(this,e);this.formFields=[];this.categories=[];this.options=r;this.showPagesSection=true;this.scoring=[];this.showLivePreview=true;this.selectedLeftMenuOption=d.blocks;this.selectedPageIndex=0;this.showConditions=false;this.showLeftMenuSelection=true;this.numberOfBlocksToRender=20;this.selectionMode=false;this.selectedFields=[];this.forceParentConditionUpdate=false;this.currentSlides=[];this.parentBlockIndices=[];this.simpleFormBlocks={information:[]};this.newFieldContainerBlocks=[];this.newFieldCategoryBlocks=[];this.expandableBlockContainers=[];this.expandableBlocks=[];this.leftMenuSortables=[];this.hasPageChanged=false;this.updateExpandableBlockEventListeners=false;this.hasLeftMenuOptionChanged=false;this.totalFields=0;this.fieldsWithScoring=[];this.selectedScoringIndex=0;this.isPagesAccordionOpen=true;this.infiniteScrolls=[];this.unattachedParentConditions=[];this.onScoringSelected=function(e){var t;t=w(n.scoring,e),n.scoring=t[0],n.selectedScoring=t[1],n.selectedScoringIndex=t[2]};this.onColorChanged=function(e){var t=e.detail;var i=n.selectedDevice.colors.filter(function(e){return e.hexCode===t})[0];n.selectedDevice.selectedColor=i;n.selectedDevice=Object.assign({},n.selectedDevice)};this.onInsertPageAfterClicked=function(e){if(e){n.onAddNewPage(e.detail+1)}};this.onPageClicked=function(e){n.selectedPageIndex=e.detail;n.pageHeaderClicked.emit(e.detail);n.hasPageChanged=true;n.resetExpandableBlockReferences()};this.onDuplicatePageClicked=function(e){if(e){var t=l(n.currentSlides[e.detail]);t=k(t);n.currentSlides.splice(e.detail+1,0,t);n.resetExpandableBlockReferences();n.emitNewSlidesAndRerender()}};this.onDeletePageClicked=function(e){if(e){c(a("CONFIRM"),[a("NO"),a("OK")],null,a("DELETECONFIRMPAGE")).then(function(t){if(t){n.currentSlides.splice(e.detail,1);n.resetExpandableBlockReferences();n.emitNewSlidesAndRerender()}})}};this.onEditPageClicked=function(e){if(e){n.editPageSettings.emit(e.detail)}};this.onScoreChanged=function(e){var t=e.detail,i=t.formattedScoring,o=t.scoringCategory;var s=P(i,o);n.updateScoring(s)};this.onScoreDeleted=function(e){var t=e.detail,i=t.formattedScoring,o=t.scoringCategory;var s=E(i,o);s.forEach(function(e){delete n.selectedScoring[e]});n.selectedScoring.selectedFields=F(n.selectedScoring.selectedFields,i.fieldName);n.selectedScoring=Object.assign({},n.selectedScoring);n.scoring[n.selectedScoringIndex]=n.selectedScoring;if(!n.isInOtherScoring(i.fieldName)){n.toggleHasScoring(i.fieldName)}n.computeScoringTotal();n.scoringChanged.emit(n.scoring);n.emitNewSlidesAndRerender()};this.onScoreAdded=function(e){var t=e.detail,i=t.formattedScoring,o=t.scoringCategory;var s=P(i,o);var r=n.slides[n.selectedPageIndex].items.find(function(e){return e.name===i.fieldName});if(!n.isInOtherScoring(i.fieldName)){n.toggleHasScoring(i.fieldName)}n.scoring[n.selectedScoringIndex].selectedFields.push(r);n.updateScoring(s);n.emitNewSlidesAndRerender()};this.closeClicked=i(this,"closeClicked",7);this.saveClicked=i(this,"saveClicked",7);this.pageHeaderClicked=i(this,"pageHeaderClicked",7);this.selectedDeviceChanged=i(this,"selectedDeviceChanged",7);this.formCreatorBlockExpanded=i(this,"formCreatorBlockExpanded",7);this.slidesChanged=i(this,"slidesChanged",7);this.addNewPageClicked=i(this,"addNewPageClicked",7);this.newScoringClicked=i(this,"newScoringClicked",7);this.scoringChanged=i(this,"scoringChanged",7);this.scoringEdit=i(this,"scoringEdit",7);this.editPageSettings=i(this,"editPageSettings",7);this.openFullPageLivePreviewClicked=i(this,"openFullPageLivePreviewClicked",7);this.baseLanguageChanged=i(this,"baseLanguageChanged",7);this.selectedLanguagesChanged=i(this,"selectedLanguagesChanged",7);this.translationsUpdated=i(this,"translationsUpdated",7);this.translationEdited=i(this,"translationEdited",7);this.translationRemoved=i(this,"translationRemoved",7);this.translationRemoveAll=i(this,"translationRemoveAll",7);this.translationImport=i(this,"translationImport",7);this.missionDescriptionChanged=i(this,"missionDescriptionChanged",7);this.editMulptipleFields=i(this,"editMulptipleFields",7);this.hasLoaded=i(this,"hasLoaded",7);this.tagGroupConditionExpanded=i(this,"tagGroupConditionExpanded",7);this.centerContentWidthChanged=i(this,"centerContentWidthChanged",7)}Object.defineProperty(e.prototype,"showLogics",{get:function(){return this.options.includes(d.logic)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"showScorings",{get:function(){return this.options.includes(d.scoring)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"showTranslations",{get:function(){return this.options.includes(d.translate)},enumerable:true,configurable:true});e.prototype.updateInternalSlides=function(e){this.currentSlides=e.slice()};e.prototype.onCreatorBlockExpanded=function(e){if(e&&e.detail){var t=L(this.currentSlides,e.detail.name),i=t.slideIndex,n=t.itemIndex;if(n>-1){this.currentSlides[i].items[n].isExpanded=e.detail.expanded;if(e.detail.expanded){this.formCreatorBlockExpanded.emit({pageIndex:i,itemIndex:n})}}}};e.prototype.onRemoveConditionClicked=function(e){var t=this;c(a("CONFIRM"),[a("NO"),a("OK")],null,a("REMOVECONDITIONCONFIRM")).then(function(i){if(i){t.currentSlides=O(t.currentSlides,e.detail.name);t.emitNewSlidesAndRerender()}})};e.prototype.onRemovePageCondition=function(e){if(e&&e.detail){this.currentSlides=N(this.currentSlides,e.detail.slideIndex,e.detail.conditionId);this.emitNewSlidesAndRerender()}};e.prototype.onFormFieldDelete=function(e){var t=this;if(e&&e.detail){var i=L(this.currentSlides,e.detail.name),n=i.slideIndex,o=i.itemIndex;c(a("CONFIRM"),[a("NO"),a("OK")],null,a("DELETECONFIRMFIELD")).then(function(i){if(i){t.unattachedParentConditions=B(t.currentSlides,{slideIndex:n,itemIndex:o});t.currentSlides=M(t.currentSlides,{slideIndex:n,itemIndex:o,name:e.detail.name});t.resetExpandableBlockReferences();t.emitNewSlidesAndRerender()}})}};e.prototype.onFormFieldDuplicate=function(e){if(e&&e.detail){var t=L(this.currentSlides,e.detail.name),i=t.slideIndex,n=t.itemIndex;this.currentSlides=A(this.currentSlides,i,n);this.resetExpandableBlockReferences();this.emitNewSlidesAndRerender()}};e.prototype.onFormFieldMarkAsMandatory=function(e){if(e&&e.detail){var t=L(this.currentSlides,e.detail.name),i=t.slideIndex,n=t.itemIndex;var o=this.currentSlides[i].items[n];o=Object.assign({},o,{required:true});this.currentSlides[i].items[n]=o;this.emitNewSlidesAndRerender()}};e.prototype.onMoveUpClicked=function(e){this.onFormFieldMove(e,true)};e.prototype.onMoveDownClicked=function(e){this.onFormFieldMove(e,false)};e.prototype.onLinkToFieldClicked=function(e){if(e.detail){if(e.detail.itemIndex!==undefined){this.currentSlides[e.detail.slideIndex].items[e.detail.itemIndex].isExpanded=true}this.setSelectedPage(e.detail.slideIndex)}};e.prototype.onEditPageSettings=function(e){e.stopPropagation();if(e.detail){this.editPageSettings.emit(e.detail)}};e.prototype.onDeleteCondition=function(e){this.currentSlides=D(this.currentSlides,e.detail.conditionId);this.unattachedParentConditions=T(this.unattachedParentConditions,e.detail.conditionId);this.emitNewSlidesAndRerender()};e.prototype.onDuplicateCondition=function(e){this.createNewCondition("field",undefined,e.detail.itemIndex,e.detail.slideIndex,e.detail.condition)};e.prototype.onAddCondition=function(e){var t=e.detail.slideIndex;var i=e.detail.itemIndex;var n=e.detail.condition;this.addCondition(n,t,i)};e.prototype.onAddPageCondition=function(e){var t=e.detail.slideIndex;var i=e.detail.condition;this.addPageCondition(i,t)};e.prototype.onLogicClicked=function(){this.selectedLeftMenuOption=d.logic};e.prototype.onScoringClicked=function(){this.selectedLeftMenuOption=d.scoring};e.prototype.onNewConditionalFieldClicked=function(e){this.selectedLeftMenuOption=d.blocks;this.newFieldCondition=e.detail};e.prototype.onHeaderClicked=function(e){if(this.newUndefinedCondition){this.createNewCondition(this.newUndefinedCondition,e.detail.name)}};e.prototype.onConditionChanged=function(e){var t=this;if(e.detail.condition.type!=="field"){var i=this.findFieldAndUpdateCondition(e.detail.condition,e.detail.fieldName),n=i[0],o=i[1];if(n){this.currentSlides[this.selectedPageIndex].items[o]=n;this.emitNewSlidesAndRerender()}}else{var s=L(this.currentSlides,e.detail.fieldName),r=s.slideIndex,d=s.itemIndex;var l=false;if(this.unattachedParentConditions&&this.unattachedParentConditions.length>0){this.unattachedParentConditions=this.unattachedParentConditions.map(function(t){if(t.condition._id===e.detail.condition._id){l=true;t.condition=e.detail.condition}return t})}if(!l&&this.currentSlides[r].items[d].condition&&this.currentSlides[r].items[d].condition.length>0){this.currentSlides[r].items[d].condition.forEach(function(i,n){if(i._id===e.detail.condition._id){t.currentSlides[r].items[d].condition[n].condition=e.detail.condition}})}this.emitNewSlidesAndRerender()}};e.prototype.onPageConditionChanged=function(e){if(e.detail&&this.currentSlides[e.detail.pageIndex].condition){if(h(this.currentSlides[e.detail.pageIndex].condition)){this.currentSlides[e.detail.pageIndex].condition=this.currentSlides[e.detail.pageIndex].condition.map(function(t){if(t._id===e.detail.condition._id){return e.detail.condition}else{return t}})}else{this.currentSlides[e.detail.pageIndex].condition=e.detail.condition}this.emitNewSlidesAndRerender()}};e.prototype.onPageConditionDeleted=function(e){if(e.detail&&this.currentSlides[e.detail.pageIndex].condition){if(h(this.currentSlides[e.detail.pageIndex].condition)){var t=this.currentSlides[e.detail.pageIndex].condition.findIndex(function(t){return t._id===e.detail.condition._id});if(this.currentSlides[e.detail.pageIndex].condition[t]){this.currentSlides[e.detail.pageIndex].condition.splice(t,1)}}else if(this.currentSlides[e.detail.pageIndex].condition._id===e.detail.condition._id){delete this.currentSlides[e.detail.pageIndex].condition}this.emitNewSlidesAndRerender()}};e.prototype.onItemSelected=function(e){var t=this;if(this.selectionMode){var i=L(this.currentSlides,e.detail.name),n=i.slideIndex,o=i.itemIndex;if(this.currentSlides[n].items[o].selected){this.currentSlides[n].items[o].selected=false;this.selectedFields=this.selectedFields.filter(function(e){return!(e.slideIndex===n&&e.itemIndex===o)})}else{this.currentSlides[n].items[o].selected=true;this.selectedFields.push({slideIndex:n,itemIndex:o,name:e.detail.name})}this.selectedFields=this.selectedFields.slice();this.selectedFields=u(this.selectedFields,["slideIndex","itemIndex"],["asc","asc"]);this.selectedMoveActions=R(this.itemList,null,function(e,i,n){return t.moveSelectedFields(n)},this.selectedFields)}};e.prototype.onTagGroupConditionExpanded=function(e){e.stopPropagation();this.tagGroupConditionExpanded.emit({conditionId:e.detail.conditionId})};e.prototype.toggleSelectionMode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){this.selectionMode=!this.selectionMode;if(!this.selectionMode){this.currentSlides=_(this.currentSlides);this.selectedFields=[]}return[2]})})};e.prototype.setSelectedPage=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){this.selectedPageIndex=e;return[2]})})};e.prototype.addNewPage=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){this.currentSlides.splice(t,0,e);this.emitNewSlidesAndRerender();return[2]})})};e.prototype.expandFormFieldBlock=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:if(!(e===this.selectedPageIndex))return[3,3];if(!this.expandableBlocks[t])return[3,1];this.expandableBlocks[t].expandBlock(true);return[3,3];case 1:return[4,this.expandChildBlocks(t)];case 2:i.sent();i.label=3;case 3:return[2]}})})};e.prototype.componentWillLoad=function(){var e;this.currentSlides=this.slides;this.currentSlides=U(this.currentSlides);this.setItemList();this.newFieldCategoryBlocks=Array.from(Array(this.categories.length),function(){return[]});this.selectedDevice=f[0];this.setSelectedDeviceColors();this.setSimpleFormBlockArrays();this.totalFields=j(this.slides);this.currentSlides=H(this.currentSlides);this.scoring=p(this.scoring);if(this.scoring&&this.scoring.length>0){e=G(this.scoring),this.scoring=e[0],this.selectedScoring=e[1],this.selectedScoringIndex=e[2];this.fieldsWithScoring=V(this.scoring);this.currentSlides=W(this.currentSlides,this.fieldsWithScoring);this.computeScoringTotal()}};e.prototype.componentDidLoad=function(){var e=this;this.initExpandedFieldsSortable();this.initNewFieldsSortable();this.currentSlides=H(this.currentSlides);this.selectedMoveActions=R(this.itemList,null,function(t,i,n){return e.moveSelectedFields(n)});this.selectedDuplicateActions=R(this.itemList,null,function(t,i){return e.duplicateSelectedFields(t,i)},null,"ADDTOSTART");this.hasLoaded.emit();if(this.isTallScreen()){this.numberOfBlocksToRender=30}};e.prototype.componentWillUpdate=function(){this.currentSlides=H(this.currentSlides);this.currentSlides=K(this.unattachedParentConditions,this.currentSlides);this.currentSlides=U(this.currentSlides);this.setSelectedDeviceColors();this.newFieldContainerBlocks=[];this.setItemList()};e.prototype.componentDidUpdate=function(){this.currentSlides=H(this.currentSlides);if(this.areParentConditionsRemoved){this.areParentConditionsRemoved=false;this.forceParentConditionUpdate=!this.forceParentConditionUpdate}else{if(this.currentSlides&&this.currentSlides.length>0&&this.selectedDevice){this.selectedDeviceChanged.emit({loaded:true})}if(this.hasPageChanged&&!this.isSelectedLeftMenu(d.scoring)&&!this.isSelectedLeftMenu(d.translate)){if(this.currentExpandableFieldSortable){this.currentExpandableFieldSortable.destroy()}this.initExpandedFieldsSortable();this.initNewFieldsSortable();this.hasPageChanged=false}if(this.hasLeftMenuOptionChanged&&!this.isSelectedLeftMenu(d.scoring)&&!this.isSelectedLeftMenu(d.translate)){this.initNewFieldsSortable();this.hasLeftMenuOptionChanged=false}if(this.updateExpandableBlockEventListeners&&this.currentSlides[this.selectedPageIndex].items.length===this.expandableBlocks.length){this.updateExpandableBlockEventListeners=false}this.checkExpandedFieldsHaveForms()}};e.prototype.expandChildBlocks=function(e){return __awaiter(this,void 0,void 0,function(){var t,i,n,o;return __generator(this,function(s){switch(s.label){case 0:t=this.getIndexAndChildCount(e),i=t[0],n=t[1];return[4,this.expandableBlocks[n].getExpandableChildBlocks()];case 1:o=s.sent();if(o.length>0&&o[i-1]){o[i-1].expandBlock(true)}return[2]}})})};e.prototype.computeScoringTotal=function(){this.scoring=this.scoring.map(function(e){return Y(e)})};e.prototype.isTallScreen=function(){var e=1300;return window.innerHeight>e};e.prototype.updateScoring=function(e){this.scoring[this.selectedScoringIndex]=Object.assign({},this.scoring[this.selectedScoringIndex],e);this.selectedScoring=Object.assign({},this.scoring[this.selectedScoringIndex]);this.scoring=this.scoring.slice();this.computeScoringTotal();this.scoringChanged.emit(this.scoring)};e.prototype.isInOtherScoring=function(e){var t=false;this.scoring.forEach(function(i){if(i.selectedFields.find(function(t){return t.name===e})){t=true}});return t};e.prototype.getIndexAndChildCount=function(e){var t=0;while(!this.expandableBlocks[e]){e-=1;t+=1}return[t,e]};e.prototype.toggleInvisibleDiv=function(){var e=this;if(q(this.currentSlides,this.selectedPageIndex)){this.currentSlides[this.selectedPageIndex].items.forEach(function(t,i){if(t&&t.isExpanded){if(e.expandableBlocks[i]){e.expandableBlocks[i].toggleInvisibleDiv()}else{var n=e.getIndexAndChildCount(i),o=n[0],s=n[1];e.expandableBlocks[s].getExpandableChildBlocks().then(function(e){if(e.length>0){e[o-1].toggleInvisibleDiv()}})}}})}};e.prototype.findFieldAndUpdateCondition=function(e,t){var i=0;var n=this.currentSlides[this.selectedPageIndex].items.filter(function(n,o){if(n.name===t&&n.condition){i=o;n.condition=n.condition.map(function(t){if(t._id===e._id){t=e;return t}return t});return true}return false});return[n[0],i]};e.prototype.setItemList=function(){this.itemList=this.currentSlides.map(function(e){var t;if(e.condition&&e.condition.length>0){t=e.condition.map(function(e){return e._id})}var i=e.items.map(function(e){var t=[];if(e.condition&&h(e.condition)){var i=e.condition;t=i.filter(function(e){return typeof e!=="string"}).map(function(e){return e._id})}return{itemTitle:e.title,itemId:e.name,conditionIds:t}});return{pageTitle:e.title,pageConditionIds:t,pageItems:i}})};e.prototype.toggleHasScoring=function(e){this.slides=this.slides.map(function(t){t.items.forEach(function(t){if(t.name===e){t.hasScoring=!t.hasScoring}});return t})};e.prototype.initNewFieldsSortable=function(){var e=this;this.newFieldContainerBlocks.forEach(function(t,i){if(t){var n=de.create(t,{group:{name:"fields",pull:"clone",put:false},animation:150,sort:false,onClone:function(t){switch(e.selectedLeftMenuOption){case d.blocks:e.handleNewFieldOnClone(t);break;case d.logic:e.handleNewLogicFieldOnClone(t);break}},onEnd:function(t){switch(e.selectedLeftMenuOption){case d.blocks:e.handleNewFieldOnEnd(t,i);break;case d.logic:e.handleNewLogicFieldOnEnd(t,i);break}}});e.leftMenuSortables.push(n)}})};e.prototype.handleNewLogicFieldOnEnd=function(e,t){if(e&&e.oldIndex>0&&t===0){if(e.oldIndex===1){this.addNewTagCondition(this.selectedPageIndex,e.newIndex)}if(e.oldIndex===2){this.addNewGroupCondition(this.selectedPageIndex,e.newIndex)}}};e.prototype.handleNewFieldOnEnd=function(e,t){var i=this.newFieldCategoryBlocks[t][e.oldIndex];var n=e.to;var o=i.formField;if(i&&n&&!n.classList.contains("category-block-selection")&&!n.classList.contains("condition-block-selection")){e.item.remove();var s={title:o.title,type:o.type,icon:o.icon,category:o.category};this.onFormFieldAdd(s,e.newIndex)}if(this.fieldEmptyStateContainer){this.fieldEmptyStateContainer.style.opacity="1"}};e.prototype.handleNewLogicFieldOnClone=function(e){var t=e.clone.firstChild;if(t.type){t.mode="new"}};e.prototype.handleNewFieldOnClone=function(e){var t=e.clone.firstChild;var i=e.item.firstChild;var n=i.formField;t.mode="new";t.formField=n;if(this.fieldEmptyStateContainer){this.fieldEmptyStateContainer.style.opacity="0"}};e.prototype.initExpandedFieldsSortable=function(){var e=this;if(!this.expandableBlockContainers||!this.expandableBlockContainers.length||this.expandableBlockContainers[this.selectedPageIndex]){return}this.currentExpandableFieldSortable=de.create(this.expandableBlockContainers[this.selectedPageIndex],{animation:150,group:{name:"fields"},chosenClass:"sortable-chosen-no-border",direction:"vertical",draggable:".sortable-container",filter:".selection",onStart:function(){e.toggleInvisibleDiv()},onEnd:function(t){var i=t.oldIndex;var n=t.newIndex;var o=e.parentBlockIndices[i];var s=e.parentBlockIndices[n];var r=e.currentSlides[e.selectedPageIndex].items[o];e.currentSlides[e.selectedPageIndex].items.splice(o,1);e.currentSlides[e.selectedPageIndex].items.splice(s,0,r);e.toggleInvisibleDiv();e.slidesChanged.emit({slides:e.currentSlides,pageIndex:e.selectedPageIndex})}})};e.prototype.removeOverlays=function(){this.newUndefinedCondition=null;this.newFieldCondition=null};e.prototype.createNewCondition=function(e,t,i,n,o){if(!o){var s=L(this.currentSlides,t);i=s.itemIndex;n=s.slideIndex;o=X(e,this.currentSlides[n].items[i])}if(e==="field"){if(this.currentSlides[n].items[i].category!==g.information){if(this.currentSlides[n].items[i].parentConditions){this.currentSlides[n].items[i].parentConditions.push({condition:o,expandOnLoad:true})}else{this.currentSlides[n].items[i].parentConditions=[{condition:o,expandOnLoad:true}]}this.unattachedParentConditions.push({condition:o,slideIndex:n,itemIndex:i})}}else{this.addCondition(o,n,i)}this.emitNewSlidesAndRerender(false)};e.prototype.checkExpandedFieldsHaveForms=function(){var e=this;if(q(this.currentSlides,this.selectedPageIndex)){this.currentSlides[this.selectedPageIndex].items.forEach(function(t,i){if(t&&t.isExpanded&&!t.hasExpanded){e.formCreatorBlockExpanded.emit({pageIndex:e.selectedPageIndex,itemIndex:i})}})}};e.prototype.duplicateSelectedFields=function(e,t){var i=this;if(this.selectedFields&&this.selectedFields.length>0){var n=this.selectedFields.reverse();n.forEach(function(n){i.currentSlides=A(i.currentSlides,n.slideIndex,n.itemIndex,false,{slideIndex:e,itemIndex:t})});this.resetExpandableBlockReferences();this.emitNewSlidesAndRerender()}};e.prototype.deleteSelectedFields=function(){var e=this;if(this.selectedFields&&this.selectedFields.length>0){var t=this.selectedFields.length===1?"DELETECONFIRMFIELD":"DELETECONFIRMFIELDS";c(a("CONFIRM"),[a("NO"),a("OK")],null,a(t,{number:this.selectedFields.length})).then(function(t){if(t){e.selectedFields.forEach(function(t){e.currentSlides=M(e.currentSlides,{name:t.name})});e.emitNewSlidesAndRerender()}})}};e.prototype.editSelectedFields=function(){if(this.selectedFields&&this.selectedFields.length>0){this.editMulptipleFields.emit(this.selectedFields)}};e.prototype.moveSelectedFields=function(e){var t;var i=this;if(this.selectedFields&&this.selectedFields.length>0){var n=[];var o=[];this.selectedFields.forEach(function(e){n.push(i.currentSlides[e.slideIndex].items[e.itemIndex]);o.push(i.currentSlides[e.slideIndex].items[e.itemIndex].name)});o.forEach(function(e){var t=L(i.currentSlides,e);i.currentSlides[t.slideIndex].items.splice(t.itemIndex,1)});var s=L(this.currentSlides,e),r=s.slideIndex,d=s.itemIndex;(t=this.currentSlides[r].items).splice.apply(t,[d+1,0].concat(n));this.emitNewSlidesAndRerender()}};e.prototype.isSelectedLeftMenu=function(e){return e===this.selectedLeftMenuOption};e.prototype.emitNewSlidesAndRerender=function(e){if(e===void 0){e=true}this.removeOverlays();if(e){this.currentSlides=Z(this.currentSlides);this.areParentConditionsRemoved=true}this.currentSlides=_(this.currentSlides);if(this.selectionMode){this.toggleSelectionMode()}this.slidesChanged.emit({slides:this.currentSlides,pageIndex:this.selectedPageIndex});this.currentSlides=this.currentSlides.slice()};e.prototype.setSimpleFormBlockArrays=function(){var e=this;this.categories.forEach(function(t){e.simpleFormBlocks[t]=[]});var t=this.formFields.slice();t.forEach(function(t){e.simpleFormBlocks[t.category].push(t)})};e.prototype.setSelectedDeviceColors=function(){if(this.selectedDevice.colors){this.selectedDeviceColors=this.selectedDevice.colors.map(function(e){return e.hexCode})}};e.prototype.selectAll=function(){var e=this;this.currentSlides[this.selectedPageIndex].items.forEach(function(t,i){if(!t.selected){t.selected=true;e.selectedFields.push({slideIndex:e.selectedPageIndex,itemIndex:i,name:t.name})}});this.selectedFields=this.selectedFields.slice()};e.prototype.resetExpandableBlockReferences=function(){this.expandableBlocks=[];this.updateExpandableBlockEventListeners=true};e.prototype.addCondition=function(e,t,i){if(this.currentSlides[t].items[i].condition){var n=this.currentSlides[t].items[i].condition.concat([e]);this.currentSlides[t].items[i].condition=n}else{this.currentSlides[t].items[i].condition=[e]}this.unattachedParentConditions=Q(this.unattachedParentConditions,e);this.emitNewSlidesAndRerender()};e.prototype.addPageCondition=function(e,t){if(this.currentSlides[t].condition){var i=this.currentSlides[t].condition.concat([e]);this.currentSlides[t].condition=i}else{this.currentSlides[t].condition=[e]}this.unattachedParentConditions=Q(this.unattachedParentConditions,e);this.emitNewSlidesAndRerender()};e.prototype.onInfiniteScroll=function(e){if(this.numberOfBlocksToRender<this.slides[this.selectedPageIndex].items.length){this.numberOfBlocksToRender+=20;this.infiniteScrolls[this.selectedPageIndex].complete()}};e.prototype.onMainContentScrolled=function(e){var t=200;if(e.detail.deltaY>t&&this.pagesAccordion&&this.isPagesAccordionOpen){this.pagesAccordion.clickAccordion(0)}};e.prototype.onPagesAccordionSelected=function(e){this.isPagesAccordionOpen=e.detail.selected};e.prototype.onLeftMenuIconSelected=function(e){this.newFieldCondition=null;this.hasLeftMenuOptionChanged=true;this.leftMenuSortables.forEach(function(e){return e.destroy()});this.leftMenuSortables=[];if(this.selectedLeftMenuOption===e){this.showLeftMenuSelection=!this.showLeftMenuSelection}else{this.showLeftMenuSelection=true}if(e===d.logic){this.showConditions=true}this.selectedLeftMenuOption=e};e.prototype.onSelectedDeviceClicked=function(e){this.selectedDeviceChanged.emit({loaded:false});this.selectedDevice=e};e.prototype.onHelpClicked=function(){};e.prototype.onCloseClicked=function(e){e.stopPropagation();this.closeClicked.emit()};e.prototype.onSaveClicked=function(e){e.stopPropagation();this.saveClicked.emit(true)};e.prototype.toggleLivePreviewClicked=function(){this.showLivePreview=!this.showLivePreview;this.centerContentWidthChanged.emit()};e.prototype.onAddNewPage=function(e){if(e===void 0){e=this.currentSlides.length}this.addNewPageClicked.emit(e)};e.prototype.collapseAllBlocks=function(){if(q(this.currentSlides,this.selectedPageIndex)){this.currentSlides[this.selectedPageIndex].items=this.currentSlides[this.selectedPageIndex].items.map(function(e){e.isExpanded=false;return e})}};e.prototype.addNewTagCondition=function(e,t){};e.prototype.addNewGroupCondition=function(e,t){};e.prototype.onAddNewCondition=function(e){this.newUndefinedCondition=e.detail};e.prototype.onFormFieldAdd=function(e,t){if(!this.currentSlides[this.selectedPageIndex]){return}this.collapseAllBlocks();var i=this.currentSlides[this.selectedPageIndex].items.length;var n=$(e);n=Object.assign({},n,{isExpanded:!this.showConditions,hasExpanded:!this.showConditions});if(this.newFieldCondition){n=Object.assign({},n,{condition:[this.newFieldCondition.condition]});var o=z(this.currentSlides,this.newFieldCondition.condition._id);i=o.itemIndex+1}if(t!==undefined&&t<this.parentBlockIndices.length){i=this.parentBlockIndices[t]}n=Object.assign({},n,{formCreatorIndex:i?i:0});if(i<this.currentSlides[this.selectedPageIndex].items.length){this.currentSlides[this.selectedPageIndex].items.splice(i,0,n)}else{this.currentSlides[this.selectedPageIndex].items.push(n)}this.resetExpandableBlockReferences();this.emitNewSlidesAndRerender();this.initExpandedFieldsSortable()};e.prototype.onFormFieldMove=function(e,t){if(e&&e.detail){var i=L(this.currentSlides,e.detail.name),n=i.slideIndex,o=i.itemIndex;var s=this.currentSlides[n].items[o];var r=t?o-1:o+1;this.currentSlides[n].items.splice(o,1);this.currentSlides[n].items.splice(r,0,s);this.emitNewSlidesAndRerender()}};e.prototype.renderHeader=function(){var e=this;return n("yoo-form-creator-header",{formTitle:this.missionDescription.title,selectedLeftMenuOption:this.selectedLeftMenuOption,saveButtonDisabled:!this.areSlidesDirty,onCloseClicked:function(t){return e.onCloseClicked(t)},onSaveClicked:function(t){return e.onSaveClicked(t)}})};e.prototype.renderContent=function(){return n("div",{class:"content"},this.renderLeftMenu(),this.selectedLeftMenuOption!=="translate"&&this.renderLeftSelection(),this.selectedLeftMenuOption!=="translate"?this.renderFormContent():this.renderTranslateContent(),this.selectedLeftMenuOption!=="translate"&&!J(this.selectedLeftMenuOption)&&this.renderLivePreview())};e.prototype.renderLeftMenu=function(){var e=this;return n("div",{class:"left-menu"},this.renderIcon(d.blocks),this.showLogics&&this.renderIcon(d.logic),this.showScorings&&this.renderIcon(d.scoring),this.showTranslations&&this.renderIcon(d.translate),this.newUndefinedCondition&&n("div",{onClick:function(){return e.removeOverlays()},class:"overlay"}))};e.prototype.renderIcon=function(e){var t;var i=this;var o=e===d.blocks?"categories":e;return n("yoo-tooltip",{content:e.toUpperCase(),cssOnly:true,placement:"right"},n("yoo-icon",{onClick:function(){return i.onLeftMenuIconSelected(e)},class:(t={},t["yo-"+o]=true,t[this.isSelectedLeftMenu(e)?m():"stable"]=true,t)}))};e.prototype.renderLeftSelection=function(){var e=this;return n("div",{class:{"left-selection":true,hide:!this.showLeftMenuSelection,scoring:J(this.selectedLeftMenuOption)}},n("yoo-ion-scroll",{class:"relative"},this.renderLeftSelectionContent()),this.newUndefinedCondition&&n("div",{onClick:function(){return e.removeOverlays()},class:"overlay"},n("div",{class:"overlay-title"},a("ADDNEWCONDITIONFROMCOLUMN",{type:this.newUndefinedCondition}))))};e.prototype.renderLeftSelectionContent=function(){switch(this.selectedLeftMenuOption){case"blocks":return this.renderBlockCategorySelection();case"logic":return this.renderLogicSelection();case"scoring":return this.renderScoringSelection();case"translate":return this.renderTranslateSelection()}};e.prototype.renderBlockCategorySelection=function(){var e=this;var t=this.categories.map(function(t){return{title:t.toUpperCase(),selected:true,subItemCount:e.simpleFormBlocks[t].length}});return n("yoo-accordion",{masterTitle:this.selectedLeftMenuOption.toUpperCase(),class:"sub-accordion",entries:t,iconPairLeft:S,showBottomBorder:true,allowMultipleSelection:true},this.categories.map(function(t,i){return n("div",{slot:t.toUpperCase()},n("div",{class:"category-block-selection",ref:function(t){return e.newFieldContainerBlocks[i]=t}},e.simpleFormBlocks[t].map(function(n,o){return e.renderSimpleBlock(n,t,i,o)})))}))};e.prototype.renderLogicSelection=function(){var e=this;var t=[{title:"CONDITION",selected:true}];return n("div",{class:"logic-container"},n("yoo-accordion",{class:"sub-accordion",entries:t,iconPairLeft:S,showBottomBorder:true,allowMultipleSelection:true},v.map(function(t,i){return n("div",{slot:t.toUpperCase()},n("div",{class:"condition-block-selection",ref:function(t){return e.newFieldContainerBlocks[i]=t}},C.map(function(i){if(i.conditionType===t){return n("div",{class:t+"-sortable-container"},n("yoo-form-creator-condition-block",{mode:i.mode,type:i.type,onAdditionClicked:function(t){return e.onAddNewCondition(t)}}),n("yoo-tooltip",{cssOnly:true,content:a((i.type?i.type.toUpperCase():"FIELD")+"TOOLTIP"),placement:"left"},n("div",{class:"help-container"},"?")))}})))})))};e.prototype.renderEmptyScoring=function(){var e=this;var t={text:a("ADDNEWSCORING"),cssClass:"small success",handler:function(){return e.newScoringClicked.emit()}};return n("yoo-accordion",{entries:[{title:"SCORING",selected:true,actionButtons:[t]}],iconPairLeft:S,showBottomBorder:true},n("div",{slot:"SCORING"},n("div",{class:"empty-state-text"},a("SCORINGINSTRUCTIONS"))))};e.prototype.renderEmptyScoringState=function(){return n("div",{class:"scoring-empty-state",slot:"CONTENT"},n("yoo-empty-state",{class:"absolute large",type:"scoring"}))};e.prototype.editScoring=function(e,t){this.scoringEdit.emit({scoring:e,index:t})};e.prototype.duplicateScoring=function(e){var t=Object.assign({},e);t.title=e.title+"-COPY";t.isSelected=false;this.scoring=this.scoring.concat([t]);this.scoringChanged.emit(this.scoring)};e.prototype.deleteScoring=function(e){this.scoring.splice(e,1);this.scoringChanged.emit(this.scoring)};e.prototype.renderScoringSelection=function(){var e=this;var t={text:a("ADDNEWSCORING"),cssClass:"small success",handler:function(){return e.newScoringClicked.emit()}};if(this.scoring.length===0){return this.renderEmptyScoring()}return n("yoo-accordion",{class:"sub-accordion",entries:[{title:"SCORING",selected:true,actionButtons:[t]}],iconPairLeft:S,showBottomBorder:true,allowMultipleSelection:true},n("div",{class:"scoring-container",slot:"SCORING"},this.scoring.map(function(t,i){var o=[{text:a("EDIT"),icon:"yo-settings",handler:function(){return e.editScoring(t,i)}},{text:a("DUPLICATE"),icon:"yo-duplicate",handler:function(){return e.duplicateScoring(t)}},{text:a("DELETE"),icon:"yo-delete",handler:function(){return e.deleteScoring(i)}}];return n("yoo-form-creator-card",{onClick:e.onScoringSelected.bind(e,t),mode:"scoring",secondaryActions:o,scoringCardEntry:{selected:t.isSelected,isPrimary:t.isActive,scoringTitle:t.title,totalFields:e.totalFields,selectedFields:t.selectedFields.length,totalPoints:t.percentageBasis}})})))};e.prototype.renderTranslateSelection=function(){var e=[{title:"TRANSLATE",selected:true}];var t={title:"PLACEHOLDER",icon:"yo-info",category:g.information};return n("yoo-accordion",{class:"sub-accordion",entries:e,iconPairLeft:S,showBottomBorder:true,allowMultipleSelection:true},n("div",{slot:"TRANSLATE"},n("yoo-form-creator-block-expandable",{mode:"new",formField:t,options:this.options})))};e.prototype.renderSimpleBlock=function(e,t,i,o){var s=this;if(e&&e.category===t){var r={title:e.title,icon:e.icon,category:e.category,type:e.type,expanded:false};return n("div",{class:"simple-block-container"},n("yoo-form-creator-block-expandable",{options:this.options,ref:function(e){return s.newFieldCategoryBlocks[i][o]=e},mode:"new",formField:r,onAdditionClicked:function(){return s.onFormFieldAdd(e)}}))}};e.prototype.renderTranslateContent=function(){var e=this;if(!this.showTranslations){return}return n("yoo-form-creator-translate",{baseLanguage:this.baseLanguage,selectedLanguages:this.selectedLanguages,allLanguages:this.allLanguages,translations:this.translations,slides:this.slides,scoring:this.scoring,missionDescription:this.missionDescription,onBaseLanguageChanged:function(t){t.stopPropagation();e.baseLanguageChanged.emit(t.detail)},onSelectedLanguagesChanged:function(t){t.stopPropagation();e.selectedLanguagesChanged.emit(t.detail)},onTranslationsUpdated:function(t){t.stopPropagation();e.translationsUpdated.emit(t.detail)},onTranslationEdited:function(t){t.stopPropagation();e.translationEdited.emit(t.detail)},onTranslationRemoved:function(t){t.stopPropagation();e.translationRemoved.emit(t.detail)},onTranslationRemoveAll:function(t){t.stopPropagation();e.translationRemoveAll.emit()},onTranslationImport:function(t){t.stopPropagation();e.translationImport.emit(t.detail)},onSaveClicked:function(t){t.stopPropagation();e.saveClicked.emit(false)},onSlidesChanged:function(t){t.stopPropagation();e.slidesChanged.emit(t.detail)},onScoringChanged:function(t){t.stopPropagation();e.scoringChanged.emit(t.detail)},onMissionDescriptionChanged:function(t){t.stopPropagation();e.missionDescriptionChanged.emit(t.detail)}})};e.prototype.renderFormContent=function(){var e=this;var t={text:a("ADDNEWPAGE"),cssClass:"x-x-medium new-page",handler:function(){return e.onAddNewPage()}};var i=a("SELECTEDITEMS",{n:""});var o=this.selectedFields.length>0;var s=[{icon:function(){return"yo-settings stable"},text:function(){return a("SETTINGS")},isVisible:function(){return o},handler:function(){e.editSelectedFields()}},{icon:function(){return"yo-move stable"},text:function(){return a("MOVE")},isVisible:function(){return o},contextMenuActions:{contentButtons:this.selectedMoveActions,dialogTitle:"MOVEFIELDSAFTER"}},{icon:function(){return"yo-duplicate stable"},text:function(){return a("DUPLICATE")},isVisible:function(){return o},contextMenuActions:{contentButtons:this.selectedDuplicateActions,dialogTitle:"DUPLICATEFIELDSAFTER"}},{icon:function(){return"yo-delete stable"},text:function(){return a("DELETE")},isVisible:function(){return o},handler:function(){e.deleteSelectedFields()}},{icon:function(){return"yo-cross"},text:function(){return a("CLOSE")},isVisible:function(){return o},handler:function(){e.toggleSelectionMode()}}];if(J(this.selectedLeftMenuOption)&&this.scoring.length===0){return n("div",{class:"form-content"},this.renderEmptyScoringState())}var r=n("yoo-accordion",{ref:function(t){return e.pagesAccordion=t},class:"pages-accordion",entries:[{title:"PAGES",subItemCount:this.currentSlides.length,selected:true,actionButtons:[t]}],iconPairLeft:S,showBottomBorder:true,allowMultipleSelection:true,onAccordionSelected:function(t){return e.onPagesAccordionSelected(t)}},n("div",{slot:"PAGES"},n("yoo-form-creator-page-card-list",{scoringMode:J(this.selectedLeftMenuOption),missionSlides:this.currentSlides,selectedPageIndex:this.selectedPageIndex,onPageClicked:this.onPageClicked,onDuplicatePageClicked:this.onDuplicatePageClicked,onInsertPageAfterClicked:this.onInsertPageAfterClicked,onDeletePageClicked:this.onDeletePageClicked,onEditPageClicked:this.onEditPageClicked,itemList:this.itemList})));var d=n("div",{onClick:function(){return e.newFieldCondition=null},class:"overlay"},n("div",{class:"overlay-title"},a("ADDNEWBLOCKFROMCOLUMN")));var l=n("yoo-toast",{class:"bg-light global-actions",message:i,extraButtons:s,count:this.selectedFields.length||0,showBackdrop:false});return n("div",{class:"form-content"},this.showPagesSection&&r,this.renderFormContentBlocksContainer(),this.newFieldCondition&&d,this.selectionMode&&l)};e.prototype.renderScoringBlocksContainer=function(e){var t=this;return n("div",{class:"form-content-scoring-blocks-container"},e.items.map(function(e){var i=e.title,o=e.icon,s=e.category,r=e.name,d=e.isExpanded,l=e.type,c=e.values,a=e.value,h=e.condition,u=e.hasScoring,f=e.parentConditions,p=e.max;var g=ee(l,t.formFields);var m={fieldName:r,scoreValuePairs:[],maxScore:null};if(te(t.selectedScoring.selectedFields,r)){m=ie(t.selectedScoring,r,g);if(g===y.multipleChoice&&c){m=ne(m,c)}var S=oe(m.scoreValuePairs,g);if(m.maxScore===null){m.maxScore=S}}var v={title:i,icon:o,category:s,name:r,values:c,hasScoring:u,type:l,expanded:d,isConditional:x(h),fieldConditions:f,formattedScoring:Object.assign({},m),scoringCategory:g,max:p};return n("div",{class:"scoring-block-container"},n("yoo-form-creator-block-expandable",{options:t.options,mode:"scoring",formField:v,onScoreDeleted:t.onScoreDeleted,onScoreChanged:t.onScoreChanged,onScoreAdded:t.onScoreAdded}))}))};e.prototype.renderFormContentBlocksContainer=function(){var e=this;setTimeout(function(){if(e.currentExpandableFieldSortable&&e.currentSlides&&e.currentSlides[e.selectedPageIndex]&&e.currentSlides[e.selectedPageIndex].items){var t=e.currentSlides[e.selectedPageIndex].items.filter(function(e){return e}).map(function(e){return e.name});e.currentExpandableFieldSortable.sort(t)}},0);this.parentBlockIndices=[];var t=[{icon:"yo-logic-visible",cssClass:"icon-only no-shadow "+(this.showConditions?"conditions-toggle":"conditions-toggle-off"),handler:function(){return e.showConditions=!e.showConditions},isVisible:function(){return!e.selectionMode}},{text:a("SELECTALL"),cssClass:"small no-shadow conditions-select",handler:function(){return e.selectAll()},isVisible:function(){return e.selectionMode}},{text:a(this.selectionMode?"CANCEL":"SELECTACTION"),cssClass:"small no-shadow conditions-select "+(this.selectionMode?" cancel":""),handler:function(){return e.toggleSelectionMode()}}];return n("div",{class:"form-content-blocks-container"},n("yoo-accordion",{class:"pages-accordion",forceEntryUpdate:true,entries:[{title:"CONTENT",selected:true,actionButtons:J(this.selectedLeftMenuOption)?[]:t.slice()}],iconPairLeft:S,showBottomBorder:true,allowMultipleSelection:true},this.currentSlides.map(function(t,i){return n("div",{slot:i===e.selectedPageIndex?"CONTENT":"HIDDEN-CONTENT"},n("yoo-ion-scroll",{scrollEvents:true,onIonScroll:function(t){return e.onMainContentScrolled(t)}},J(e.selectedLeftMenuOption)&&e.selectedScoring?e.renderScoringBlocksContainer(t):e.renderExpandableBlockContainer(t,i)))})))};e.prototype.renderExpandableBlockContainer=function(e,t){var i=this;return[e.items.length<1&&this.renderEmptyFieldState(),n("div",{class:{"expandable-form-block-container":true,empty:e.items.length<1},ref:function(e){return i.expandableBlockContainers[t]=e}},e.items.length>=1&&e.items.map(function(e,n){return e.formCreatorIndex<i.numberOfBlocksToRender&&!e.sequentialConditionalField&&i.renderFormContentBlocks(e,n,t)})),n("yoo-ion-infinite-scroll",{ref:function(e){return i.infiniteScrolls[t]=e},onIonInfinite:function(e){return i.onInfiniteScroll(e)}})]};e.prototype.renderEmptyFieldState=function(){var e=this;return n("div",{class:"empty-state",ref:function(t){return e.fieldEmptyStateContainer=t}},n("yoo-empty-state",{class:"small",type:"nodata",showText:false}),n("div",{class:"text-container"},a("EMPTYFORMCREATOR")))};e.prototype.renderFormContentBlocks=function(e,t,i){var o=this;var s=e.title,r=e.icon,d=e.category,l=e.name,c=e.isExpanded,a=e.parentConditions,h=e.condition,u=e.type,f=e.values,p=e.hasScoring,g=e.selected,m=e.formCreatorIndex;var S=h;var v=se(S);var C={title:s,icon:r,category:d,name:l,values:f,type:u,expanded:c,isFirst:t===0,isLast:t===this.currentSlides[i].items.length-1,fieldConditions:a,isConditional:x(h),tagGroupConditions:v,hasScoring:p,selected:g,pageIndex:i,formCreatorIndex:m};var y=re(a,t),b=y.childFields,w=y.sequentialConditionFields;if(t>=0&&i===this.selectedPageIndex){this.parentBlockIndices.push(t)}return n("div",{class:"sortable-container","data-id":l},n("yoo-form-creator-block-expandable",{options:this.options,id:i+"-"+t,ref:function(e){if(i===o.selectedPageIndex){o.expandableBlocks[t]=e}},mode:"added",showConditions:this.selectionMode?false:this.showConditions,class:{selection:this.selectionMode},formField:C,itemList:this.itemList,sequentialConditionFields:w,isInSelectionMode:this.selectionMode,numberOfBlocksToRender:this.numberOfBlocksToRender,blockFieldExpansion:!I(this.newUndefinedCondition)},n("div",{class:"parent-slot",slot:l},n("slot",{name:l})),b&&b.map(function(e){return e.sequentialConditionalField&&n("div",{class:"child-slot",slot:e.name},n("slot",{name:e.name}))}),v&&v.length>0&&v.map(function(e){return n("div",{class:"tag-group-slot",slot:e._id},n("slot",{name:e._id}))})))};e.prototype.renderLivePreview=function(){var e;var t=this;var i=this.selectedDevice&&this.selectedDevice.device?this.selectedDevice.device:"";return n("div",{class:{"live-preview":true,hide:!this.showLivePreview}},this.renderLivePreviewHeader(),n("yoo-ion-content",null,n("div",{class:(e={"device-container":true},e[i]=true,e)},this.showLivePreview&&[this.selectedDevice.colors&&n("yoo-color-selector",{colors:this.selectedDeviceColors,showTickIcon:false,onColorChanged:this.onColorChanged}),n("yoo-device",{deviceEntry:this.selectedDevice,scaledContainerSelector:".device-container",animationLoadTime:500},this.renderFormDynamic())])),(this.newFieldCondition||this.newUndefinedCondition)&&n("div",{onClick:function(){return t.removeOverlays()},class:"overlay"}))};e.prototype.renderLivePreviewHeader=function(){var e=this;return n("div",{class:"live-preview-header"},this.showLivePreview&&n("div",{class:"title"},a("LIVEPREVIEW")),n("div",{class:"icons-container"},this.showLivePreview&&n("yoo-tooltip",{content:a("OPENPREVIEW"),cssOnly:true,placement:"left"},n("div",{onClick:function(){return e.openFullPageLivePreviewClicked.emit()},class:"icon-container"},n("yoo-icon",{class:{"yo-view stable":true}}))),n("yoo-tooltip",{content:a(this.showLivePreview?"HIDEPREVIEW":"OPENPREVIEW"),cssOnly:true,placement:"left"},n("div",{onClick:function(){return e.toggleLivePreviewClicked()},class:"icon-container"},n("yoo-icon",{class:{"yo-sidebar-right":true,stable:this.showLivePreview,success:!this.showLivePreview}})))))};e.prototype.renderFormDynamic=function(){return n("div",{class:"form-dynamic-container"},n("yoo-header",{class:"shadow"},n("yoo-ion-toolbar",{color:"light"},n("yoo-title",null,this.missionDescription.title))),n("div",{class:"slot-container"},n("slot",{name:"livePreview"})))};e.prototype.render=function(){return n(o,{class:b()},n("div",{class:"container"},this.renderHeader(),this.renderContent()))};Object.defineProperty(e.prototype,"host",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{slides:["updateInternalSlides"]}},enumerable:true,configurable:true});Object.defineProperty(e,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host{width:100%;height:100%;background:var(--light,#fff)}:host .container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%}:host .container .content{display:-ms-flexbox;display:flex;height:calc(100% - 3rem)}:host .container .content .sortable-chosen yoo-form-creator-block-expandable{--expandable-block-border:2px solid var(--accent,#1fb6ff)}:host .container .content .left-menu{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;min-width:3rem;border-right:1px solid var(--stable-light,#f1f1f1);font-size:var(--font-size-04,1.125rem)}:host .container .content .left-menu yoo-tooltip{margin-top:var(--padding-20,1.25rem)}:host .container .content .left-selection{position:relative;width:100%;min-width:18.75rem;max-width:22rem;height:100%;padding-top:var(--padding-20,1.25rem);-webkit-transition:.3s;transition:.3s;border-right:1px solid var(--stable-light,#f1f1f1)}:host .container .content .left-selection.hide{width:0;min-width:0}:host .container .content .left-selection yoo-accordion{--outer-container-padding:0 var(--padding-20,1.25rem);--outer-container-width:calc(100% - 2.5rem)}:host .container .content .left-selection yoo-accordion yoo-accordion.sub-accordion{--outer-container-padding:0;--outer-container-width:100%}:host .container .content .left-selection.scoring{max-width:26.25rem}:host .container .content .left-selection .scoring-container{display:grid;grid-template-columns:repeat(3,120px);grid-column-gap:var(--padding-10,.625rem);grid-row-gap:var(--padding-10,.625rem)}:host .container .content .left-selection .logic-container .condition-block-selection .condition-sortable-container{display:-ms-flexbox;display:flex}:host .container .content .left-selection .logic-container .condition-block-selection .condition-sortable-container yoo-form-creator-condition-block{-ms-flex:1;flex:1}:host .container .content .left-selection .logic-container .condition-block-selection .condition-sortable-container yoo-tooltip{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .container .content .left-selection .logic-container .condition-block-selection .condition-sortable-container .help-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:.875rem;height:.875rem;margin-left:var(--padding-10,.625rem);border-radius:50%;background:var(--black,#000);color:var(--always-light,#fff);font-size:var(--font-size-01,.75rem)}:host .container .content .form-content{position:relative;width:100%;min-width:25rem;padding:var(--padding-20,1.25rem);background-color:var(--stable-ultralight,#fafafa)}:host .container .content .form-content yoo-accordion.pages-accordion{--accordion-background:var(--stable-background)}:host .container .content .form-content yoo-toast{top:auto;right:calc(50% - 225px);bottom:15px;left:auto;position:absolute;height:auto}:host .container .content .form-content .form-content-blocks-container{position:relative;height:100%;max-height:100%}:host .container .content .form-content .form-content-blocks-container yoo-ion-scroll{--top-pos:2.375rem}:host .container .content .form-content .form-content-blocks-container yoo-ion-scroll .sortable-ghost{padding:5px;border:1px dashed var(--stable-alt,#d0d0d0);background-color:var(--stable-light-40,hsla(0,0%,94.5%,.4))}:host .container .content .form-content .form-content-blocks-container .empty-state{top:20px;right:0;bottom:auto;left:0;position:absolute;text-align:center;z-index:2}:host .container .content .form-content .form-content-blocks-container .expandable-form-block-container{position:relative;margin:var(--padding-20,1.25rem) 0 12.5rem;padding:0 var(--padding-10,.625rem)}:host .container .content .form-content .form-content-blocks-container .expandable-form-block-container.empty{width:calc(100% - 2px);height:12.75rem;padding:0;border:1px dashed var(--stable-alt,#d0d0d0);background:var(--stable-light,#f1f1f1)}:host .container .content .form-content .form-content-blocks-container .form-content-scoring-blocks-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:3px}:host .container .content .live-preview{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;width:100%;max-width:26rem;padding:var(--padding-20,1.25rem);-webkit-transition:.3s;transition:.3s;border-left:1px solid var(--stable-light,#f1f1f1)}:host .container .content .live-preview.hide{width:0;min-width:48px!important;padding:var(--padding-20,1.25rem) 0}:host .container .content .live-preview.hide .live-preview-header{border-bottom-color:var(--light,#fff)}:host .container .content .live-preview.hide .live-preview-header .icons-container{margin-left:.5rem}:host .container .content .live-preview.hide .device-container{opacity:0}:host .container .content .live-preview .live-preview-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-item-align:end;align-self:flex-end;-ms-flex-pack:justify;justify-content:space-between;width:100%;margin-bottom:1rem;padding-bottom:.5625rem;-webkit-transition:.5s;transition:.5s;border-bottom:1px solid var(--stable-light,#f1f1f1);font-size:var(--font-size-04,1.125rem);white-space:nowrap}:host .container .content .live-preview .live-preview-header .icons-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}:host .container .content .live-preview .live-preview-header .icons-container .icon-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:2rem;height:1.625rem}:host .container .content .live-preview .device-container{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}:host .container .content .live-preview .device-container .form-dynamic-container{top:0;right:0;bottom:0;left:0;position:absolute}:host .container .content .live-preview .device-container.iphone-x .form-dynamic-container{top:2rem;right:0;bottom:1rem;left:0;position:absolute}:host .container .content .live-preview .device-container .form-dynamic-container .slot-container{position:relative;height:calc(100% - 44px)}:host .container .content .overlay{top:0;right:-1px;bottom:0;left:0;position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:var(--black,#000);opacity:.8;z-index:1}:host .container .content .overlay .overlay-title{color:var(--light,#fff);font-size:var(--font-size-04,1.125rem)}"},enumerable:true,configurable:true});return e}())}}});