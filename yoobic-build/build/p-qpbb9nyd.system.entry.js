System.register(["./p-d99b9c19.system.js","./p-76deb591.system.js","./p-40fcf55a.system.js","./p-fd4afab3.system.js","./p-e3fa184f.system.js","./p-90888482.system.js","./p-350cb6c0.system.js"],function(t){"use strict";var e,n,i,r,s,o,a,u,c;return{setters:[function(t){e=t.r;n=t.c;i=t.h;r=t.H;s=t.g},function(t){o=t.dj;a=t.b9;u=t.b8;c=t.ak},function(){},function(){},function(){},function(){},function(){}],execute:function(){var l=t("yoo_form_ranking",function(){function t(t){e(this,t);this.listItems=[];this.validityChanged=n(this,"validityChanged",7);this.inputChanged=n(this,"inputChanged",7)}t.prototype.componentDidLoad=function(){if(this.outerContainerEl){this.listItems=Array.from(this.outerContainerEl.querySelectorAll(".list-item"))}this.prepareItems();this.setOuterContainerHeight()};t.prototype.prepareItems=function(){var t=this;this.calcAndShowBadges(this.listItems,this.readonly?"active":"semiactive");if(!this.readonly){this.sortables=this.listItems.map(function(e,n){var i=e.querySelector(".value").getAttribute("data-value");return t.sortable(i,e,n)})}else{this.listItems.forEach(function(e,n){return t.setRowPosition(e,n)})}};t.prototype.getListItemPosition=function(t){return this.listItems.slice(0,t).reduce(function(t,e){return t+=e.clientHeight},0)};t.prototype.getListItemIndex=function(t){var e=0;var n=0;while(e<t&&n<this.listItems.length){e+=this.listItems[n].clientHeight;n++}return n};t.prototype.validate=function(){var t=true;var e=true;if(this.answers&&this.answers.length){e=this.value.length===this.answers.length}if(this.required&&!e){t=false}if(!this.validity||this.validity!==t){this.validityChanged.emit(t);this.validity=t}return this.validity};t.prototype.updateAnswer=function(){this.value=this.sortables.sort(function(t,e){return t.index-e.index}).map(function(t){return t.value});o(this.value,this)};t.prototype.calcAndShowBadges=function(t,e){var n=this;if(e===void 0){e="active"}t.forEach(function(t,i){n.setBadgeValue(t.querySelector(".badge"),i,e)})};t.prototype.setBadgeValue=function(t,e,n){if(n===void 0){n="active"}t.textContent=(e+1).toString();t.className="badge";t.classList.add(n)};t.prototype.sortable=function(t,e,n){var i=this;var r=e.querySelector(".item-content");var s=e.querySelector(".badge");var o=this.listItems.length;var c={value:t,dragger:null,element:e,index:n,setIndex:null};var l=a.to(r,.3,{boxShadow:"rgba(40, 47, 54, 0.07) 0px 16px 32px 0px",force3D:true,scale:1.1,paused:true});var h=function(t){l.play();t.update()};var f=function(){a.to(e,.3,{y:i.getListItemPosition(c.index)})};var d=function(){l.reverse();f();i.updateAnswer();c.dragger.disable()};var p=function(){i.changeIndex(c,0);i.updateAnswer()};var g=function(t){var e=i.clamp(i.getListItemIndex(t.y),0,o-1);if(e!==c.index){i.changeIndex(c,e)}};var y=new u(e,{onDragStart:function(){h(this)},onRelease:function(){d()},onDrag:function(){g(this)},onClick:function(){p()},cursor:"inherit",type:"y"});y.disable();c.dragger=y;var v=function(t){c.index=t;i.setBadgeValue(s,t);if(!y.isDragging){f()}};c.setIndex=v;this.setRowPosition(e,n);return c};t.prototype.setRowPosition=function(t,e){a.set(t,{y:this.getListItemPosition(e)})};t.prototype.changeIndex=function(t,e){this.arrayMove(this.sortables,t.index,e);this.arrayMove(this.listItems,t.index,e);this.sortables.forEach(function(t,e){return t.setIndex(e)})};t.prototype.arrayMove=function(t,e,n){t.splice(n,0,t.splice(e,1)[0])};t.prototype.clamp=function(t,e,n){return t<e?e:t>n?n:t};t.prototype.renderToggleIcon=function(t){var e=this;if(this.readonly){return}return i("span",{class:"grip",onMouseOver:function(){return e.unlockItem(t)},onTouchStart:function(){return e.unlockItem(t)}},i("yoo-icon",{class:"yo-ranking-toggle"}))};t.prototype.unlockItem=function(t){this.sortables.find(function(e){return e.value===t}).dragger.enable()};t.prototype.renderItem=function(t,e){return i("div",{class:"list-item"},i("div",{class:"item-content"},i("span",{class:"badge"},this.readonly&&e+1),i("span",{class:"value","data-value":t},t),this.renderToggleIcon(t)))};t.prototype.renderItems=function(t){var e=this;return t&&t.length>0&&t.map(function(t,n){return e.renderItem(t,n)})};t.prototype.setOuterContainerHeight=function(){if(this.outerContainerEl){var t=this.listItems.reduce(function(t,e){return t+=e.clientHeight},0);this.outerContainerEl.style.height=t+"px"}};t.prototype.render=function(){var t=this;return i(r,{class:c()},i("div",{class:"outer-container",ref:function(e){return t.outerContainerEl=e}},this.renderItems(this.readonly?this.value:this.values)))};Object.defineProperty(t.prototype,"host",{get:function(){return s(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return".iframe-root{top:0;right:0;bottom:0;left:0;position:absolute;color:var(--black);overflow-y:auto;scrollbar-width:none}.iframe-root yoo-app .wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;height:100%;width:100%}.iframe-root yoo-app .wrapper.center-center{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%}.iframe-root::-webkit-scrollbar{display:none}:host .outer-container{width:100%}:host .list-item{position:absolute;top:0;left:0;width:100%;min-height:45px}:host .list-item.header .item-content .badge,:host .list-item.header .item-content .icon{display:none}:host .list-item.header .item-content .value{padding-top:1em;font-weight:var(--font-weight-03,700)}:host .item-content{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;height:100%;padding:0 0 0 1rem;border-bottom:1px solid var(--stable-40,hsla(0,0%,67.8%,.4));background-color:var(--light,#fff)}:host .item-content span{display:inline-block;max-width:calc(100vw - 120px);margin:.6rem 0;font-size:var(--font-size-04,1.125rem)}:host .item-content .icon,:host .item-content span.grip{display:block;float:right;color:var(--stable,#adadad)}:host .item-content span.grip{margin:0;padding:.6rem 1rem}:host .item-content .value{-ms-flex:1;flex:1}:host .item-content .badge.active,:host .item-content .badge.semiactive{width:1.25rem;height:1.25rem;margin-top:.75rem;margin-right:var(--padding-10,.625rem);float:left;border-radius:50%;background:var(--success,#04cc99);color:var(--light,#fff);font-size:var(--font-size-01,.75rem);line-height:1.25rem;text-align:center;opacity:1}:host .item-content .badge.semiactive{opacity:.5}:host(.boost) .item-content{display:-ms-flexbox;display:flex}:host(.boost) .item-content .icon{margin-left:auto}:host(.boost) .item-content .badge.active,:host(.boost) .item-content .badge.semiactive{min-width:1.25rem;background:var(--danger-light,#f46885)}"},enumerable:true,configurable:true});return t}())}}});